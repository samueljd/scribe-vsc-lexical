import{r as z,a as $s,R as Fp,c as Ki,v as Os,M as Gi,j as Jn,b as jk}from"./vscode.js";var Xk=Object.defineProperty,Yk=(n,e,t)=>e in n?Xk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ee=(n,e,t)=>Yk(n,typeof e!="symbol"?e+"":e,t),qp={exports:{}},Ji={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function Zk(){if(lh)return Ji;lh=1;var n=Fp,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,f,d){var p,v={},m=null,b=null;d!==void 0&&(m=""+d),f.key!==void 0&&(m=""+f.key),f.ref!==void 0&&(b=f.ref);for(p in f)o.call(f,p)&&!l.hasOwnProperty(p)&&(v[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)v[p]===void 0&&(v[p]=f[p]);return{$$typeof:e,type:c,key:m,ref:b,props:v,_owner:s.current}}return Ji.Fragment=t,Ji.jsx=u,Ji.jsxs=u,Ji}qp.exports=Zk();var G=qp.exports;function Bp(n){return{}}const fl={},Qk={},Wp={},xr={},oi={},Hs={},si={},Co={},cu={},po={},go={},Xn={},Fu={},qu={},eT={},Up={},tT={},zp={},nT={},Bu={},Wu={},mo={},rT={},$p={},Uu={},Hp={},Vp={},iT={},oT={},ah={},Kp={},sT={},Gp={},Jp={},lT={},mi={},Eo={},fu={},aT={},jp={},Ls={},Ds={},uT={},cT={},fT={};function dT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var J=dT(function(n){const e=new URLSearchParams;e.append("code",n);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Zt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,hT=Zt&&"documentMode"in document?document.documentMode:null,Ht=Zt&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Qn=Zt&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Vs=!(!Zt||!("InputEvent"in window)||hT)&&"getTargetRanges"in new window.InputEvent("input"),zu=Zt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),dl=Zt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pT=Zt&&/Android/.test(navigator.userAgent),Xp=Zt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),gT=Zt&&pT&&Xp,$u=Zt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Xp,So=1,nr=3,Cr=0,Yp=1,ui=2,mT=0,_T=1,yT=2,Ks=4,Gs=8,vT=240|(3|Ks|Gs),Hu=1,Vu=2,Ku=3,Gu=4,Ju=5,ju=6,hl=zu||dl||$u?" ":"​",On=`

`,bT=Qn?" ":hl,Zp="֑-߿יִ-﷽ﹰ-ﻼ",Qp="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",wT=new RegExp("^[^"+Qp+"]*["+Zp+"]"),xT=new RegExp("^[^"+Zp+"]*["+Qp+"]"),Nn={bold:1,code:16,highlight:128,italic:2,strikethrough:Ks,subscript:32,superscript:64,underline:Gs},kT={directionless:1,unmergeable:2},uh={center:Vu,end:ju,justify:Gu,left:Hu,right:Ku,start:Ju},TT={[Vu]:"center",[ju]:"end",[Gu]:"justify",[Hu]:"left",[Ku]:"right",[Ju]:"start"},CT={normal:0,segmented:2,token:1},ET={[mT]:"normal",[yT]:"segmented",[_T]:"token"};function Js(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[o]of t.matchAll(/\S+/g))e.push(o);return e}const ST=100;let du=!1,Xu=0;function NT(n){Xu=n.timeStamp}function Ga(n,e,t){return e.__lexicalLineBreak===n||n[`__lexicalKey_${t._key}`]!==void 0}function AT(n,e,t){const o=cn(t._window);let s=null,l=null;o!==null&&o.anchorNode===n&&(s=o.anchorOffset,l=o.focusOffset);const u=n.nodeValue;u!==null&&ec(e,u,s,l,!1)}function OT(n,e,t){if(H(n)){const o=n.anchor.getNode();if(o.is(t)&&n.format!==o.getFormat())return!1}return e.nodeType===nr&&t.isAttached()}function eg(n,e,t){du=!0;const o=performance.now()-Xu>ST;try{Ct(n,()=>{const s=Q()||function(m){return m.getEditorState().read(()=>{const b=Q();return b!==null?b.clone():null})}(n),l=new Map,u=n.getRootElement(),c=n._editorState,f=n._blockCursorElement;let d=!1,p="";for(let m=0;m<e.length;m++){const b=e[m],w=b.type,x=b.target;let T=Er(x,c);if(!(T===null&&x!==u||Ne(T))){if(w==="characterData")o&&V(T)&&OT(s,x,T)&&AT(x,T,n);else if(w==="childList"){d=!0;const O=b.addedNodes;for(let D=0;D<O.length;D++){const U=O[D],M=og(U),q=U.parentNode;if(q!=null&&U!==f&&M===null&&(U.nodeName!=="BR"||!Ga(U,q,n))){if(Qn){const B=U.innerText||U.nodeValue;B&&(p+=B)}q.removeChild(U)}}const C=b.removedNodes,A=C.length;if(A>0){let D=0;for(let U=0;U<A;U++){const M=C[U];(M.nodeName==="BR"&&Ga(M,x,n)||f===M)&&(x.appendChild(M),D++)}A!==D&&(x===u&&(T=lg(c)),l.set(x,T))}}}}if(l.size>0)for(const[m,b]of l)if(F(b)){const w=b.getChildrenKeys();let x=m.firstChild;for(let T=0;T<w.length;T++){const O=w[T],C=n.getElementByKey(O);C!==null&&(x==null?(m.appendChild(C),x=C):x!==C&&m.replaceChild(C,x),x=x.nextSibling)}}else V(b)&&b.markDirty();const v=t.takeRecords();if(v.length>0){for(let m=0;m<v.length;m++){const b=v[m],w=b.addedNodes,x=b.target;for(let T=0;T<w.length;T++){const O=w[T],C=O.parentNode;C==null||O.nodeName!=="BR"||Ga(O,x,n)||C.removeChild(O)}}t.takeRecords()}s!==null&&(d&&(s.dirty=!0,un(s)),Qn&&fg(n)&&s.insertRawText(p))})}finally{du=!1}}function tg(n){const e=n._observer;e!==null&&eg(n,e.takeRecords(),e)}function ng(n){(function(e){Xu===0&&ml(e).addEventListener("textInput",NT,!0)})(n),n._observer=new MutationObserver((e,t)=>{eg(n,e,t)})}function ch(n,e){const t=n.__mode,o=n.__format,s=n.__style,l=e.__mode,u=e.__format,c=e.__style;return!(t!==null&&t!==l||o!==null&&o!==u||s!==null&&s!==c)}function fh(n,e){const t=n.mergeWithSibling(e),o=Fe()._normalizedNodes;return o.add(n.__key),o.add(e.__key),t}function dh(n){let e,t,o=n;if(o.__text!==""||!o.isSimpleText()||o.isUnmergeable()){for(;(e=o.getPreviousSibling())!==null&&V(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(ch(e,o)){o=fh(e,o);break}break}e.remove()}for(;(t=o.getNextSibling())!==null&&V(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(ch(o,t)){o=fh(o,t);break}break}t.remove()}}else o.remove()}function rg(n){return hh(n.anchor),hh(n.focus),n}function hh(n){for(;n.type==="element";){const e=n.getNode(),t=n.offset;let o,s;if(t===e.getChildrenSize()?(o=e.getChildAtIndex(t-1),s=!0):(o=e.getChildAtIndex(t),s=!1),V(o)){n.set(o.__key,s?o.getTextContentSize():0,"text");break}if(!F(o))break;n.set(o.__key,s?o.getChildrenSize():0,"element")}}let LT=1;const DT=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function Yu(n){const e=document.activeElement;if(e===null)return!1;const t=e.nodeName;return Ne(Er(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function No(n,e,t){const o=n.getRootElement();try{return o!==null&&o.contains(e)&&o.contains(t)&&e!==null&&!Yu(e)&&ig(e)===n}catch{return!1}}function ig(n){let e=n;for(;e!=null;){const t=e.__lexicalEditor;if(t!=null)return t;e=gl(e)}return null}function Zr(n){return n.isToken()||n.isSegmented()}function IT(n){return n.nodeType===nr}function js(n){let e=n;for(;e!=null;){if(IT(e))return e;e=e.firstChild}return null}function hu(n,e,t){const o=Nn[e];if(t!==null&&(n&o)==(t&o))return n;let s=n^o;return e==="subscript"?s&=~Nn.superscript:e==="superscript"&&(s&=~Nn.subscript),s}function MT(n,e){if(e!=null)return void(n.__key=e);ht(),Dg();const t=Fe(),o=In(),s=""+LT++;o._nodeMap.set(s,n),F(n)?t._dirtyElements.set(s,!0):t._dirtyLeaves.add(s),t._cloneNotNeeded.add(s),t._dirtyType=Yp,n.__key=s}function kr(n){const e=n.getParent();if(e!==null){const t=n.getWritable(),o=e.getWritable(),s=n.getPreviousSibling(),l=n.getNextSibling();if(s===null)if(l!==null){const u=l.getWritable();o.__first=l.__key,u.__prev=null}else o.__first=null;else{const u=s.getWritable();if(l!==null){const c=l.getWritable();c.__prev=u.__key,u.__next=c.__key}else u.__next=null;t.__prev=null}if(l===null)if(s!==null){const u=s.getWritable();o.__last=s.__key,u.__next=null}else o.__last=null;else{const u=l.getWritable();if(s!==null){const c=s.getWritable();c.__next=u.__key,u.__prev=c.__key}else u.__prev=null;t.__next=null}o.__size--,t.__parent=null}}function Xs(n){Dg();const e=n.getLatest(),t=e.__parent,o=In(),s=Fe(),l=o._nodeMap,u=s._dirtyElements;t!==null&&function(f,d,p){let v=f;for(;v!==null;){if(p.has(v))return;const m=d.get(v);if(m===void 0)break;p.set(v,!1),v=m.__parent}}(t,l,u);const c=e.__key;s._dirtyType=Yp,F(n)?u.set(c,!0):s._dirtyLeaves.add(c)}function Ye(n){ht();const e=Fe(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){const o=tt(t);o!==null&&o.getWritable()}if(n!==null){const o=tt(n);o!==null&&o.getWritable()}}}function Yn(){return Do()?null:Fe()._compositionKey}function tt(n,e){const t=(e||In())._nodeMap.get(n);return t===void 0?null:t}function og(n,e){const t=n[`__lexicalKey_${Fe()._key}`];return t!==void 0?tt(t,e):null}function Er(n,e){let t=n;for(;t!=null;){const o=og(t,e);if(o!==null)return o;t=gl(t)}return null}function sg(n){const e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function ph(n){return n.read(()=>Ie().getTextContent())}function Ie(){return lg(In())}function lg(n){return n._nodeMap.get("root")}function un(n){ht();const e=In();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function ni(n){const e=Fe(),t=function(o,s){let l=o;for(;l!=null;){const u=l[`__lexicalKey_${s._key}`];if(u!==void 0)return u;l=gl(l)}return null}(n,e);return t===null?n===e.getRootElement()?tt("root"):null:tt(t)}function gh(n,e){return e?n.getTextContentSize():0}function ag(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function Zu(n){const e=[];let t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function ug(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function cg(n){return n.nodeType===nr?n.nodeValue:null}function Qu(n,e,t){const o=cn(e._window);if(o===null)return;const s=o.anchorNode;let{anchorOffset:l,focusOffset:u}=o;if(s!==null){let c=cg(s);const f=Er(s);if(c!==null&&V(f)){if(c===hl&&t){const d=t.length;c=t,l=d,u=d}c!==null&&ec(f,c,l,u,n)}}}function ec(n,e,t,o,s){let l=n;if(l.isAttached()&&(s||!l.isDirty())){const u=l.isComposing();let c=e;(u||s)&&e[e.length-1]===hl&&(c=e.slice(0,-1));const f=l.getTextContent();if(s||c!==f){if(c===""){if(Ye(null),zu||dl||$u)l.remove();else{const x=Fe();setTimeout(()=>{x.update(()=>{l.isAttached()&&l.remove()})},20)}return}const d=l.getParent(),p=Lo(),v=l.getTextContentSize(),m=Yn(),b=l.getKey();if(l.isToken()||m!==null&&b===m&&!u||H(p)&&(d!==null&&!d.canInsertTextBefore()&&p.anchor.offset===0||p.anchor.key===n.__key&&p.anchor.offset===0&&!l.canInsertTextBefore()&&!u||p.focus.key===n.__key&&p.focus.offset===v&&!l.canInsertTextAfter()&&!u))return void l.markDirty();const w=Q();if(!H(w)||t===null||o===null)return void l.setTextContent(c);if(w.setTextNodeRange(l,t,l,o),l.isSegmented()){const x=Ue(l.getTextContent());l.replace(x),l=x}l.setTextContent(c)}}}function RT(n,e){if(e.isSegmented())return!0;if(!n.isCollapsed())return!1;const t=n.anchor.offset,o=e.getParentOrThrow(),s=e.isToken();return t===0?!e.canInsertTextBefore()||!o.canInsertTextBefore()&&!e.isComposing()||s||function(l){const u=l.getPreviousSibling();return(V(u)||F(u)&&u.isInline())&&!u.canInsertTextAfter()}(e):t===e.getTextContentSize()&&(!e.canInsertTextAfter()||!o.canInsertTextAfter()&&!e.isComposing()||s)}function mh(n){return n==="ArrowLeft"}function _h(n){return n==="ArrowRight"}function no(n,e){return Ht?n:e}function yh(n){return n==="Enter"}function ji(n){return n==="Backspace"}function Xi(n){return n==="Delete"}function vh(n,e,t){return n.toLowerCase()==="a"&&no(e,t)}function PT(){const n=Ie();un(rg(n.select(0,n.getChildrenSize())))}function oo(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const t=n.__lexicalClassNameCache,o=t[e];if(o!==void 0)return o;const s=n[e];if(typeof s=="string"){const l=Js(s);return t[e]=l,l}return s}function tc(n,e,t,o,s){if(t.size===0)return;const l=o.__type,u=o.__key,c=e.get(l);c===void 0&&J(33,l);const f=c.klass;let d=n.get(f);d===void 0&&(d=new Map,n.set(f,d));const p=d.get(u),v=p==="destroyed"&&s==="created";(p===void 0||v)&&d.set(u,v?"updated":s)}function bh(n,e,t){const o=n.getParent();let s=t,l=n;return o!==null&&(e&&t===0?(s=l.getIndexWithinParent(),l=o):e||t!==l.getChildrenSize()||(s=l.getIndexWithinParent()+1,l=o)),l.getChildAtIndex(e?s-1:s)}function _o(n,e){const t=n.offset;if(n.type==="element")return bh(n.getNode(),e,t);{const o=n.getNode();if(e&&t===0||!e&&t===o.getTextContentSize()){const s=e?o.getPreviousSibling():o.getNextSibling();return s===null?bh(o.getParentOrThrow(),e,o.getIndexWithinParent()+(e?0:1)):s}}return null}function fg(n){const e=ml(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function j(n,e,t){return Mg(n,e,t)}function pl(n){return!nt(n)&&!n.isLastChild()&&!n.isInline()}function Ys(n,e){const t=n._keyToDOMMap.get(e);return t===void 0&&J(75,e),t}function gl(n){const e=n.assignedSlot||n.parentElement;return e!==null&&e.nodeType===11?e.host:e}function pu(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function ml(n){const e=n._window;return e===null&&J(78),e}function FT(n){let e=n.getParentOrThrow();for(;e!==null;){if(Ar(e))return e;e=e.getParentOrThrow()}return e}function Ar(n){return nt(n)||F(n)&&n.isShadowRoot()}function $e(n){const e=Fe(),t=n.constructor.getType(),o=e._nodes.get(t);o===void 0&&J(97);const s=o.replace;if(s!==null){const l=s(n);return l instanceof n.constructor||J(98),l}return n}function Ja(n,e){!nt(n.getParent())||F(e)||Ne(e)||J(99)}function ja(n){return(Ne(n)||F(n)&&!n.canBeEmpty())&&!n.isInline()}function nc(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const o=n.parentElement;o!==null&&o.removeChild(n)}function qT(n,e,t){let o=n._blockCursorElement;if(H(t)&&t.isCollapsed()&&t.anchor.type==="element"&&e.contains(document.activeElement)){const s=t.anchor,l=s.getNode(),u=s.offset;let c=!1,f=null;if(u===l.getChildrenSize())ja(l.getChildAtIndex(u-1))&&(c=!0);else{const d=l.getChildAtIndex(u);if(ja(d)){const p=d.getPreviousSibling();(p===null||ja(p))&&(c=!0,f=n.getElementByKey(d.__key))}}if(c){const d=n.getElementByKey(l.__key);return o===null&&(n._blockCursorElement=o=function(p){const v=p.theme,m=document.createElement("div");m.contentEditable="false",m.setAttribute("data-lexical-cursor","true");let b=v.blockCursor;if(b!==void 0){if(typeof b=="string"){const w=Js(b);b=v.blockCursor=w}b!==void 0&&m.classList.add(...b)}return m}(n._config)),e.style.caretColor="transparent",void(f===null?d.appendChild(o):d.insertBefore(o,f))}}o!==null&&nc(o,n,e)}function cn(n){return Zt?(n||window).getSelection():null}function rc(n){return n.nodeType===1}function BT(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function WT(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function Qr(n){if(nt(n)||Ne(n)&&!n.isInline())return!0;if(!F(n)||Ar(n))return!1;const e=n.getFirstChild(),t=e===null||ao(e)||V(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function Xa(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function dg(n,e,t,o,s,l){let u=n.getFirstChild();for(;u!==null;){const c=u.__key;u.__parent===e&&(F(u)&&dg(u,c,t,o,s,l),t.has(c)||l.delete(c),s.push(c)),u=u.getNextSibling()}}let er,at,yo,_l,gu,mu,Sr,Jt,_u,vo,ze="",lt="",Vt=null,Sn="",hg=!1,ic=!1,Us=null;function Zs(n,e){const t=Sr.get(n);if(e!==null){const o=bu(n);o.parentNode===e&&e.removeChild(o)}if(Jt.has(n)||at._keyToDOMMap.delete(n),F(t)){const o=el(t,Sr);yu(o,0,o.length-1,null)}t!==void 0&&tc(vo,yo,_l,t,"destroyed")}function yu(n,e,t,o){let s=e;for(;s<=t;++s){const l=n[s];l!==void 0&&Zs(l,o)}}function br(n,e){n.setProperty("text-align",e)}const UT="40px";function pg(n,e){const t=er.theme.indent;if(typeof t=="string"){const s=n.classList.contains(t);e>0&&!s?n.classList.add(t):e<1&&s&&n.classList.remove(t)}const o=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||UT;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${o})`)}function gg(n,e){const t=n.style;e===0?br(t,""):e===Hu?br(t,"left"):e===Vu?br(t,"center"):e===Ku?br(t,"right"):e===Gu?br(t,"justify"):e===Ju?br(t,"start"):e===ju&&br(t,"end")}function Qs(n,e,t){const o=Jt.get(n);o===void 0&&J(60);const s=o.createDOM(er,at);if(function(l,u,c){const f=c._keyToDOMMap;u["__lexicalKey_"+c._key]=l,f.set(l,u)}(n,s,at),V(o)?s.setAttribute("data-lexical-text","true"):Ne(o)&&s.setAttribute("data-lexical-decorator","true"),F(o)){const l=o.__indent,u=o.__size;if(l!==0&&pg(s,l),u!==0){const f=u-1;(function(d,p,v,m){const b=lt;lt="",vu(d,v,0,p,m,null),_g(v,m),lt=b})(el(o,Jt),f,o,s)}const c=o.__format;c!==0&&gg(s,c),o.isInline()||mg(null,o,s),pl(o)&&(ze+=On,Sn+=On)}else{const l=o.getTextContent();if(Ne(o)){const u=o.decorate(at,er);u!==null&&yg(n,u),s.contentEditable="false"}else V(o)&&(o.isDirectionless()||(lt+=l));ze+=l,Sn+=l}if(e!==null)if(t!=null)e.insertBefore(s,t);else{const l=e.__lexicalLineBreak;l!=null?e.insertBefore(s,l):e.appendChild(s)}return tc(vo,yo,_l,o,"created"),s}function vu(n,e,t,o,s,l){const u=ze;ze="";let c=t;for(;c<=o;++c){Qs(n[c],s,l);const f=Jt.get(n[c]);f!==null&&Vt===null&&V(f)&&(Vt=f.getFormat())}pl(e)&&(ze+=On),s.__lexicalTextContent=ze,ze=u+ze}function wh(n,e){const t=e.get(n);return ao(t)||Ne(t)&&t.isInline()}function mg(n,e,t){const o=n!==null&&(n.__size===0||wh(n.__last,Sr)),s=e.__size===0||wh(e.__last,Jt);if(o){if(!s){const l=t.__lexicalLineBreak;l!=null&&t.removeChild(l),t.__lexicalLineBreak=null}}else if(s){const l=document.createElement("br");t.__lexicalLineBreak=l,t.appendChild(l)}}function _g(n,e){const t=e.__lexicalDirTextContent,o=e.__lexicalDir;if(t!==lt||o!==Us){const l=lt==="",u=l?Us:(s=lt,wT.test(s)?"rtl":xT.test(s)?"ltr":null);if(u!==o){const c=e.classList,f=er.theme;let d=o!==null?f[o]:void 0,p=u!==null?f[u]:void 0;if(d!==void 0){if(typeof d=="string"){const v=Js(d);d=f[o]=v}c.remove(...d)}if(u===null||l&&u==="ltr")e.removeAttribute("dir");else{if(p!==void 0){if(typeof p=="string"){const v=Js(p);p=f[u]=v}p!==void 0&&c.add(...p)}e.dir=u}ic||(n.getWritable().__dir=u)}Us=u,e.__lexicalDirTextContent=lt,e.__lexicalDir=u}var s}function zT(n,e,t){const o=lt;var s;lt="",Vt=null,function(l,u,c){const f=ze,d=l.__size,p=u.__size;if(ze="",d===1&&p===1){const v=l.__first,m=u.__first;if(v===m)ro(v,c);else{const w=bu(v),x=Qs(m,null,null);c.replaceChild(x,w),Zs(v,null)}const b=Jt.get(m);Vt===null&&V(b)&&(Vt=b.getFormat())}else{const v=el(l,Sr),m=el(u,Jt);if(d===0)p!==0&&vu(m,u,0,p-1,c,null);else if(p===0){if(d!==0){const b=c.__lexicalLineBreak==null;yu(v,0,d-1,b?null:c),b&&(c.textContent="")}}else(function(b,w,x,T,O,C){const A=T-1,D=O-1;let U,M,q=(ie=C,ie.firstChild),B=0,$=0;for(var ie;B<=A&&$<=D;){const oe=w[B],de=x[$];if(oe===de)q=Ya(ro(de,C)),B++,$++;else{U===void 0&&(U=new Set(w)),M===void 0&&(M=new Set(x));const pe=M.has(oe),we=U.has(de);if(pe)if(we){const qe=Ys(at,de);qe===q?q=Ya(ro(de,C)):(q!=null?C.insertBefore(qe,q):C.appendChild(qe),ro(de,C)),B++,$++}else Qs(de,C,q),$++;else q=Ya(bu(oe)),Zs(oe,C),B++}const Ae=Jt.get(de);Ae!==null&&Vt===null&&V(Ae)&&(Vt=Ae.getFormat())}const Y=B>A,ve=$>D;if(Y&&!ve){const oe=x[D+1];vu(x,b,$,D,C,oe===void 0?null:at.getElementByKey(oe))}else ve&&!Y&&yu(w,B,A,C)})(u,v,m,d,p,c)}pl(u)&&(ze+=On),c.__lexicalTextContent=ze,ze=f+ze}(n,e,t),_g(e,t),fi(s=e)&&Vt!=null&&Vt!==s.__textFormat&&s.setTextFormat(Vt),lt=o,Vt=null}function el(n,e){const t=[];let o=n.__first;for(;o!==null;){const s=e.get(o);s===void 0&&J(101),t.push(o),o=s.__next}return t}function ro(n,e){const t=Sr.get(n);let o=Jt.get(n);t!==void 0&&o!==void 0||J(61);const s=hg||mu.has(n)||gu.has(n),l=Ys(at,n);if(t===o&&!s){if(F(t)){const u=l.__lexicalTextContent;u!==void 0&&(ze+=u,Sn+=u);const c=l.__lexicalDirTextContent;c!==void 0&&(lt+=c)}else{const u=t.getTextContent();V(t)&&!t.isDirectionless()&&(lt+=u),Sn+=u,ze+=u}return l}if(t!==o&&s&&tc(vo,yo,_l,o,"updated"),o.updateDOM(t,l,er)){const u=Qs(n,null,null);return e===null&&J(62),e.replaceChild(u,l),Zs(n,null),u}if(F(t)&&F(o)){const u=o.__indent;u!==t.__indent&&pg(l,u);const c=o.__format;c!==t.__format&&gg(l,c),s&&(zT(t,o,l),nt(o)||o.isInline()||mg(t,o,l)),pl(o)&&(ze+=On,Sn+=On)}else{const u=o.getTextContent();if(Ne(o)){const c=o.decorate(at,er);c!==null&&yg(n,c)}else V(o)&&!o.isDirectionless()&&(lt+=u);ze+=u,Sn+=u}if(!ic&&nt(o)&&o.__cachedText!==Sn){const u=o.getWritable();u.__cachedText=Sn,o=u}return l}function yg(n,e){let t=at._pendingDecorators;const o=at._decorators;if(t===null){if(o[n]===e)return;t=sg(at)}t[n]=e}function Ya(n){let e=n.nextSibling;return e!==null&&e===at._blockCursorElement&&(e=e.nextSibling),e}function $T(n,e,t,o,s,l){ze="",Sn="",lt="",hg=o===ui,Us=null,at=t,er=t._config,yo=t._nodes,_l=at._listeners.mutation,gu=s,mu=l,Sr=n._nodeMap,Jt=e._nodeMap,ic=e._readOnly,_u=new Map(t._keyToDOMMap);const u=new Map;return vo=u,ro("root",null),at=void 0,yo=void 0,gu=void 0,mu=void 0,Sr=void 0,Jt=void 0,er=void 0,_u=void 0,vo=void 0,u}function bu(n){const e=_u.get(n);return e===void 0&&J(75,n),e}const Cn=Object.freeze({}),wu=30,xu=[["keydown",function(n,e){if(so=n.timeStamp,vg=n.key,e.isComposing())return;const{key:t,shiftKey:o,ctrlKey:s,metaKey:l,altKey:u}=n;j(e,eT,n)||t!=null&&(function(c,f,d,p){return _h(c)&&!f&&!p&&!d}(t,s,u,l)?j(e,Up,n):function(c,f,d,p,v){return _h(c)&&!p&&!d&&(f||v)}(t,s,o,u,l)?j(e,tT,n):function(c,f,d,p){return mh(c)&&!f&&!p&&!d}(t,s,u,l)?j(e,zp,n):function(c,f,d,p,v){return mh(c)&&!p&&!d&&(f||v)}(t,s,o,u,l)?j(e,nT,n):function(c,f,d){return function(p){return p==="ArrowUp"}(c)&&!f&&!d}(t,s,l)?j(e,Bu,n):function(c,f,d){return function(p){return p==="ArrowDown"}(c)&&!f&&!d}(t,s,l)?j(e,Wu,n):function(c,f){return yh(c)&&f}(t,o)?(lo=!0,j(e,mo,n)):function(c){return c===" "}(t)?j(e,rT,n):function(c,f){return Ht&&f&&c.toLowerCase()==="o"}(t,s)?(n.preventDefault(),lo=!0,j(e,oi,!0)):function(c,f){return yh(c)&&!f}(t,o)?(lo=!1,j(e,mo,n)):function(c,f,d,p){return Ht?!f&&!d&&(ji(c)||c.toLowerCase()==="h"&&p):!(p||f||d)&&ji(c)}(t,u,l,s)?ji(t)?j(e,$p,n):(n.preventDefault(),j(e,xr,!0)):function(c){return c==="Escape"}(t)?j(e,Uu,n):function(c,f,d,p,v){return Ht?!(d||p||v)&&(Xi(c)||c.toLowerCase()==="d"&&f):!(f||p||v)&&Xi(c)}(t,s,o,u,l)?Xi(t)?j(e,Hp,n):(n.preventDefault(),j(e,xr,!1)):function(c,f,d){return ji(c)&&(Ht?f:d)}(t,u,s)?(n.preventDefault(),j(e,po,!0)):function(c,f,d){return Xi(c)&&(Ht?f:d)}(t,u,s)?(n.preventDefault(),j(e,po,!1)):function(c,f){return Ht&&f&&ji(c)}(t,l)?(n.preventDefault(),j(e,go,!0)):function(c,f){return Ht&&f&&Xi(c)}(t,l)?(n.preventDefault(),j(e,go,!1)):function(c,f,d,p){return c.toLowerCase()==="b"&&!f&&no(d,p)}(t,u,l,s)?(n.preventDefault(),j(e,Xn,"bold")):function(c,f,d,p){return c.toLowerCase()==="u"&&!f&&no(d,p)}(t,u,l,s)?(n.preventDefault(),j(e,Xn,"underline")):function(c,f,d,p){return c.toLowerCase()==="i"&&!f&&no(d,p)}(t,u,l,s)?(n.preventDefault(),j(e,Xn,"italic")):function(c,f,d,p){return c==="Tab"&&!f&&!d&&!p}(t,u,s,l)?j(e,Vp,n):function(c,f,d,p){return c.toLowerCase()==="z"&&!f&&no(d,p)}(t,o,l,s)?(n.preventDefault(),j(e,Fu,void 0)):function(c,f,d,p){return Ht?c.toLowerCase()==="z"&&d&&f:c.toLowerCase()==="y"&&p||c.toLowerCase()==="z"&&p&&f}(t,o,l,s)?(n.preventDefault(),j(e,qu,void 0)):Gt(e._editorState._selection)?function(c,f,d,p){return!f&&c.toLowerCase()==="c"&&(Ht?d:p)}(t,o,l,s)?(n.preventDefault(),j(e,mi,n)):function(c,f,d,p){return!f&&c.toLowerCase()==="x"&&(Ht?d:p)}(t,o,l,s)?(n.preventDefault(),j(e,Eo,n)):vh(t,l,s)&&(n.preventDefault(),j(e,fu,n)):!Qn&&vh(t,l,s)&&(n.preventDefault(),j(e,fu,n)),function(c,f,d,p){return c||f||d||p}(s,o,u,l)&&j(e,fT,n))}],["pointerdown",function(n,e){const t=n.target,o=n.pointerType;t instanceof Node&&o!=="touch"&&Ct(e,()=>{Ne(Er(t))||(Tu=!0)})}],["compositionstart",function(n,e){Ct(e,()=>{const t=Q();if(H(t)&&!e.isComposing()){const o=t.anchor,s=t.anchor.getNode();Ye(o.key),(n.timeStamp<so+wu||o.type==="element"||!t.isCollapsed()||s.getFormat()!==t.format||V(s)&&s.getStyle()!==t.style)&&j(e,si,bT)}})}],["compositionend",function(n,e){Qn?Yi=!0:Ct(e,()=>{Za(e,n.data)})}],["input",function(n,e){n.stopPropagation(),Ct(e,()=>{const t=Q(),o=n.data,s=kg(n);if(o!=null&&H(t)&&xg(t,s,o,n.timeStamp,!1)){Yi&&(Za(e,o),Yi=!1);const l=t.anchor.getNode(),u=cn(e._window);if(u===null)return;const c=t.isBackward(),f=c?t.anchor.offset:t.focus.offset,d=c?t.focus.offset:t.anchor.offset;Vs&&!t.isCollapsed()&&V(l)&&u.anchorNode!==null&&l.getTextContent().slice(0,f)+o+l.getTextContent().slice(f+d)===cg(u.anchorNode)||j(e,si,o);const p=o.length;Qn&&p>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=p),zu||dl||$u||!e.isComposing()||(so=0,Ye(null))}else Qu(!1,e,o!==null?o:void 0),Yi&&(Za(e,o||void 0),Yi=!1);ht(),tg(Fe())}),ei=null}],["click",function(n,e){Ct(e,()=>{const t=Q(),o=cn(e._window),s=Lo();if(o){if(H(t)){const l=t.anchor,u=l.getNode();l.type==="element"&&l.offset===0&&t.isCollapsed()&&!nt(u)&&Ie().getChildrenSize()===1&&u.getTopLevelElementOrThrow().isEmpty()&&s!==null&&t.is(s)?(o.removeAllRanges(),t.dirty=!0):n.detail===3&&!t.isCollapsed()&&u!==t.focus.getNode()&&(F(u)?u.select(0):u.getParentOrThrow().select(0))}else if(n.pointerType==="touch"){const l=o.anchorNode;if(l!==null){const u=l.nodeType;(u===So||u===nr)&&un(sc(s,o,e,n))}}}j(e,Wp,n)})}],["cut",Cn],["copy",Cn],["dragstart",Cn],["dragover",Cn],["dragend",Cn],["paste",Cn],["focus",Cn],["blur",Cn],["drop",Cn]];Vs&&xu.push(["beforeinput",(n,e)=>function(t,o){const s=t.inputType,l=kg(t);s==="deleteCompositionText"||Qn&&fg(o)||s!=="insertCompositionText"&&Ct(o,()=>{const u=Q();if(s==="deleteContentBackward"){if(u===null){const b=Lo();if(!H(b))return;un(b.clone())}if(H(u)){const b=u.anchor.key===u.focus.key;if(c=t.timeStamp,vg==="MediaLast"&&c<so+wu&&o.isComposing()&&b){if(Ye(null),so=0,setTimeout(()=>{Ct(o,()=>{Ye(null)})},wu),H(u)){const w=u.anchor.getNode();w.markDirty(),u.format=w.getFormat(),V(w)||J(142),u.style=w.getStyle()}}else{Ye(null),t.preventDefault();const w=u.anchor.getNode().getTextContent(),x=u.anchor.offset===0&&u.focus.offset===w.length;gT&&b&&!x||j(o,xr,!0)}return}}var c;if(!H(u))return;const f=t.data;ei!==null&&Qu(!1,o,ei),u.dirty&&ei===null||!u.isCollapsed()||nt(u.anchor.getNode())||l===null||u.applyDOMRange(l),ei=null;const d=u.anchor,p=u.focus,v=d.getNode(),m=p.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(t.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":j(o,si,t);break;case"insertFromComposition":Ye(null),j(o,si,t);break;case"insertLineBreak":Ye(null),j(o,oi,!1);break;case"insertParagraph":Ye(null),lo&&!dl?(lo=!1,j(o,oi,!1)):j(o,Hs,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":j(o,Co,t);break;case"deleteByComposition":(function(b,w){return b!==w||F(b)||F(w)||!b.isToken()||!w.isToken()})(v,m)&&j(o,cu,t);break;case"deleteByDrag":case"deleteByCut":j(o,cu,t);break;case"deleteContent":j(o,xr,!1);break;case"deleteWordBackward":j(o,po,!0);break;case"deleteWordForward":j(o,po,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":j(o,go,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":j(o,go,!1);break;case"formatStrikeThrough":j(o,Xn,"strikethrough");break;case"formatBold":j(o,Xn,"bold");break;case"formatItalic":j(o,Xn,"italic");break;case"formatUnderline":j(o,Xn,"underline");break;case"historyUndo":j(o,Fu,void 0);break;case"historyRedo":j(o,qu,void 0)}else{if(f===`
`)t.preventDefault(),j(o,oi,!1);else if(f===On)t.preventDefault(),j(o,Hs,void 0);else if(f==null&&t.dataTransfer){const b=t.dataTransfer.getData("text/plain");t.preventDefault(),u.insertRawText(b)}else f!=null&&xg(u,l,f,t.timeStamp,!0)?(t.preventDefault(),j(o,si,f)):ei=f;bg=t.timeStamp}})}(n,e)]);let so=0,vg=null,bg=0,ei=null;const tl=new WeakMap;let ku=!1,Tu=!1,lo=!1,Yi=!1,wg=[0,"",0,"root",0];function xg(n,e,t,o,s){const l=n.anchor,u=n.focus,c=l.getNode(),f=Fe(),d=cn(f._window),p=d!==null?d.anchorNode:null,v=l.key,m=f.getElementByKey(v),b=t.length;return v!==u.key||!V(c)||(!s&&(!Vs||bg<o+50)||c.isDirty()&&b<2||ag(t))&&l.offset!==u.offset&&!c.isComposing()||Zr(c)||c.isDirty()&&b>1||(s||!Vs)&&m!==null&&!c.isComposing()&&p!==js(m)||d!==null&&e!==null&&(!e.collapsed||e.startContainer!==d.anchorNode||e.startOffset!==d.anchorOffset)||c.getFormat()!==n.format||c.getStyle()!==n.style||RT(n,c)}function xh(n,e){return n!==null&&n.nodeValue!==null&&n.nodeType===nr&&e!==0&&e!==n.nodeValue.length}function kh(n,e,t){const{anchorNode:o,anchorOffset:s,focusNode:l,focusOffset:u}=n;ku&&(ku=!1,xh(o,s)&&xh(l,u))||Ct(e,()=>{if(!t)return void un(null);if(!No(e,o,l))return;const c=Q();if(H(c)){const f=c.anchor,d=f.getNode();if(c.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(c.dirty=!0);const p=ml(e).event,v=p?p.timeStamp:performance.now(),[m,b,w,x,T]=wg,O=Ie(),C=e.isComposing()===!1&&O.getTextContent()==="";if(v<T+200&&f.offset===w&&f.key===x)c.format=m,c.style=b;else if(f.type==="text")V(d)||J(141),c.format=d.getFormat(),c.style=d.getStyle();else if(f.type==="element"&&!C){const A=f.getNode();A instanceof Rn&&A.getChildrenSize()===0?c.format=A.getTextFormat():c.format=0,c.style=""}}else{const p=f.key,v=c.focus.key,m=c.getNodes(),b=m.length,w=c.isBackward(),x=w?u:s,T=w?s:u,O=w?v:p,C=w?p:v;let A=vT,D=!1;for(let U=0;U<b;U++){const M=m[U],q=M.getTextContentSize();if(V(M)&&q!==0&&!(U===0&&M.__key===O&&x===q||U===b-1&&M.__key===C&&T===0)&&(D=!0,A&=M.getFormat(),A===0))break}c.format=D?A:0}}j(e,fl,void 0)})}function kg(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function Za(n,e){const t=n._compositionKey;if(Ye(null),t!==null&&e!=null){if(e===""){const o=tt(t),s=js(n.getElementByKey(t));return void(s!==null&&s.nodeValue!==null&&V(o)&&ec(o,s.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const o=Q();if(H(o)){const s=o.focus;return o.anchor.set(s.key,s.offset,s.type),void j(n,mo,null)}}}Qu(!0,n,e)}function Tg(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const li=new Map;function Cg(n){const e=n.target,t=cn(e==null?null:e.nodeType===9?e.defaultView:e.ownerDocument.defaultView);if(t===null)return;const o=ig(t.anchorNode);if(o===null)return;Tu&&(Tu=!1,Ct(o,()=>{const d=Lo(),p=t.anchorNode;if(p===null)return;const v=p.nodeType;v!==So&&v!==nr||un(sc(d,t,o,n))}));const s=Zu(o),l=s[s.length-1],u=l._key,c=li.get(u),f=c||l;f!==o&&kh(t,f,!1),kh(t,o,!0),o!==l?li.set(u,o):c&&li.delete(u)}function Th(n){n._lexicalHandled=!0}function Ch(n){return n._lexicalHandled===!0}function HT(n){const e=n.ownerDocument,t=tl.get(e);t===void 0&&J(162);const o=t-1;o>=0||J(164),tl.set(e,o),o===0&&e.removeEventListener("selectionchange",Cg);const s=n.__lexicalEditor;s!=null&&(function(u){if(u._parentEditor!==null){const c=Zu(u),f=c[c.length-1]._key;li.get(f)===u&&li.delete(f)}else li.delete(u._key)}(s),n.__lexicalEditor=null);const l=Tg(n);for(let u=0;u<l.length;u++)l[u]();n.__lexicalEventHandles=[]}function Cu(n,e,t){ht();const o=n.__key,s=n.getParent();if(s===null)return;const l=function(c){const f=Q();if(!H(f)||!F(c))return f;const{anchor:d,focus:p}=f,v=d.getNode(),m=p.getNode();return pu(v,c)&&d.set(c.__key,0,"element"),pu(m,c)&&p.set(c.__key,0,"element"),f}(n);let u=!1;if(H(l)&&e){const c=l.anchor,f=l.focus;c.key===o&&(rl(c,n,s,n.getPreviousSibling(),n.getNextSibling()),u=!0),f.key===o&&(rl(f,n,s,n.getPreviousSibling(),n.getNextSibling()),u=!0)}else Gt(l)&&e&&n.isSelected()&&n.selectPrevious();if(H(l)&&e&&!u){const c=n.getIndexWithinParent();kr(n),nl(l,s,c,-1)}else kr(n);t||Ar(s)||s.canBeEmpty()||!s.isEmpty()||Cu(s,e),e&&nt(s)&&s.isEmpty()&&s.selectEnd()}class yl{static getType(){J(64,this.name)}static clone(e){J(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,MT(this,e)}getType(){return this.__type}isInline(){J(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=tt(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||Q();if(t==null)return!1;const o=t.getNodes().some(s=>s.__key===this.__key);return(V(this)||!H(t)||t.anchor.type!=="element"||t.focus.type!=="element"||t.anchor.key!==t.focus.key||t.anchor.offset!==t.focus.offset)&&o}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),o=0;for(;t!==null;){if(this.is(t))return o;o++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:tt(e)}getParentOrThrow(){const e=this.getParent();return e===null&&J(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(Ar(t))return F(e)||J(138),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&J(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:tt(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let o=t.getFirstChild();for(;o!==null&&!o.is(this);)e.push(o),o=o.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:tt(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=this.getParents(),o=e.getParents();F(this)&&t.unshift(this),F(e)&&o.unshift(e);const s=t.length,l=o.length;if(s===0||l===0||t[s-1]!==o[l-1])return null;const u=new Set(o);for(let c=0;c<s;c++){const f=t[c];if(u.has(f))return f}return null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const t=this.getCommonAncestor(e);let o=0,s=0,l=this;for(;;){const u=l.getParentOrThrow();if(u===t){o=l.getIndexWithinParent();break}l=u}for(l=e;;){const u=l.getParentOrThrow();if(u===t){s=l.getIndexWithinParent();break}l=u}return o<s}isParentOf(e){const t=this.__key;if(t===e.__key)return!1;let o=e;for(;o!==null;){if(o.__key===t)return!0;o=o.getParent()}return!1}getNodesBetween(e){const t=this.isBefore(e),o=[],s=new Set;let l=this;for(;l!==null;){const u=l.__key;if(s.has(u)||(s.add(u),o.push(l)),l===e)break;const c=F(l)?t?l.getFirstChild():l.getLastChild():null;if(c!==null){l=c;continue}const f=t?l.getNextSibling():l.getPreviousSibling();if(f!==null){l=f;continue}const d=l.getParentOrThrow();if(s.has(d.__key)||o.push(d),d===e)break;let p=null,v=d;do{if(v===null&&J(68),p=t?v.getNextSibling():v.getPreviousSibling(),v=v.getParent(),v===null)break;p!==null||s.has(v.__key)||o.push(v)}while(p===null);l=p}return t||o.reverse(),o}isDirty(){const e=Fe()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=tt(this.__key);return e===null&&J(113),e}getWritable(){ht();const e=In(),t=Fe(),o=e._nodeMap,s=this.__key,l=this.getLatest(),u=l.__parent,c=t._cloneNotNeeded,f=Q();if(f!==null&&f.setCachedNodes(null),c.has(s))return Xs(l),l;const d=l.constructor.clone(l);return d.__parent=u,d.__next=l.__next,d.__prev=l.__prev,F(l)&&F(d)?(fi(l)&&fi(d)&&(d.__textFormat=l.__textFormat),d.__first=l.__first,d.__last=l.__last,d.__size=l.__size,d.__indent=l.__indent,d.__format=l.__format,d.__dir=l.__dir):V(l)&&V(d)&&(d.__format=l.__format,d.__style=l.__style,d.__mode=l.__mode,d.__detail=l.__detail),c.add(s),d.__key=s,Xs(d),o.set(s,d),d}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){J(70)}updateDOM(e,t,o){J(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){J(72)}static importJSON(e){J(18,this.name)}static transform(){return null}remove(e){Cu(this,!0,e)}replace(e,t){ht();let o=Q();o!==null&&(o=o.clone()),Ja(this,e);const s=this.getLatest(),l=this.__key,u=e.__key,c=e.getWritable(),f=this.getParentOrThrow().getWritable(),d=f.__size;kr(c);const p=s.getPreviousSibling(),v=s.getNextSibling(),m=s.__prev,b=s.__next,w=s.__parent;if(Cu(s,!1,!0),p===null?f.__first=u:p.getWritable().__next=u,c.__prev=m,v===null?f.__last=u:v.getWritable().__prev=u,c.__next=b,c.__parent=w,f.__size=d,t&&(F(this)&&F(c)||J(139),this.getChildren().forEach(x=>{c.append(x)})),H(o)){un(o);const x=o.anchor,T=o.focus;x.key===l&&Oh(x,c),T.key===l&&Oh(T,c)}return Yn()===l&&Ye(u),c}insertAfter(e,t=!0){ht(),Ja(this,e);const o=this.getWritable(),s=e.getWritable(),l=s.getParent(),u=Q();let c=!1,f=!1;if(l!==null){const b=e.getIndexWithinParent();if(kr(s),H(u)){const w=l.__key,x=u.anchor,T=u.focus;c=x.type==="element"&&x.key===w&&x.offset===b+1,f=T.type==="element"&&T.key===w&&T.offset===b+1}}const d=this.getNextSibling(),p=this.getParentOrThrow().getWritable(),v=s.__key,m=o.__next;if(d===null?p.__last=v:d.getWritable().__prev=v,p.__size++,o.__next=v,s.__next=m,s.__prev=o.__key,s.__parent=o.__parent,t&&H(u)){const b=this.getIndexWithinParent();nl(u,p,b+1);const w=p.__key;c&&u.anchor.set(w,b+2,"element"),f&&u.focus.set(w,b+2,"element")}return e}insertBefore(e,t=!0){ht(),Ja(this,e);const o=this.getWritable(),s=e.getWritable(),l=s.__key;kr(s);const u=this.getPreviousSibling(),c=this.getParentOrThrow().getWritable(),f=o.__prev,d=this.getIndexWithinParent();u===null?c.__first=l:u.getWritable().__next=l,c.__size++,o.__prev=l,s.__prev=f,s.__next=o.__key,s.__parent=o.__parent;const p=Q();return t&&H(p)&&nl(p,this.getParentOrThrow(),d),e}isParentRequired(){return!1}createParentElementNode(){return jt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){ht();const o=this.getPreviousSibling(),s=this.getParentOrThrow();if(o===null)return s.select(0,0);if(F(o))return o.select();if(!V(o)){const l=o.getIndexWithinParent()+1;return s.select(l,l)}return o.select(e,t)}selectNext(e,t){ht();const o=this.getNextSibling(),s=this.getParentOrThrow();if(o===null)return s.select();if(F(o))return o.select(0,0);if(!V(o)){const l=o.getIndexWithinParent();return s.select(l,l)}return o.select(e,t)}markDirty(){this.getWritable()}}class Or extends yl{static getType(){return"linebreak"}static clone(e){return new Or(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>function(t){const o=t.parentElement;if(o!==null){const s=o.firstChild;if(s===t||s.nextSibling===t&&Eh(s)){const l=o.lastChild;if(l===t||l.previousSibling===t&&Eh(l))return!0}}return!1}(e)?null:{conversion:VT,priority:0}}}static importJSON(e){return ci()}exportJSON(){return{type:"linebreak",version:1}}}function VT(n){return{node:ci()}}function ci(){return $e(new Or)}function ao(n){return n instanceof Or}function Eh(n){return n.nodeType===nr&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Qa(n,e){return 16&e?"code":128&e?"mark":32&e?"sub":64&e?"sup":null}function eu(n,e){return 1&e?"strong":2&e?"em":"span"}function Eg(n,e,t,o,s){const l=o.classList;let u=oo(s,"base");u!==void 0&&l.add(...u),u=oo(s,"underlineStrikethrough");let c=!1;const f=e&Gs&&e&Ks;u!==void 0&&(t&Gs&&t&Ks?(c=!0,f||l.add(...u)):f&&l.remove(...u));for(const d in Nn){const p=Nn[d];if(u=oo(s,d),u!==void 0)if(t&p){if(c&&(d==="underline"||d==="strikethrough")){e&p&&l.remove(...u);continue}e&p&&(!f||d!=="underline")&&d!=="strikethrough"||l.add(...u)}else e&p&&l.remove(...u)}}function Sg(n,e,t){const o=e.firstChild,s=t.isComposing(),l=n+(s?hl:"");if(o==null)e.textContent=l;else{const u=o.nodeValue;if(u!==l)if(s||Qn){const[c,f,d]=function(p,v){const m=p.length,b=v.length;let w=0,x=0;for(;w<m&&w<b&&p[w]===v[w];)w++;for(;x+w<m&&x+w<b&&p[m-x-1]===v[b-x-1];)x++;return[w,m-w-x,v.slice(w,b-x)]}(u,l);f!==0&&o.deleteData(c,f),o.insertData(c,d)}else o.nodeValue=l}}function Sh(n,e,t,o,s,l){Sg(s,n,e);const u=l.theme.text;u!==void 0&&Eg(0,0,o,n,u)}function Is(n,e){const t=document.createElement(e);return t.appendChild(n),t}class Qt extends yl{static getType(){return"text"}static clone(e){return new Qt(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return ET[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Yn()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=Nn[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return hu(this.getLatest().__format,e,t)}canHaveFormat(){return!0}createDOM(e,t){const o=this.__format,s=Qa(0,o),l=eu(0,o),u=s===null?l:s,c=document.createElement(u);let f=c;this.hasFormat("code")&&c.setAttribute("spellcheck","false"),s!==null&&(f=document.createElement(l),c.appendChild(f)),Sh(f,this,0,o,this.__text,e);const d=this.__style;return d!==""&&(c.style.cssText=d),c}updateDOM(e,t,o){const s=this.__text,l=e.__format,u=this.__format,c=Qa(0,l),f=Qa(0,u),d=eu(0,l),p=eu(0,u);if((c===null?d:c)!==(f===null?p:f))return!0;if(c===f&&d!==p){const x=t.firstChild;x==null&&J(48);const T=document.createElement(p);return Sh(T,this,0,u,s,o),t.replaceChild(T,x),!1}let v=t;f!==null&&c!==null&&(v=t.firstChild,v==null&&J(49)),Sg(s,v,this);const m=o.theme.text;m!==void 0&&l!==u&&Eg(0,l,u,v,m);const b=e.__style,w=this.__style;return b!==w&&(t.style.cssText=w),!1}static importDOM(){return{"#text":()=>({conversion:jT,priority:0}),b:()=>({conversion:GT,priority:0}),code:()=>({conversion:Kn,priority:0}),em:()=>({conversion:Kn,priority:0}),i:()=>({conversion:Kn,priority:0}),s:()=>({conversion:Kn,priority:0}),span:()=>({conversion:KT,priority:0}),strong:()=>({conversion:Kn,priority:0}),sub:()=>({conversion:Kn,priority:0}),sup:()=>({conversion:Kn,priority:0}),u:()=>({conversion:Kn,priority:0})}}static importJSON(e){const t=Ue(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){let{element:t}=super.exportDOM(e);return t!==null&&rc(t)||J(132),t.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(t=Is(t,"b")),this.hasFormat("italic")&&(t=Is(t,"i")),this.hasFormat("strikethrough")&&(t=Is(t,"s")),this.hasFormat("underline")&&(t=Is(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?Nn[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?kT[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=hu(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=CT[e];if(this.__mode===t)return this;const o=this.getWritable();return o.__mode=t,o}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){ht();let o=e,s=t;const l=Q(),u=this.getTextContent(),c=this.__key;if(typeof u=="string"){const f=u.length;o===void 0&&(o=f),s===void 0&&(s=f)}else o=0,s=0;if(!H(l))return Og(c,o,c,s,"text","text");{const f=Yn();f!==l.anchor.key&&f!==l.focus.key||Ye(c),l.setTextNodeRange(this,o,this,s)}return l}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,o,s){const l=this.getWritable(),u=l.__text,c=o.length;let f=e;f<0&&(f=c+f,f<0&&(f=0));const d=Q();if(s&&H(d)){const v=e+c;d.setTextNodeRange(l,v,l,v)}const p=u.slice(0,f)+o+u.slice(f+t);return l.__text=p,l}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){ht();const t=this.getLatest(),o=t.getTextContent(),s=t.__key,l=Yn(),u=new Set(e),c=[],f=o.length;let d="";for(let q=0;q<f;q++)d!==""&&u.has(q)&&(c.push(d),d=""),d+=o[q];d!==""&&c.push(d);const p=c.length;if(p===0)return[];if(c[0]===o)return[t];const v=c[0],m=t.getParentOrThrow();let b;const w=t.getFormat(),x=t.getStyle(),T=t.__detail;let O=!1;t.isSegmented()?(b=Ue(v),b.__format=w,b.__style=x,b.__detail=T,O=!0):(b=t.getWritable(),b.__text=v);const C=Q(),A=[b];let D=v.length;for(let q=1;q<p;q++){const B=c[q],$=B.length,ie=Ue(B).getWritable();ie.__format=w,ie.__style=x,ie.__detail=T;const Y=ie.__key,ve=D+$;if(H(C)){const oe=C.anchor,de=C.focus;oe.key===s&&oe.type==="text"&&oe.offset>D&&oe.offset<=ve&&(oe.key=Y,oe.offset-=D,C.dirty=!0),de.key===s&&de.type==="text"&&de.offset>D&&de.offset<=ve&&(de.key=Y,de.offset-=D,C.dirty=!0)}l===s&&Ye(Y),D=ve,A.push(ie)}(function(q){const B=q.getPreviousSibling(),$=q.getNextSibling();B!==null&&Xs(B),$!==null&&Xs($)})(this);const U=m.getWritable(),M=this.getIndexWithinParent();return O?(U.splice(M,0,A),this.remove()):U.splice(M,1,A),H(C)&&nl(C,m,M,p-1),A}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||J(50);const o=this.__key,s=e.__key,l=this.__text,u=l.length;Yn()===s&&Ye(o);const c=Q();if(H(c)){const v=c.anchor,m=c.focus;v!==null&&v.key===s&&(Fh(v,t,o,e,u),c.dirty=!0),m!==null&&m.key===s&&(Fh(m,t,o,e,u),c.dirty=!0)}const f=e.__text,d=t?f+l:l+f;this.setTextContent(d);const p=this.getWritable();return e.remove(),p}isTextEntity(){return!1}}function KT(n){return{forChild:oc(n.style),node:null}}function GT(n){const e=n,t=e.style.fontWeight==="normal";return{forChild:oc(e.style,t?void 0:"bold"),node:null}}const Nh=new WeakMap;function JT(n){return n.nodeName==="PRE"||n.nodeType===So&&n.style!==void 0&&n.style.whiteSpace!==void 0&&n.style.whiteSpace.startsWith("pre")}function jT(n){const e=n;n.parentElement===null&&J(129);let t=e.textContent||"";if(function(o){let s,l=o.parentNode;const u=[o];for(;l!==null&&(s=Nh.get(l))===void 0&&!JT(l);)u.push(l),l=l.parentNode;const c=s===void 0?l:s;for(let f=0;f<u.length;f++)Nh.set(u[f],c);return c}(e)!==null){const o=t.split(/(\r?\n|\t)/),s=[],l=o.length;for(let u=0;u<l;u++){const c=o[u];c===`
`||c===`\r
`?s.push(ci()):c==="	"?s.push(Oo()):c!==""&&s.push(Ue(c))}return{node:s}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let o=e,s=!0;for(;o!==null&&(o=Ah(o,!1))!==null;){const l=o.textContent||"";if(l.length>0){/[ \t\n]$/.test(l)&&(t=t.slice(1)),s=!1;break}}s&&(t=t.slice(1))}if(t[t.length-1]===" "){let o=e,s=!0;for(;o!==null&&(o=Ah(o,!0))!==null;)if((o.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:Ue(t)}}function Ah(n,e){let t=n;for(;;){let o;for(;(o=e?t.nextSibling:t.previousSibling)===null;){const l=t.parentElement;if(l===null)return null;t=l}if(t=o,t.nodeType===So){const l=t.style.display;if(l===""&&!BT(t)||l!==""&&!l.startsWith("inline"))return null}let s=t;for(;(s=e?t.firstChild:t.lastChild)!==null;)t=s;if(t.nodeType===nr)return t;if(t.nodeName==="BR")return null}}const XT={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Kn(n){const e=XT[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:oc(n.style,e),node:null}}function Ue(n=""){return $e(new Qt(n))}function V(n){return n instanceof Qt}function oc(n,e){const t=n.fontWeight,o=n.textDecoration.split(" "),s=t==="700"||t==="bold",l=o.includes("line-through"),u=n.fontStyle==="italic",c=o.includes("underline"),f=n.verticalAlign;return d=>(V(d)&&(s&&!d.hasFormat("bold")&&d.toggleFormat("bold"),l&&!d.hasFormat("strikethrough")&&d.toggleFormat("strikethrough"),u&&!d.hasFormat("italic")&&d.toggleFormat("italic"),c&&!d.hasFormat("underline")&&d.toggleFormat("underline"),f!=="sub"||d.hasFormat("subscript")||d.toggleFormat("subscript"),f!=="super"||d.hasFormat("superscript")||d.toggleFormat("superscript"),e&&!d.hasFormat(e)&&d.toggleFormat(e)),d)}class Ao extends Qt{static getType(){return"tab"}static clone(e){const t=new Ao(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}static importJSON(e){const t=Oo();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(e){J(126)}setDetail(e){J(127)}setMode(e){J(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Oo(){return $e(new Ao)}function YT(n){return n instanceof Ao}class ZT{constructor(e,t,o){this._selection=null,this.key=e,this.offset=t,this.type=o}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),o=e.getNode();const s=this.offset,l=e.offset;return F(t)&&(t=t.getDescendantByIndex(s)??t),F(o)&&(o=o.getDescendantByIndex(l)??o),t===o?s<l:t.isBefore(o)}getNode(){const e=tt(this.key);return e===null&&J(20),e}set(e,t,o){const s=this._selection,l=this.key;this.key=e,this.offset=t,this.type=o,Do()||(Yn()===l&&Ye(e),s!==null&&(s.setCachedNodes(null),s.dirty=!0))}}function fn(n,e,t){return new ZT(n,e,t)}function tu(n,e){let t=e.__key,o=n.offset,s="element";if(V(e)){s="text";const l=e.getTextContentSize();o>l&&(o=l)}else if(!F(e)){const l=e.getNextSibling();if(V(l))t=l.__key,o=0,s="text";else{const u=e.getParent();u&&(t=u.__key,o=e.getIndexWithinParent()+1)}}n.set(t,o,s)}function Oh(n,e){if(F(e)){const t=e.getLastDescendant();F(t)||V(t)?tu(n,t):tu(n,e)}else tu(n,e)}function jn(n,e,t,o){n.key=e,n.offset=t,n.type=o}class vl{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Gt(e))return!1;const t=this._nodes,o=e._nodes;return t.size===o.size&&Array.from(t).every(s=>o.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new vl(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),o=t.length,s=t[o-1];let l;if(V(s))l=s.select();else{const u=s.getIndexWithinParent()+1;l=s.getParentOrThrow().select(u,u)}l.insertNodes(e);for(let u=0;u<o;u++)t[u].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,o=[];for(const s of t){const l=tt(s);l!==null&&o.push(l)}return Do()||(this._cachedNodes=o),o}getTextContent(){const e=this.getNodes();let t="";for(let o=0;o<e.length;o++)t+=e[o].getTextContent();return t}}function H(n){return n instanceof rr}class rr{constructor(e,t,o,s){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=o,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!H(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this.anchor,o=this.focus,s=t.isBefore(o),l=s?t:o,u=s?o:t;let c=l.getNode(),f=u.getNode();const d=l.offset,p=u.offset;if(F(c)&&(c=c.getDescendantByIndex(d)??c),F(f)){let m=f.getDescendantByIndex(p);m!==null&&m!==c&&f.getChildAtIndex(p)===m&&(m=m.getPreviousSibling()),f=m??f}let v;return v=c.is(f)?F(c)&&c.getChildrenSize()>0?[]:[c]:c.getNodesBetween(f),Do()||(this._cachedNodes=v),v}setTextNodeRange(e,t,o,s){jn(this.anchor,e.__key,t,"text"),jn(this.focus,o.__key,s,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],o=e[e.length-1],s=this.anchor,l=this.focus,u=s.isBefore(l),[c,f]=Eu(this);let d="",p=!0;for(let v=0;v<e.length;v++){const m=e[v];if(F(m)&&!m.isInline())p||(d+=`
`),p=!m.isEmpty();else if(p=!1,V(m)){let b=m.getTextContent();m===t?m===o?s.type==="element"&&l.type==="element"&&l.offset!==s.offset||(b=c<f?b.slice(c,f):b.slice(f,c)):b=u?b.slice(c):b.slice(f):m===o&&(b=u?b.slice(0,f):b.slice(0,c)),d+=b}else!Ne(m)&&!ao(m)||m===o&&this.isCollapsed()||(d+=m.getTextContent())}return d}applyDOMRange(e){const t=Fe(),o=t.getEditorState()._selection,s=Ag(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,o);if(s===null)return;const[l,u]=s;jn(this.anchor,l.key,l.offset,l.type),jn(this.focus,u.key,u.offset,u.type),this._cachedNodes=null}clone(){const e=this.anchor,t=this.focus;return new rr(fn(e.key,e.offset,e.type),fn(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=hu(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=Nn[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),o=[],s=t.length;for(let l=0;l<s;l++){const u=t[l];u===`
`||u===`\r
`?o.push(ci()):u==="	"?o.push(Oo()):o.push(Ue(u))}this.insertNodes(o)}insertText(e){const t=this.anchor,o=this.focus,s=this.format,l=this.style;let u=t,c=o;!this.isCollapsed()&&o.isBefore(t)&&(u=o,c=t),u.type==="element"&&function(T,O,C,A){const D=T.getNode(),U=D.getChildAtIndex(T.offset),M=Ue(),q=nt(D)?jt().append(M):M;M.setFormat(C),M.setStyle(A),U===null?D.append(q):U.insertBefore(q),T.is(O)&&O.set(M.__key,0,"text"),T.set(M.__key,0,"text")}(u,c,s,l);const f=u.offset;let d=c.offset;const p=this.getNodes(),v=p.length;let m=p[0];V(m)||J(26);const b=m.getTextContent().length,w=m.getParentOrThrow();let x=p[v-1];if(v===1&&c.type==="element"&&(d=b,c.set(u.key,d,"text")),this.isCollapsed()&&f===b&&(m.isSegmented()||m.isToken()||!m.canInsertTextAfter()||!w.canInsertTextAfter()&&m.getNextSibling()===null)){let T=m.getNextSibling();if(V(T)&&T.canInsertTextBefore()&&!Zr(T)||(T=Ue(),T.setFormat(s),w.canInsertTextAfter()?m.insertAfter(T):w.insertAfter(T)),T.select(0,0),m=T,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&f===0&&(m.isSegmented()||m.isToken()||!m.canInsertTextBefore()||!w.canInsertTextBefore()&&m.getPreviousSibling()===null)){let T=m.getPreviousSibling();if(V(T)&&!Zr(T)||(T=Ue(),T.setFormat(s),w.canInsertTextBefore()?m.insertBefore(T):w.insertBefore(T)),T.select(),m=T,e!=="")return void this.insertText(e)}else if(m.isSegmented()&&f!==b){const T=Ue(m.getTextContent());T.setFormat(s),m.replace(T),m=T}else if(!this.isCollapsed()&&e!==""){const T=x.getParent();if(!w.canInsertTextBefore()||!w.canInsertTextAfter()||F(T)&&(!T.canInsertTextBefore()||!T.canInsertTextAfter()))return this.insertText(""),Ng(this.anchor,this.focus,null),void this.insertText(e)}if(v===1){if(m.isToken()){const A=Ue(e);return A.select(),void m.replace(A)}const T=m.getFormat(),O=m.getStyle();if(f!==d||T===s&&O===l){if(YT(m)){const A=Ue(e);return A.setFormat(s),A.setStyle(l),A.select(),void m.replace(A)}}else{if(m.getTextContent()!==""){const A=Ue(e);if(A.setFormat(s),A.setStyle(l),A.select(),f===0)m.insertBefore(A,!1);else{const[D]=m.splitText(f);D.insertAfter(A,!1)}return void(A.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}m.setFormat(s),m.setStyle(l)}const C=d-f;m=m.spliceText(f,C,e,!0),m.getTextContent()===""?m.remove():this.anchor.type==="text"&&(m.isComposing()?this.anchor.offset-=e.length:(this.format=T,this.style=O))}else{const T=new Set([...m.getParentKeys(),...x.getParentKeys()]),O=F(m)?m:m.getParentOrThrow();let C=F(x)?x:x.getParentOrThrow(),A=x;if(!O.is(C)&&C.isInline())do A=C,C=C.getParentOrThrow();while(C.isInline());if(c.type==="text"&&(d!==0||x.getTextContent()==="")||c.type==="element"&&x.getIndexWithinParent()<d)if(V(x)&&!x.isToken()&&d!==x.getTextContentSize()){if(x.isSegmented()){const B=Ue(x.getTextContent());x.replace(B),x=B}nt(c.getNode())||c.type!=="text"||(x=x.spliceText(0,d,"")),T.add(x.__key)}else{const B=x.getParentOrThrow();B.canBeEmpty()||B.getChildrenSize()!==1?x.remove():B.remove()}else T.add(x.__key);const D=C.getChildren(),U=new Set(p),M=O.is(C),q=O.isInline()&&m.getNextSibling()===null?O:m;for(let B=D.length-1;B>=0;B--){const $=D[B];if($.is(m)||F($)&&$.isParentOf(m))break;$.isAttached()&&(!U.has($)||$.is(A)?M||q.insertAfter($,!1):$.remove())}if(!M){let B=C,$=null;for(;B!==null;){const ie=B.getChildren(),Y=ie.length;(Y===0||ie[Y-1].is($))&&(T.delete(B.__key),$=B),B=B.getParent()}}if(m.isToken())if(f===b)m.select();else{const B=Ue(e);B.select(),m.replace(B)}else m=m.spliceText(f,b-f,e,!0),m.getTextContent()===""?m.remove():m.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let B=1;B<v;B++){const $=p[B],ie=$.__key;T.has(ie)||$.remove()}}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())return this.toggleFormat(e),void Ye(null);const t=this.getNodes(),o=[];for(const C of t)V(C)&&o.push(C);const s=o.length;if(s===0)return this.toggleFormat(e),void Ye(null);const l=this.anchor,u=this.focus,c=this.isBackward(),f=c?u:l,d=c?l:u;let p=0,v=o[0],m=f.type==="element"?0:f.offset;if(f.type==="text"&&m===v.getTextContentSize()&&(p=1,v=o[1],m=0),v==null)return;const b=v.getFormatFlags(e,null),w=s-1;let x=o[w];const T=d.type==="text"?d.offset:x.getTextContentSize();if(v.is(x)){if(m===T)return;if(Zr(v)||m===0&&T===v.getTextContentSize())v.setFormat(b);else{const C=v.splitText(m,T),A=m===0?C[0]:C[1];A.setFormat(b),f.type==="text"&&f.set(A.__key,0,"text"),d.type==="text"&&d.set(A.__key,T-m,"text")}return void(this.format=b)}m===0||Zr(v)||([,v]=v.splitText(m),m=0),v.setFormat(b);const O=x.getFormatFlags(e,b);T>0&&(T===x.getTextContentSize()||Zr(x)||([x]=x.splitText(T)),x.setFormat(O));for(let C=p+1;C<w;C++){const A=o[C],D=A.getFormatFlags(e,O);A.setFormat(D)}f.type==="text"&&f.set(v.__key,m,"text"),d.type==="text"&&d.set(x.__key,T,"text"),this.format=b|O}insertNodes(e){if(e.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const w=Q();return H(w)||J(134),w.insertNodes(e)}const t=Xa((this.isBackward()?this.focus:this.anchor).getNode(),Qr),o=e[e.length-1];if("__language"in t&&F(t)){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const w=nu(this);t.splice(w,0,e),o.selectEnd()}return}if(!e.some(w=>(F(w)||Ne(w))&&!w.isInline())){F(t)||J(135);const w=nu(this);return t.splice(w,0,e),void o.selectEnd()}const s=function(w){const x=jt();let T=null;for(let O=0;O<w.length;O++){const C=w[O],A=ao(C);if(A||Ne(C)&&C.isInline()||F(C)&&C.isInline()||V(C)||C.isParentRequired()){if(T===null&&(T=C.createParentElementNode(),x.append(T),A))continue;T!==null&&T.append(C)}else x.append(C),T=null}return x}(e),l=s.getLastDescendant(),u=s.getChildren(),c=w=>"__value"in w&&"__checked"in w,f=!F(t)||!t.isEmpty()?this.insertParagraph():null,d=u[u.length-1];let p=u[0];var v;F(v=p)&&Qr(v)&&!v.isEmpty()&&F(t)&&(!t.isEmpty()||c(t))&&(F(t)||J(135),t.append(...p.getChildren()),p=u[1]),p&&function(w,x,T){const O=x.getParentOrThrow().getLastChild();let C=x;const A=[x];for(;C!==O;)C.getNextSibling()||J(140),C=C.getNextSibling(),A.push(C);let D=w;for(const U of A)D=D.insertAfter(U)}(t,p);const m=Xa(l,Qr);f&&F(m)&&(c(f)||Qr(d))&&(m.append(...f.getChildren()),f.remove()),F(t)&&t.isEmpty()&&t.remove(),l.selectEnd();const b=F(t)?t.getLastChild():null;ao(b)&&m!==t&&b.remove()}insertParagraph(){if(this.anchor.key==="root"){const u=jt();return Ie().splice(this.anchor.offset,0,[u]),u.select(),u}const e=nu(this),t=Xa(this.anchor.getNode(),Qr);F(t)||J(136);const o=t.getChildAtIndex(e),s=o?[o,...o.getNextSiblings()]:[],l=t.insertNewAfter(this,!1);return l?(l.append(...s),l.selectStart(),l):null}insertLineBreak(e){const t=ci();if(this.insertNodes([t]),e){const o=t.getParentOrThrow(),s=t.getIndexWithinParent();o.select(s,s)}}extract(){const e=this.getNodes(),t=e.length,o=t-1,s=this.anchor,l=this.focus;let u=e[0],c=e[o];const[f,d]=Eu(this);if(t===0)return[];if(t===1){if(V(u)&&!this.isCollapsed()){const v=f>d?d:f,m=f>d?f:d,b=u.splitText(v,m),w=v===0?b[0]:b[1];return w!=null?[w]:[]}return[u]}const p=s.isBefore(l);if(V(u)){const v=p?f:d;v===u.getTextContentSize()?e.shift():v!==0&&([,u]=u.splitText(v),e[0]=u)}if(V(c)){const v=c.getTextContent().length,m=p?d:f;m===0?e.pop():m!==v&&([c]=c.splitText(m),e[o]=c)}return e}modify(e,t,o){const s=this.focus,l=this.anchor,u=e==="move",c=_o(s,t);if(Ne(c)&&!c.isIsolated()){if(u&&c.isKeyboardSelectable()){const b=Rh();return b.add(c.__key),void un(b)}const m=t?c.getPreviousSibling():c.getNextSibling();if(V(m)){const b=m.__key,w=t?m.getTextContent().length:0;return s.set(b,w,"text"),void(u&&l.set(b,w,"text"))}{const b=c.getParentOrThrow();let w,x;return F(m)?(x=m.__key,w=t?m.getChildrenSize():0):(w=c.getIndexWithinParent(),x=b.__key,t||w++),s.set(x,w,"element"),void(u&&l.set(x,w,"element"))}}const f=Fe(),d=cn(f._window);if(!d)return;const p=f._blockCursorElement,v=f._rootElement;if(v===null||p===null||!F(c)||c.isInline()||c.canBeEmpty()||nc(p,f,v),function(m,b,w,x){m.modify(b,w,x)}(d,e,t?"backward":"forward",o),d.rangeCount>0){const m=d.getRangeAt(0),b=this.anchor.getNode(),w=nt(b)?b:FT(b);if(this.applyDOMRange(m),this.dirty=!0,!u){const x=this.getNodes(),T=[];let O=!1;for(let C=0;C<x.length;C++){const A=x[C];pu(A,w)?T.push(A):O=!0}if(O&&T.length>0)if(t){const C=T[0];F(C)?C.selectStart():C.getParentOrThrow().selectStart()}else{const C=T[T.length-1];F(C)?C.selectEnd():C.getParentOrThrow().selectEnd()}d.anchorNode===m.startContainer&&d.anchorOffset===m.startOffset||function(C){const A=C.focus,D=C.anchor,U=D.key,M=D.offset,q=D.type;jn(D,A.key,A.offset,A.type),jn(A,U,M,q),C._cachedNodes=null}(this)}}}forwardDeletion(e,t,o){if(!o&&(e.type==="element"&&F(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const s=t.getParent(),l=t.getNextSibling()||(s===null?null:s.getNextSibling());if(F(l)&&l.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const o=this.anchor;let s=o.getNode();if(this.forwardDeletion(o,s,e))return;const l=this.focus,u=_o(l,e);if(Ne(u)&&!u.isIsolated()){if(u.isKeyboardSelectable()&&F(s)&&s.getChildrenSize()===0){s.remove();const c=Rh();c.add(u.__key),un(c)}else u.remove(),Fe().dispatchCommand(fl,void 0);return}if(!e&&F(u)&&F(s)&&s.isEmpty())return s.remove(),void u.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&o.offset===0&&(o.type==="element"?o.getNode():o.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const c=l.type==="text"?l.getNode():null;if(s=o.type==="text"?o.getNode():null,c!==null&&c.isSegmented()){const f=l.offset,d=c.getTextContentSize();if(c.is(s)||e&&f!==d||!e&&f!==0)return void Dh(c,e,f)}else if(s!==null&&s.isSegmented()){const f=o.offset,d=s.getTextContentSize();if(s.is(c)||e&&f!==0||!e&&f!==d)return void Dh(s,e,f)}(function(f,d){const p=f.anchor,v=f.focus,m=p.getNode(),b=v.getNode();if(m===b&&p.type==="text"&&v.type==="text"){const w=p.offset,x=v.offset,T=w<x,O=T?w:x,C=T?x:w,A=C-1;O!==A&&(ag(m.getTextContent().slice(O,C))||(d?v.offset=A:p.offset=A))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const o=this.anchor.getNode();o.isEmpty()&&nt(o.getParent())&&o.getIndexWithinParent()===0&&o.collapseAtStart(this)}}deleteLine(e){if(this.isCollapsed()){const t=this.anchor.type==="element";if(t&&this.insertText(" "),this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character"),t){const o=e?this.anchor:this.focus;o.set(o.key,o.offset+1,o.type)}}this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,o=t.getNode();if(this.forwardDeletion(t,o,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Gt(n){return n instanceof vl}function Lh(n){const e=n.offset;if(n.type==="text")return e;const t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function Eu(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[t,o]=e;return t.type==="element"&&o.type==="element"&&t.key===o.key&&t.offset===o.offset?[0,0]:[Lh(t),Lh(o)]}function Dh(n,e,t){const o=n,s=o.getTextContent().split(/(?=\s)/g),l=s.length;let u=0,c=0;for(let d=0;d<l;d++){const p=d===l-1;if(c=u,u+=s[d].length,e&&u===t||u>t||p){s.splice(d,1),p&&(c=void 0);break}}const f=s.join("").trim();f===""?o.remove():(o.setTextContent(f),o.select(c,c))}function Ih(n,e,t,o){let s,l=e;if(n.nodeType===So){let u=!1;const c=n.childNodes,f=c.length,d=o._blockCursorElement;l===f&&(u=!0,l=f-1);let p=c[l],v=!1;if(p===d)p=c[l+1],v=!0;else if(d!==null){const m=d.parentNode;n===m&&e>Array.prototype.indexOf.call(m.children,d)&&l--}if(s=ni(p),V(s))l=gh(s,u);else{let m=ni(n);if(m===null)return null;if(F(m)){l=Math.min(m.getChildrenSize(),l);let b=m.getChildAtIndex(l);if(F(b)&&function(w,x,T){const O=w.getParent();return T===null||O===null||!O.canBeEmpty()||O!==T.getNode()}(b,0,t)){const w=u?b.getLastDescendant():b.getFirstDescendant();w===null?m=b:(b=w,m=F(b)?b:b.getParentOrThrow()),l=0}V(b)?(s=b,m=null,l=gh(b,u)):b!==m&&u&&!v&&l++}else{const b=m.getIndexWithinParent();l=e===0&&Ne(m)&&ni(n)===m?b:b+1,m=m.getParentOrThrow()}if(F(m))return fn(m.__key,l,"element")}}else s=ni(n);return V(s)?fn(s.__key,l,"text"):null}function Mh(n,e,t){const o=n.offset,s=n.getNode();if(o===0){const l=s.getPreviousSibling(),u=s.getParent();if(e){if((t||!e)&&l===null&&F(u)&&u.isInline()){const c=u.getPreviousSibling();V(c)&&(n.key=c.__key,n.offset=c.getTextContent().length)}}else F(l)&&!t&&l.isInline()?(n.key=l.__key,n.offset=l.getChildrenSize(),n.type="element"):V(l)&&(n.key=l.__key,n.offset=l.getTextContent().length)}else if(o===s.getTextContent().length){const l=s.getNextSibling(),u=s.getParent();if(e&&F(l)&&l.isInline())n.key=l.__key,n.offset=0,n.type="element";else if((t||e)&&l===null&&F(u)&&u.isInline()&&!u.canInsertTextAfter()){const c=u.getNextSibling();V(c)&&(n.key=c.__key,n.offset=0)}}}function Ng(n,e,t){if(n.type==="text"&&e.type==="text"){const o=n.isBefore(e),s=n.is(e);Mh(n,o,s),Mh(e,!o,s),s&&(e.key=n.key,e.offset=n.offset,e.type=n.type);const l=Fe();if(l.isComposing()&&l._compositionKey!==n.key&&H(t)){const u=t.anchor,c=t.focus;jn(n,u.key,u.offset,u.type),jn(e,c.key,c.offset,c.type)}}}function Ag(n,e,t,o,s,l){if(n===null||t===null||!No(s,n,t))return null;const u=Ih(n,e,H(l)?l.anchor:null,s);if(u===null)return null;const c=Ih(t,o,H(l)?l.focus:null,s);if(c===null)return null;if(u.type==="element"&&c.type==="element"){const f=ni(n),d=ni(t);if(Ne(f)&&Ne(d))return null}return Ng(u,c,l),[u,c]}function Su(n){return F(n)&&!n.isInline()}function Og(n,e,t,o,s,l){const u=In(),c=new rr(fn(n,e,s),fn(t,o,l),0,"");return c.dirty=!0,u._selection=c,c}function QT(){const n=fn("root",0,"element"),e=fn("root",0,"element");return new rr(n,e,0,"")}function Rh(){return new vl(new Set)}function sc(n,e,t,o){const s=t._window;if(s===null)return null;const l=o||s.event,u=l?l.type:void 0,c=u==="selectionchange",f=!du&&(c||u==="beforeinput"||u==="compositionstart"||u==="compositionend"||u==="click"&&l&&l.detail===3||u==="drop"||u===void 0);let d,p,v,m;if(H(n)&&!f)return n.clone();if(e===null)return null;if(d=e.anchorNode,p=e.focusNode,v=e.anchorOffset,m=e.focusOffset,c&&H(n)&&!No(t,d,p))return n.clone();const b=Ag(d,v,p,m,t,n);if(b===null)return null;const[w,x]=b;return new rr(w,x,H(n)?n.format:0,H(n)?n.style:"")}function Q(){return In()._selection}function Lo(){return Fe()._editorState._selection}function nl(n,e,t,o=1){const s=n.anchor,l=n.focus,u=s.getNode(),c=l.getNode();if(!e.is(u)&&!e.is(c))return;const f=e.__key;if(n.isCollapsed()){const d=s.offset;if(t<=d&&o>0||t<d&&o<0){const p=Math.max(0,d+o);s.set(f,p,"element"),l.set(f,p,"element"),Ph(n)}}else{const d=n.isBackward(),p=d?l:s,v=p.getNode(),m=d?s:l,b=m.getNode();if(e.is(v)){const w=p.offset;(t<=w&&o>0||t<w&&o<0)&&p.set(f,Math.max(0,w+o),"element")}if(e.is(b)){const w=m.offset;(t<=w&&o>0||t<w&&o<0)&&m.set(f,Math.max(0,w+o),"element")}}Ph(n)}function Ph(n){const e=n.anchor,t=e.offset,o=n.focus,s=o.offset,l=e.getNode(),u=o.getNode();if(n.isCollapsed()){if(!F(l))return;const c=l.getChildrenSize(),f=t>=c,d=f?l.getChildAtIndex(c-1):l.getChildAtIndex(t);if(V(d)){let p=0;f&&(p=d.getTextContentSize()),e.set(d.__key,p,"text"),o.set(d.__key,p,"text")}}else{if(F(l)){const c=l.getChildrenSize(),f=t>=c,d=f?l.getChildAtIndex(c-1):l.getChildAtIndex(t);if(V(d)){let p=0;f&&(p=d.getTextContentSize()),e.set(d.__key,p,"text")}}if(F(u)){const c=u.getChildrenSize(),f=s>=c,d=f?u.getChildAtIndex(c-1):u.getChildAtIndex(s);if(V(d)){let p=0;f&&(p=d.getTextContentSize()),o.set(d.__key,p,"text")}}}}function rl(n,e,t,o,s){let l=null,u=0,c=null;o!==null?(l=o.__key,V(o)?(u=o.getTextContentSize(),c="text"):F(o)&&(u=o.getChildrenSize(),c="element")):s!==null&&(l=s.__key,V(s)?c="text":F(s)&&(c="element")),l!==null&&c!==null?n.set(l,u,c):(u=e.getIndexWithinParent(),u===-1&&(u=t.getChildrenSize()),n.set(t.__key,u,"element"))}function Fh(n,e,t,o,s){n.type==="text"?(n.key=t,e||(n.offset+=s)):n.offset>o.getIndexWithinParent()&&(n.offset-=1)}function eC(n,e,t,o,s,l,u){const c=o.anchorNode,f=o.focusNode,d=o.anchorOffset,p=o.focusOffset,v=document.activeElement;if(s.has("collaboration")&&v!==l||v!==null&&Yu(v))return;if(!H(e))return void(n!==null&&No(t,c,f)&&o.removeAllRanges());const m=e.anchor,b=e.focus,w=m.key,x=b.key,T=Ys(t,w),O=Ys(t,x),C=m.offset,A=b.offset,D=e.format,U=e.style,M=e.isCollapsed();let q=T,B=O,$=!1;if(m.type==="text"){q=js(T);const Ae=m.getNode();$=Ae.getFormat()!==D||Ae.getStyle()!==U}else H(n)&&n.anchor.type==="text"&&($=!0);var ie,Y,ve,oe,de;if(b.type==="text"&&(B=js(O)),q!==null&&B!==null&&(M&&(n===null||$||H(n)&&(n.format!==D||n.style!==U))&&(ie=D,Y=U,ve=C,oe=w,de=performance.now(),wg=[ie,Y,ve,oe,de]),d!==C||p!==A||c!==q||f!==B||o.type==="Range"&&M||(v!==null&&l.contains(v)||l.focus({preventScroll:!0}),m.type==="element"))){try{o.setBaseAndExtent(q,C,B,A)}catch{}if(!s.has("skip-scroll-into-view")&&e.isCollapsed()&&l!==null&&l===document.activeElement){const Ae=e instanceof rr&&e.anchor.type==="element"?q.childNodes[C]||null:o.rangeCount>0?o.getRangeAt(0):null;if(Ae!==null){let pe;if(Ae instanceof Text){const we=document.createRange();we.selectNode(Ae),pe=we.getBoundingClientRect()}else pe=Ae.getBoundingClientRect();(function(we,qe,pn){const tn=pn.ownerDocument,He=tn.defaultView;if(He===null)return;let{top:ki,bottom:Ti}=qe,Lr=0,Pt=0,yt=pn;for(;yt!==null;){const Ci=yt===tn.body;if(Ci)Lr=0,Pt=ml(we).innerHeight;else{const nn=yt.getBoundingClientRect();Lr=nn.top,Pt=nn.bottom}let Ft=0;if(ki<Lr?Ft=-(Lr-ki):Ti>Pt&&(Ft=Ti-Pt),Ft!==0)if(Ci)He.scrollBy(0,Ft);else{const nn=yt.scrollTop;yt.scrollTop+=Ft;const qo=yt.scrollTop-nn;ki-=qo,Ti-=qo}if(Ci)break;yt=gl(yt)}})(t,pe,l)}}ku=!0}}function Lg(n){let e=Q()||Lo();e===null&&(e=Ie().selectEnd()),e.insertNodes(n)}function nu(n){let e=n;n.isCollapsed()||e.removeText();const t=Q();H(t)&&(e=t),H(e)||J(161);const o=e.anchor;let s=o.getNode(),l=o.offset;for(;!Qr(s);)[s,l]=tC(s,l);return l}function tC(n,e){const t=n.getParent();if(!t){const s=jt();return Ie().append(s),s.select(),[Ie(),0]}if(V(n)){const s=n.splitText(e);if(s.length===0)return[t,n.getIndexWithinParent()];const l=e===0?0:1;return[t,s[0].getIndexWithinParent()+l]}if(!F(n)||e===0)return[t,n.getIndexWithinParent()];const o=n.getChildAtIndex(e);if(o){const s=new rr(fn(n.__key,e,"element"),fn(n.__key,e,"element"),0,""),l=n.insertNewAfter(s);l&&l.append(o,...o.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}let Ke=null,Ge=null,gt=!1,ru=!1,zs=0;const qh={characterData:!0,childList:!0,subtree:!0};function Do(){return gt||Ke!==null&&Ke._readOnly}function ht(){gt&&J(13)}function Dg(){zs>99&&J(14)}function In(){return Ke===null&&J(15),Ke}function Fe(){return Ge===null&&J(16),Ge}function nC(){return Ge}function Bh(n,e,t){const o=e.__type,s=function(c,f){const d=c._nodes.get(f);return d===void 0&&J(30,f),d}(n,o);let l=t.get(o);l===void 0&&(l=Array.from(s.transforms),t.set(o,l));const u=l.length;for(let c=0;c<u&&(l[c](e),e.isAttached());c++);}function Wh(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function Ig(n){return lc(n,Fe()._nodes)}function lc(n,e){const t=n.type,o=e.get(t);o===void 0&&J(17,t);const s=o.klass;n.type!==s.getType()&&J(18,s.name);const l=s.importJSON(n),u=n.children;if(F(l)&&Array.isArray(u))for(let c=0;c<u.length;c++){const f=lc(u[c],e);l.append(f)}return l}function Uh(n,e){const t=Ke,o=gt,s=Ge;Ke=n,gt=!0,Ge=null;try{return e()}finally{Ke=t,gt=o,Ge=s}}function Tr(n,e){const t=n._pendingEditorState,o=n._rootElement,s=n._headless||o===null;if(t===null)return;const l=n._editorState,u=l._selection,c=t._selection,f=n._dirtyType!==Cr,d=Ke,p=gt,v=Ge,m=n._updating,b=n._observer;let w=null;if(n._pendingEditorState=null,n._editorState=t,!s&&f&&b!==null){Ge=n,Ke=t,gt=!1,n._updating=!0;try{const M=n._dirtyType,q=n._dirtyElements,B=n._dirtyLeaves;b.disconnect(),w=$T(l,t,n,M,q,B)}catch(M){if(M instanceof Error&&n._onError(M),ru)throw M;return Fg(n,null,o,t),ng(n),n._dirtyType=ui,ru=!0,Tr(n,l),void(ru=!1)}finally{b.observe(o,qh),n._updating=m,Ke=d,gt=p,Ge=v}}t._readOnly||(t._readOnly=!0);const x=n._dirtyLeaves,T=n._dirtyElements,O=n._normalizedNodes,C=n._updateTags,A=n._deferred;f&&(n._dirtyType=Cr,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(M,q){const B=M._decorators;let $=M._pendingDecorators||B;const ie=q._nodeMap;let Y;for(Y in $)ie.has(Y)||($===B&&($=sg(M)),delete $[Y])}(n,t);const D=s?null:cn(n._window);if(n._editable&&D!==null&&(f||c===null||c.dirty)){Ge=n,Ke=t;try{if(b!==null&&b.disconnect(),f||c===null||c.dirty){const M=n._blockCursorElement;M!==null&&nc(M,n,o),eC(u,c,n,D,C,o)}qT(n,o,c),b!==null&&b.observe(o,qh)}finally{Ge=v,Ke=d}}w!==null&&function(M,q,B,$,ie){const Y=Array.from(M._listeners.mutation),ve=Y.length;for(let oe=0;oe<ve;oe++){const[de,Ae]=Y[oe],pe=q.get(Ae);pe!==void 0&&de(pe,{dirtyLeaves:$,prevEditorState:ie,updateTags:B})}}(n,w,C,x,l),H(c)||c===null||u!==null&&u.is(c)||n.dispatchCommand(fl,void 0);const U=n._pendingDecorators;U!==null&&(n._decorators=U,n._pendingDecorators=null,uo("decorator",n,!0,U)),function(M,q,B){const $=ph(q),ie=ph(B);$!==ie&&uo("textcontent",M,!0,ie)}(n,e||l,t),uo("update",n,!0,{dirtyElements:T,dirtyLeaves:x,editorState:t,normalizedNodes:O,prevEditorState:e||l,tags:C}),function(M,q){if(M._deferred=[],q.length!==0){const B=M._updating;M._updating=!0;try{for(let $=0;$<q.length;$++)q[$]()}finally{M._updating=B}}}(n,A),function(M){const q=M._updates;if(q.length!==0){const B=q.shift();if(B){const[$,ie]=B;Rg(M,$,ie)}}}(n)}function uo(n,e,t,...o){const s=e._updating;e._updating=t;try{const l=Array.from(e._listeners[n]);for(let u=0;u<l.length;u++)l[u].apply(null,o)}finally{e._updating=s}}function Mg(n,e,t){if(n._updating===!1||Ge!==n){let s=!1;return n.update(()=>{s=Mg(n,e,t)}),s}const o=Zu(n);for(let s=4;s>=0;s--)for(let l=0;l<o.length;l++){const u=o[l]._commands.get(e);if(u!==void 0){const c=u[s];if(c!==void 0){const f=Array.from(c),d=f.length;for(let p=0;p<d;p++)if(f[p](t,n)===!0)return!0}}}return!1}function zh(n,e){const t=n._updates;let o=e||!1;for(;t.length!==0;){const s=t.shift();if(s){const[l,u]=s;let c,f;u!==void 0&&(c=u.onUpdate,f=u.tag,u.skipTransforms&&(o=!0),c&&n._deferred.push(c),f&&n._updateTags.add(f)),l()}}return o}function Rg(n,e,t){const o=n._updateTags;let s,l,u=!1,c=!1;t!==void 0&&(s=t.onUpdate,l=t.tag,l!=null&&o.add(l),u=t.skipTransforms||!1,c=t.discrete||!1),s&&n._deferred.push(s);const f=n._editorState;let d=n._pendingEditorState,p=!1;(d===null||d._readOnly)&&(d=n._pendingEditorState=new bl(new Map((d||f)._nodeMap)),p=!0),d._flushSync=c;const v=Ke,m=gt,b=Ge,w=n._updating;Ke=d,gt=!1,n._updating=!0,Ge=n;try{p&&(n._headless?f._selection!==null&&(d._selection=f._selection.clone()):d._selection=function(O){const C=O.getEditorState()._selection,A=cn(O._window);return H(C)||C==null?sc(C,A,O,null):C.clone()}(n));const x=n._compositionKey;e(),u=zh(n,u),function(O,C){const A=C.getEditorState()._selection,D=O._selection;if(H(D)){const U=D.anchor,M=D.focus;let q;if(U.type==="text"&&(q=U.getNode(),q.selectionTransform(A,D)),M.type==="text"){const B=M.getNode();q!==B&&B.selectionTransform(A,D)}}}(d,n),n._dirtyType!==Cr&&(u?function(O,C){const A=C._dirtyLeaves,D=O._nodeMap;for(const U of A){const M=D.get(U);V(M)&&M.isAttached()&&M.isSimpleText()&&!M.isUnmergeable()&&dh(M)}}(d,n):function(O,C){const A=C._dirtyLeaves,D=C._dirtyElements,U=O._nodeMap,M=Yn(),q=new Map;let B=A,$=B.size,ie=D,Y=ie.size;for(;$>0||Y>0;){if($>0){C._dirtyLeaves=new Set;for(const ve of B){const oe=U.get(ve);V(oe)&&oe.isAttached()&&oe.isSimpleText()&&!oe.isUnmergeable()&&dh(oe),oe!==void 0&&Wh(oe,M)&&Bh(C,oe,q),A.add(ve)}if(B=C._dirtyLeaves,$=B.size,$>0){zs++;continue}}C._dirtyLeaves=new Set,C._dirtyElements=new Map;for(const ve of ie){const oe=ve[0],de=ve[1];if(oe!=="root"&&!de)continue;const Ae=U.get(oe);Ae!==void 0&&Wh(Ae,M)&&Bh(C,Ae,q),D.set(oe,de)}B=C._dirtyLeaves,$=B.size,ie=C._dirtyElements,Y=ie.size,zs++}C._dirtyLeaves=A,C._dirtyElements=D}(d,n),zh(n),function(O,C,A,D){const U=O._nodeMap,M=C._nodeMap,q=[];for(const[B]of D){const $=M.get(B);$!==void 0&&($.isAttached()||(F($)&&dg($,B,U,M,q,D),U.has(B)||D.delete(B),q.push(B)))}for(const B of q)M.delete(B);for(const B of A){const $=M.get(B);$===void 0||$.isAttached()||(U.has(B)||A.delete(B),M.delete(B))}}(f,d,n._dirtyLeaves,n._dirtyElements)),x!==n._compositionKey&&(d._flushSync=!0);const T=d._selection;if(H(T)){const O=d._nodeMap,C=T.anchor.key,A=T.focus.key;O.get(C)!==void 0&&O.get(A)!==void 0||J(19)}else Gt(T)&&T._nodes.size===0&&(d._selection=null)}catch(x){return x instanceof Error&&n._onError(x),n._pendingEditorState=f,n._dirtyType=ui,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Tr(n)}finally{Ke=v,gt=m,Ge=b,n._updating=w,zs=0}n._dirtyType!==Cr||function(x,T){const O=T.getEditorState()._selection,C=x._selection;if(C!==null){if(C.dirty||!C.is(O))return!0}else if(O!==null)return!0;return!1}(d,n)?d._flushSync?(d._flushSync=!1,Tr(n)):p&&DT(()=>{Tr(n)}):(d._flushSync=!1,p&&(o.clear(),n._deferred=[],n._pendingEditorState=null))}function Ct(n,e,t){n._updating?n._updates.push([e,t]):Rg(n,e,t)}class Mn extends yl{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return TT[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=Fe()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(V(t)&&e.push(t),F(t)){const o=t.getAllTextNodes();e.push(...o)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;F(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;F(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),o=t.length;if(e>=o){const l=t[o-1];return F(l)&&l.getLastDescendant()||l||null}const s=t[e];return F(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:tt(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&J(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:tt(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&J(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let o,s;if(e<t/2){for(o=this.getFirstChild(),s=0;o!==null&&s<=e;){if(s===e)return o;o=o.getNextSibling(),s++}return null}for(o=this.getLastChild(),s=t-1;o!==null&&s>=e;){if(s===e)return o;o=o.getPreviousSibling(),s--}return null}getTextContent(){let e="";const t=this.getChildren(),o=t.length;for(let s=0;s<o;s++){const l=t[s];e+=l.getTextContent(),F(l)&&s!==o-1&&!l.isInline()&&(e+=On)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),o=t.length;for(let s=0;s<o;s++){const l=t[s];e+=l.getTextContentSize(),F(l)&&s!==o-1&&!l.isInline()&&(e+=On.length)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){if(e!==""){const t=uh[e];return!!(this.getFormat()&t)}return!1}select(e,t){ht();const o=Q();let s=e,l=t;const u=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const f=this.getFirstChild();if(V(f)||F(f))return f.select(0,0)}else if(!(e!==void 0&&e!==u||t!==void 0&&t!==u)){const f=this.getLastChild();if(V(f)||F(f))return f.select()}}s===void 0&&(s=u),l===void 0&&(l=u);const c=this.__key;return H(o)?(o.anchor.set(c,s,"element"),o.focus.set(c,l,"element"),o.dirty=!0,o):Og(c,s,c,l,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?uh[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,o){const s=o.length,l=this.getChildrenSize(),u=this.getWritable(),c=u.__key,f=[],d=[],p=this.getChildAtIndex(e+t);let v=null,m=l-t+s;if(e!==0)if(e===l)v=this.getLastChild();else{const w=this.getChildAtIndex(e);w!==null&&(v=w.getPreviousSibling())}if(t>0){let w=v===null?this.getFirstChild():v.getNextSibling();for(let x=0;x<t;x++){w===null&&J(100);const T=w.getNextSibling(),O=w.__key;kr(w.getWritable()),d.push(O),w=T}}let b=v;for(let w=0;w<s;w++){const x=o[w];b!==null&&x.is(b)&&(v=b=b.getPreviousSibling());const T=x.getWritable();T.__parent===c&&m--,kr(T);const O=x.__key;if(b===null)u.__first=O,T.__prev=null;else{const C=b.getWritable();C.__next=O,T.__prev=C.__key}x.__key===c&&J(76),T.__parent=c,f.push(O),b=x}if(e+t===l)b!==null&&(b.getWritable().__next=null,u.__last=b.__key);else if(p!==null){const w=p.getWritable();if(b!==null){const x=b.getWritable();w.__prev=b.__key,x.__next=p.__key}else w.__prev=null}if(u.__size=m,d.length){const w=Q();if(H(w)){const x=new Set(d),T=new Set(f),{anchor:O,focus:C}=w;$h(O,x,T)&&rl(O,O.getNode(),this,v,p),$h(C,x,T)&&rl(C,C.getNode(),this,v,p),m!==0||this.canBeEmpty()||Ar(this)||this.remove()}}return u}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,o){return!1}}function F(n){return n instanceof Mn}function $h(n,e,t){let o=n.getNode();for(;o;){const s=o.__key;if(e.has(s)&&!t.has(s))return!0;o=o.getParent()}return!1}class Io extends yl{constructor(e){super(e)}decorate(e,t){J(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ne(n){return n instanceof Io}class Mo extends Mn{static getType(){return"root"}static clone(){return new Mo}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){J(51)}getTextContent(){const e=this.__cachedText;return!Do()&&Fe()._dirtyType!==Cr||e===null?super.getTextContent():e}remove(){J(52)}replace(e){J(53)}insertBefore(e){J(54)}insertAfter(e){J(55)}updateDOM(e,t){return!1}append(...e){for(let t=0;t<e.length;t++){const o=e[t];F(o)||Ne(o)||J(56)}return super.append(...e)}static importJSON(e){const t=Ie();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function nt(n){return n instanceof Mo}function ac(){return new bl(new Map([["root",new Mo]]))}function Pg(n){const e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&J(130,t.name),F(n)){const o=e.children;Array.isArray(o)||J(59,t.name);const s=n.getChildren();for(let l=0;l<s.length;l++){const u=Pg(s[l]);o.push(u)}}return e}class bl{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return Uh(this,e)}clone(e){const t=new bl(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return Uh(this,()=>({root:Pg(Ie())}))}}class uc extends Mn{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Rn extends Mn{constructor(e){super(e),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}hasTextFormat(e){const t=Nn[e];return!!(this.getTextFormat()&t)}static clone(e){return new Rn(e.__key)}createDOM(e){const t=document.createElement("p"),o=oo(e.theme,"paragraph");return o!==void 0&&t.classList.add(...o),t}updateDOM(e,t,o){return!1}static importDOM(){return{p:e=>({conversion:rC,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&rc(t)){this.isEmpty()&&t.append(document.createElement("br"));const o=this.getFormatType();t.style.textAlign=o;const s=this.getDirection();s&&(t.dir=s);const l=this.getIndent();l>0&&(t.style.textIndent=20*l+"px")}return{element:t}}static importJSON(e){const t=jt();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setTextFormat(e.textFormat),t}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(e,t){const o=jt();o.setTextFormat(e.format);const s=this.getDirection();return o.setDirection(s),o.setFormat(this.getFormatType()),this.insertAfter(o,t),o}collapseAtStart(){const e=this.getChildren();if(e.length===0||V(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function rC(n){const e=jt();if(n.style){e.setFormat(n.style.textAlign);const t=parseInt(n.style.textIndent,10)/20;t>0&&e.setIndent(t)}return{node:e}}function jt(){return $e(new Rn)}function fi(n){return n instanceof Rn}const ye=0,cc=1,iC=4;function Fg(n,e,t,o){const s=n._keyToDOMMap;s.clear(),n._editorState=ac(),n._pendingEditorState=o,n._compositionKey=null,n._dirtyType=Cr,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const l=n._observer;l!==null&&(l.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",s.set("root",t))}function oC(n){const e=n||{},t=nC(),o=e.theme||{},s=n===void 0?t:e.parentEditor||null,l=e.disableEvents||!1,u=ac(),c=e.namespace||(s!==null?s._config.namespace:ug()),f=e.editorState,d=[Mo,Qt,Or,Ao,Rn,uc,...e.nodes||[]],{onError:p,html:v}=e,m=e.editable===void 0||e.editable;let b;if(n===void 0&&t!==null)b=t._nodes;else{b=new Map;for(let x=0;x<d.length;x++){let T=d[x],O=null,C=null;if(typeof T!="function"){const M=T;T=M.replace,O=M.with,C=M.withKlass||null}const A=T.getType(),D=T.transform(),U=new Set;D!==null&&U.add(D),b.set(A,{exportDOM:v&&v.export?v.export.get(T):void 0,klass:T,replace:O,replaceWithKlass:C,transforms:U})}}const w=new sC(u,s,b,{disableEvents:l,namespace:c,theme:o},p||console.error,function(x,T){const O=new Map,C=new Set,A=D=>{Object.keys(D).forEach(U=>{let M=O.get(U);M===void 0&&(M=[],O.set(U,M)),M.push(D[U])})};return x.forEach(D=>{const U=D.klass.importDOM;if(U==null||C.has(U))return;C.add(U);const M=U.call(D.klass);M!==null&&A(M)}),T&&A(T),O}(b,v?v.import:void 0),m);return f!==void 0&&(w._pendingEditorState=f,w._dirtyType=ui),w}class sC{constructor(e,t,o,s,l,u,c){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=o,this._decorators={},this._pendingDecorators=null,this._dirtyType=Cr,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=ug(),this._onError=l,this._htmlConversions=u,this._editable=c,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,o){o===void 0&&J(35);const s=this._commands;s.has(e)||s.set(e,[new Set,new Set,new Set,new Set,new Set]);const l=s.get(e);l===void 0&&J(36,String(e));const u=l[o];return u.add(t),()=>{u.delete(t),l.every(c=>c.size===0)&&s.delete(e)}}registerMutationListener(e,t){let o=this._nodes.get(e.getType());o===void 0&&J(37,e.name);let s=e,l=null;for(;l=o.replaceWithKlass;)s=l,o=this._nodes.get(l.getType()),o===void 0&&J(37,l.name);const u=this._listeners.mutation;return u.set(t,s),()=>{u.delete(t)}}registerNodeTransformToKlass(e,t){const o=e.getType(),s=this._nodes.get(o);return s===void 0&&J(37,e.name),s.transforms.add(t),s}registerNodeTransform(e,t){const o=this.registerNodeTransformToKlass(e,t),s=[o],l=o.replaceWithKlass;if(l!=null){const f=this.registerNodeTransformToKlass(l,t);s.push(f)}var u,c;return u=this,c=e.getType(),Ct(u,()=>{const f=In();if(f.isEmpty())return;if(c==="root")return void Ie().markDirty();const d=f._nodeMap;for(const[,p]of d)p.markDirty()},u._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{s.forEach(f=>f.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return j(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const o=oo(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=e,Fg(this,t,e,s),t!==null&&(this._config.disableEvents||HT(t),o!=null&&t.classList.remove(...o)),e!==null){const l=function(c){const f=c.ownerDocument;return f&&f.defaultView||null}(e),u=e.style;u.userSelect="text",u.whiteSpace="pre-wrap",u.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=l,this._dirtyType=ui,ng(this),this._updateTags.add("history-merge"),Tr(this),this._config.disableEvents||function(c,f){const d=c.ownerDocument,p=tl.get(d);(p===void 0||p<1)&&d.addEventListener("selectionchange",Cg),tl.set(d,(p||0)+1),c.__lexicalEditor=f;const v=Tg(c);for(let m=0;m<xu.length;m++){const[b,w]=xu[m],x=typeof w=="function"?T=>{Ch(T)||(Th(T),(f.isEditable()||b==="click")&&w(T,f))}:T=>{if(Ch(T))return;Th(T);const O=f.isEditable();switch(b){case"cut":return O&&j(f,Eo,T);case"copy":return j(f,mi,T);case"paste":return O&&j(f,Co,T);case"dragstart":return O&&j(f,Gp,T);case"dragover":return O&&j(f,Jp,T);case"dragend":return O&&j(f,lT,T);case"focus":return O&&j(f,uT,T);case"blur":return O&&j(f,cT,T);case"drop":return O&&j(f,Kp,T)}};c.addEventListener(b,x),v.push(()=>{c.removeEventListener(b,x)})}}(e,this),o!=null&&e.classList.add(...o)}else this._editorState=s,this._pendingEditorState=null,this._window=null;uo("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&J(38),tg(this);const o=this._pendingEditorState,s=this._updateTags,l=t!==void 0?t.tag:null;o===null||o.isEmpty()||(l!=null&&s.add(l),Tr(this)),this._pendingEditorState=e,this._dirtyType=ui,this._dirtyElements.set("root",!1),this._compositionKey=null,l!=null&&s.add(l),Tr(this)}parseEditorState(e,t){return function(o,s,l){const u=ac(),c=Ke,f=gt,d=Ge,p=s._dirtyElements,v=s._dirtyLeaves,m=s._cloneNotNeeded,b=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,Ke=u,gt=!1,Ge=s;try{const w=s._nodes;lc(o.root,w),l&&l(),u._readOnly=!0}catch(w){w instanceof Error&&s._onError(w)}finally{s._dirtyElements=p,s._dirtyLeaves=v,s._cloneNotNeeded=m,s._dirtyType=b,Ke=c,gt=f,Ge=d}return u}(typeof e=="string"?JSON.parse(e):e,this,t)}update(e,t){Ct(this,e,t)}focus(e,t={}){const o=this._rootElement;o!==null&&(o.setAttribute("autocapitalize","off"),Ct(this,()=>{const s=Q(),l=Ie();s!==null?s.dirty=!0:l.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?l.selectStart():l.selectEnd())},{onUpdate:()=>{o.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&o.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=cn(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,uo("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}function lC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}lC(function(n){const e=new URLSearchParams;e.append("code",n);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const aC=new Map;function uC(n){const e={},t=n.split(";");for(const o of t)if(o!==""){const[s,l]=o.split(/:([^]+)/);s&&l&&(e[s.trim()]=l.trim())}return e}function qg(n){const e=n.constructor.clone(n);return e.__parent=n.__parent,e.__next=n.__next,e.__prev=n.__prev,F(n)&&F(e)?(o=n,(t=e).__first=o.__first,t.__last=o.__last,t.__size=o.__size,t.__format=o.__format,t.__indent=o.__indent,t.__dir=o.__dir,t):V(n)&&V(e)?function(s,l){return s.__format=l.__format,s.__style=l.__style,s.__mode=l.__mode,s.__detail=l.__detail,s}(e,n):fi(n)&&fi(e)?function(s,l){return s.__textFormat=l.__textFormat,s}(e,n):e;var t,o}function Bg(n,e){const t=n.getStartEndPoints();if(e.isSelected(n)&&!e.isSegmented()&&!e.isToken()&&t!==null){const[o,s]=t,l=n.isBackward(),u=o.getNode(),c=s.getNode(),f=e.is(u),d=e.is(c);if(f||d){const[p,v]=Eu(n),m=u.is(c),b=e.is(l?c:u),w=e.is(l?u:c);let x,T=0;return m?(T=p>v?v:p,x=p>v?p:v):b?(T=l?v:p,x=void 0):w&&(T=0,x=l?p:v),e.__text=e.__text.slice(T,x),e}}return e}function cC(n){const e=n.getStyle(),t=uC(e);aC.set(e,t)}function Hh(n,e){const t=_o(n.focus,e);return Ne(t)&&!t.isIsolated()||F(t)&&!t.isInline()&&!t.canBeEmpty()}function fC(n,e,t,o){n.modify(e?"extend":"move",t,o)}function dC(n){const e=n.anchor.getNode();return(nt(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function Vh(n,e,t){const o=dC(n);fC(n,e,t?!o:o,"character")}function hC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pC=hC(function(n){const e=new URLSearchParams;e.append("code",n);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const fc=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,gC=fc&&"documentMode"in document?document.documentMode:null,mC=fc&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!fc||!("InputEvent"in window)||gC)&&"getTargetRanges"in new window.InputEvent("input");function Wg(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[o]of t.matchAll(/\S+/g))e.push(o);return e}function di(...n){return()=>{n.forEach(e=>e())}}const _C=mC;function iu(n,...e){const t=Wg(...e);t.length>0&&n.classList.add(...t)}function yC(n,...e){const t=Wg(...e);t.length>0&&n.classList.remove(...t)}function vC(n){const e=dc(n,t=>F(t)&&!t.isInline());return F(e)||pC(4,n.__key),e}const dc=(n,e)=>{let t=n;for(;t!==Ie()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function bC(n,e){const t=e();return n.replace(t),t.append(n),t}function wr(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}function wC(n){if(_C)return 1;let e=1;for(;n;)e*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return e}let wl=class Ug extends Mn{static getType(){return"mark"}static clone(e){return new Ug(Array.from(e.__ids),e.__key)}static importDOM(){return null}static importJSON(e){const t=Kh(e.ids);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),ids:this.getIDs(),type:"mark",version:1}}constructor(e,t){super(t),this.__ids=e||[]}createDOM(e){const t=document.createElement("mark");return iu(t,e.theme.mark),this.__ids.length>1&&iu(t,e.theme.markOverlap),t}updateDOM(e,t,o){const s=e.__ids,l=this.__ids,u=s.length,c=l.length,f=o.theme.markOverlap;return u!==c&&(u===1?c===2&&iu(t,f):c===1&&yC(t,f)),!1}hasID(e){const t=this.getIDs();for(let o=0;o<t.length;o++)if(e===t[o])return!0;return!1}getIDs(){const e=this.getLatest();return ou(e)?e.__ids:[]}addID(e){const t=this.getWritable();if(ou(t)){const o=t.__ids;t.__ids=o;for(let s=0;s<o.length;s++)if(e===o[s])return;o.push(e)}}deleteID(e){const t=this.getWritable();if(ou(t)){const o=t.__ids;t.__ids=o;for(let s=0;s<o.length;s++)if(e===o[s])return void o.splice(s,1)}}insertNewAfter(e,t=!0){const o=Kh(this.__ids);return this.insertAfter(o,t),o}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,o){if(!H(t)||o==="html")return!1;const s=t.anchor,l=t.focus,u=s.getNode(),c=l.getNode(),f=t.isBackward()?s.offset-l.offset:l.offset-s.offset;return this.isParentOf(u)&&this.isParentOf(c)&&this.getTextContent().length===f}excludeFromCopy(e){return e!=="clone"}};function Kh(n){return $e(new wl(n))}function ou(n){return n instanceof wl}function xC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kC=xC(function(n){const e=new URLSearchParams;e.append("code",n);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const zg=z.createContext(null);function TC(n,e){let t=null;return{getTheme:function(){return e??(t!=null?t.getTheme():null)}}}function Ze(){const n=z.useContext(zg);return n==null&&kC(8),n}function CC({defaultSelection:n}){const[e]=Ze();return z.useEffect(()=>{e.focus(()=>{const t=document.activeElement,o=e.getRootElement();o===null||t!==null&&o.contains(t)||o.focus({preventScroll:!0})},{defaultSelection:n})},[n,e]),null}const $g=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,EC=$g?z.useLayoutEffect:z.useEffect,Ms={tag:"history-merge"};function SC({initialConfig:n,children:e}){const t=z.useMemo(()=>{const{theme:o,namespace:s,editor__DEPRECATED:l,nodes:u,onError:c,editorState:f,html:d}=n,p=TC(null,o);let v=l||null;if(v===null){const m=oC({editable:n.editable,html:d,namespace:s,nodes:u,onError:b=>c(b,m),theme:o});(function(b,w){if(w!==null){if(w===void 0)b.update(()=>{const x=Ie();if(x.isEmpty()){const T=jt();x.append(T);const O=$g?document.activeElement:null;(Q()!==null||O!==null&&O===b.getRootElement())&&T.select()}},Ms);else if(w!==null)switch(typeof w){case"string":{const x=b.parseEditorState(w);b.setEditorState(x,Ms);break}case"object":b.setEditorState(w,Ms);break;case"function":b.update(()=>{Ie().isEmpty()&&w(b)},Ms)}}})(m,f),v=m}return[v,p]},[]);return EC(()=>{const o=n.editable,[s]=t;s.setEditable(o===void 0||o)},[]),G.jsx(zg.Provider,{value:t,children:e})}const NC=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function AC({ariaActiveDescendant:n,ariaAutoComplete:e,ariaControls:t,ariaDescribedBy:o,ariaExpanded:s,ariaLabel:l,ariaLabelledBy:u,ariaMultiline:c,ariaOwns:f,ariaRequired:d,autoCapitalize:p,className:v,id:m,role:b="textbox",spellCheck:w=!0,style:x,tabIndex:T,"data-testid":O,...C}){const[A]=Ze(),[D,U]=z.useState(!1),M=z.useCallback(q=>{q&&q.ownerDocument&&q.ownerDocument.defaultView&&A.setRootElement(q)},[A]);return NC(()=>(U(A.isEditable()),A.registerEditableListener(q=>{U(q)})),[A]),G.jsx("div",{...C,"aria-activedescendant":D?n:void 0,"aria-autocomplete":D?e:"none","aria-controls":D?t:void 0,"aria-describedby":o,"aria-expanded":D&&b==="combobox"?!!s:void 0,"aria-label":l,"aria-labelledby":u,"aria-multiline":c,"aria-owns":D?f:void 0,"aria-readonly":!D||void 0,"aria-required":d,autoCapitalize:p,className:v,contentEditable:D,"data-testid":O,id:m,ref:M,role:b,spellCheck:w,style:x,tabIndex:T})}function Nu(n,e){return Nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},Nu(n,e)}var Gh={error:null},OC=function(n){var e,t;function o(){for(var l,u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return(l=n.call.apply(n,[this].concat(c))||this).state=Gh,l.resetErrorBoundary=function(){for(var d,p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];l.props.onReset==null||(d=l.props).onReset.apply(d,v),l.reset()},l}t=n,(e=o).prototype=Object.create(t.prototype),e.prototype.constructor=e,Nu(e,t),o.getDerivedStateFromError=function(l){return{error:l}};var s=o.prototype;return s.reset=function(){this.setState(Gh)},s.componentDidCatch=function(l,u){var c,f;(c=(f=this.props).onError)==null||c.call(f,l,u)},s.componentDidUpdate=function(l,u){var c,f,d,p,v=this.state.error,m=this.props.resetKeys;v!==null&&u.error!==null&&((d=l.resetKeys)===void 0&&(d=[]),(p=m)===void 0&&(p=[]),d.length!==p.length||d.some(function(b,w){return!Object.is(b,p[w])}))&&((c=(f=this.props).onResetKeysChange)==null||c.call(f,l.resetKeys,m),this.reset())},s.render=function(){var l=this.state.error,u=this.props,c=u.fallbackRender,f=u.FallbackComponent,d=u.fallback;if(l!==null){var p={error:l,resetErrorBoundary:this.resetErrorBoundary};if(z.isValidElement(d))return d;if(typeof c=="function")return c(p);if(f)return z.createElement(f,p);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},o}(z.Component);function LC({children:n,onError:e}){return G.jsx(OC,{fallback:G.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:n})}const su=0,Au=1,Ou=2,Kt=0,DC=1,Jh=2,IC=3,MC=4;function RC(n,e,t,o,s){if(n===null||t.size===0&&o.size===0&&!s)return Kt;const l=e._selection,u=n._selection;if(s)return DC;if(!(H(l)&&H(u)&&u.isCollapsed()&&l.isCollapsed()))return Kt;const c=function(O,C,A){const D=O._nodeMap,U=[];for(const M of C){const q=D.get(M);q!==void 0&&U.push(q)}for(const[M,q]of A){if(!q)continue;const B=D.get(M);B===void 0||nt(B)||U.push(B)}return U}(e,t,o);if(c.length===0)return Kt;if(c.length>1){const O=e._nodeMap,C=O.get(l.anchor.key),A=O.get(u.anchor.key);return C&&A&&!n._nodeMap.has(C.__key)&&V(C)&&C.__text.length===1&&l.anchor.offset===1?Jh:Kt}const f=c[0],d=n._nodeMap.get(f.__key);if(!V(d)||!V(f)||d.__mode!==f.__mode)return Kt;const p=d.__text,v=f.__text;if(p===v)return Kt;const m=l.anchor,b=u.anchor;if(m.key!==b.key||m.type!=="text")return Kt;const w=m.offset,x=b.offset,T=v.length-p.length;return T===1&&x===w-1?Jh:T===-1&&x===w+1?IC:T===-1&&x===w?MC:Kt}function PC(n,e){let t=Date.now(),o=Kt;return(s,l,u,c,f,d)=>{const p=Date.now();if(d.has("historic"))return o=Kt,t=p,Ou;const v=RC(s,l,c,f,n.isComposing()),m=(()=>{const b=u===null||u.editor===n,w=d.has("history-push");if(!w&&b&&d.has("history-merge"))return su;if(s===null)return Au;const x=l._selection;return c.size>0||f.size>0?w===!1&&v!==Kt&&v===o&&p<t+e&&b||c.size===1&&function(T,O,C){const A=O._nodeMap.get(T),D=C._nodeMap.get(T),U=O._selection,M=C._selection;let q=!1;return H(U)&&H(M)&&(q=U.anchor.type==="element"&&U.focus.type==="element"&&M.anchor.type==="text"&&M.focus.type==="text"),!(q||!V(A)||!V(D))&&A.__type===D.__type&&A.__text===D.__text&&A.__mode===D.__mode&&A.__detail===D.__detail&&A.__style===D.__style&&A.__format===D.__format&&A.__parent===D.__parent}(Array.from(c)[0],s,l)?su:Au:x!==null?su:Ou})();return t=p,o=v,m}}function jh(n){n.undoStack=[],n.redoStack=[],n.current=null}function FC(n,e,t){const o=PC(n,t);return di(n.registerCommand(Fu,()=>(function(s,l){const u=l.redoStack,c=l.undoStack;if(c.length!==0){const f=l.current,d=c.pop();f!==null&&(u.push(f),s.dispatchCommand(Ls,!0)),c.length===0&&s.dispatchCommand(Ds,!1),l.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:"historic"})}}(n,e),!0),ye),n.registerCommand(qu,()=>(function(s,l){const u=l.redoStack,c=l.undoStack;if(u.length!==0){const f=l.current;f!==null&&(c.push(f),s.dispatchCommand(Ds,!0));const d=u.pop();u.length===0&&s.dispatchCommand(Ls,!1),l.current=d||null,d&&d.editor.setEditorState(d.editorState,{tag:"historic"})}}(n,e),!0),ye),n.registerCommand(aT,()=>(jh(e),!1),ye),n.registerCommand(jp,()=>(jh(e),n.dispatchCommand(Ls,!1),n.dispatchCommand(Ds,!1),!0),ye),n.registerUpdateListener(({editorState:s,prevEditorState:l,dirtyLeaves:u,dirtyElements:c,tags:f})=>{const d=e.current,p=e.redoStack,v=e.undoStack,m=d===null?null:d.editorState;if(d!==null&&s===m)return;const b=o(l,s,d,u,c,f);if(b===Au)p.length!==0&&(e.redoStack=[],n.dispatchCommand(Ls,!1)),d!==null&&(v.push({...d}),n.dispatchCommand(Ds,!0));else if(b===Ou)return;e.current={editor:n,editorState:s}}))}function qC(){return{current:null,redoStack:[],undoStack:[]}}function BC({externalHistoryState:n}){const[e]=Ze();return function(t,o,s=1e3){const l=z.useMemo(()=>o||qC(),[o]);z.useEffect(()=>FC(t,l,s),[s,t,l])}(e,n),null}const WC=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function UC({ignoreHistoryMergeTagChange:n=!0,ignoreSelectionChange:e=!1,onChange:t}){const[o]=Ze();return WC(()=>{if(t)return o.registerUpdateListener(({editorState:s,dirtyElements:l,dirtyLeaves:u,prevEditorState:c,tags:f})=>{e&&l.size===0&&u.size===0||n&&f.has("history-merge")||c.isEmpty()||t(s,o,f)})},[o,n,e,t]),null}const zC=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function $C(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function HC(){return function(n){const[e]=Ze(),t=z.useMemo(()=>n(e),[e,n]),o=z.useRef(t.initialValueFn()),[s,l]=z.useState(o.current);return zC(()=>{const{initialValueFn:u,subscribe:c}=t,f=u();return o.current!==f&&(o.current=f,l(f)),c(d=>{o.current=d,l(d)})},[t,n]),s}($C)}function VC(){return Ie().getTextContent()}function KC(n,e=!0){if(n)return!1;let t=VC();return e&&(t=t.trim()),t===""}function GC(n){if(!KC(n,!1))return!1;const e=Ie().getChildren(),t=e.length;if(t>1)return!1;for(let o=0;o<t;o++){const s=e[o];if(Ne(s))return!1;if(F(s)){if(!fi(s)||s.__indent!==0)return!1;const l=s.getChildren(),u=l.length;for(let c=0;c<u;c++){const f=l[o];if(!V(f))return!1}}}return!0}function JC(n){return()=>GC(n)}function jC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}jC(function(n){const e=new URLSearchParams;e.append("code",n);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function XC(n){const e=window.location.origin,t=o=>{if(o.origin!==e)return;const s=n.getRootElement();if(document.activeElement!==s)return;const l=o.data;if(typeof l=="string"){let u;try{u=JSON.parse(l)}catch{return}if(u&&u.protocol==="nuanria_messaging"&&u.type==="request"){const c=u.payload;if(c&&c.functionId==="makeChanges"){const f=c.args;if(f){const[d,p,v,m,b,w]=f;n.update(()=>{const x=Q();if(H(x)){const T=x.anchor;let O=T.getNode(),C=0,A=0;if(V(O)&&d>=0&&p>=0&&(C=d,A=d+p,x.setTextNodeRange(O,C,O,A)),C===A&&v===""||(x.insertRawText(v),O=T.getNode()),V(O)){C=m,A=m+b;const D=O.getTextContentSize();C=C>D?D:C,A=A>D?D:A,x.setTextNodeRange(O,C,O,A)}o.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function YC(n,e){const t=e.body?e.body.childNodes:[];let o=[];const s=[];for(let l=0;l<t.length;l++){const u=t[l];if(!Vg.has(u.nodeName)){const c=Kg(u,n,s,!1);c!==null&&(o=o.concat(c))}}return function(l){for(const u of l)u.getNextSibling()instanceof uc&&u.insertAfter(ci());for(const u of l){const c=u.getChildren();for(const f of c)u.insertBefore(f);u.remove()}}(s),o}function ZC(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),o=Ie().getChildren();for(let s=0;s<o.length;s++)Hg(n,o[s],t,e);return t.innerHTML}function Hg(n,e,t,o=null){let s=o===null||e.isSelected(o);const l=F(e)&&e.excludeFromCopy("html");let u=e;if(o!==null){let b=qg(e);b=V(b)&&o!==null?Bg(o,b):b,u=b}const c=F(u)?u.getChildren():[],f=n._nodes.get(u.getType());let d;d=f&&f.exportDOM!==void 0?f.exportDOM(n,u):u.exportDOM(n);const{element:p,after:v}=d;if(!p)return!1;const m=document.createDocumentFragment();for(let b=0;b<c.length;b++){const w=c[b],x=Hg(n,w,m,o);!s&&F(e)&&x&&e.extractWithChild(w,o,"html")&&(s=!0)}if(s&&!l){if(rc(p)&&p.append(m),t.append(p),v){const b=v.call(u,p);b&&p.replaceWith(b)}}else t.append(m);return s}const Vg=new Set(["STYLE","SCRIPT"]);function Kg(n,e,t,o,s=new Map,l){let u=[];if(Vg.has(n.nodeName))return u;let c=null;const f=function(w,x){const{nodeName:T}=w,O=x._htmlConversions.get(T.toLowerCase());let C=null;if(O!==void 0)for(const A of O){const D=A(w);D!==null&&(C===null||(C.priority||0)<(D.priority||0))&&(C=D)}return C!==null?C.conversion:null}(n,e),d=f?f(n):null;let p=null;if(d!==null){p=d.after;const w=d.node;if(c=Array.isArray(w)?w[w.length-1]:w,c!==null){for(const[,x]of s)if(c=x(c,l),!c)break;c&&u.push(...Array.isArray(w)?w:[c])}d.forChild!=null&&s.set(n.nodeName,d.forChild)}const v=n.childNodes;let m=[];const b=(c==null||!Ar(c))&&(c!=null&&Su(c)||o);for(let w=0;w<v.length;w++)m.push(...Kg(v[w],e,t,b,new Map(s),c));return p!=null&&(m=p(m)),WT(n)&&(m=QC(n,m,b?()=>{const w=new uc;return t.push(w),w}:jt)),c==null?u=u.concat(m):F(c)&&c.append(...m),u}function QC(n,e,t){const o=n.style.textAlign,s=[];let l=[];for(let u=0;u<e.length;u++){const c=e[u];if(Su(c))c.setFormat(o),s.push(c);else if(l.push(c),u===e.length-1||u<e.length-1&&Su(e[u+1])){const f=t();f.setFormat(o),f.append(...l),s.push(f),l=[]}}return s}function eE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var il=eE(function(n){const e=new URLSearchParams;e.append("code",n);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const tE=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Gg=n=>tE?(n||window).getSelection():null;function nE(n){const e=Q();return e==null&&il(166),H(e)&&e.isCollapsed()||e.getNodes().length===0?"":ZC(n,e)}function rE(n){const e=Q();return e==null&&il(166),H(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(iE(n,e))}function Xh(n,e,t){const o=n.getData("application/x-lexical-editor");if(o)try{const u=JSON.parse(o);if(u.namespace===t._config.namespace&&Array.isArray(u.nodes))return Yh(t,oE(u.nodes),e)}catch{}const s=n.getData("text/html");if(s)try{const u=new DOMParser().parseFromString(s,"text/html");return Yh(t,YC(t,u),e)}catch{}const l=n.getData("text/plain")||n.getData("text/uri-list");if(l!=null)if(H(e)){const u=l.split(/(\r?\n|\t)/);u[u.length-1]===""&&u.pop();for(let c=0;c<u.length;c++){const f=Q();if(H(f)){const d=u[c];d===`
`||d===`\r
`?f.insertParagraph():d==="	"?f.insertNodes([Oo()]):f.insertText(d)}}}else e.insertRawText(l)}function Yh(n,e,t){n.dispatchCommand(Qk,{nodes:e,selection:t})||t.insertNodes(e)}function Jg(n,e,t,o=[]){let s=e===null||t.isSelected(e);const l=F(t)&&t.excludeFromCopy("html");let u=t;if(e!==null){let d=qg(t);d=V(d)&&e!==null?Bg(e,d):d,u=d}const c=F(u)?u.getChildren():[],f=function(d){const p=d.exportJSON(),v=d.constructor;if(p.type!==v.getType()&&il(58,v.name),F(d)){const m=p.children;Array.isArray(m)||il(59,v.name)}return p}(u);if(V(u)){const d=u.__text;d.length>0?f.text=d:s=!1}for(let d=0;d<c.length;d++){const p=c[d],v=Jg(n,e,p,f.children);!s&&F(t)&&v&&t.extractWithChild(p,e,"clone")&&(s=!0)}if(s&&!l)o.push(f);else if(Array.isArray(f.children))for(let d=0;d<f.children.length;d++){const p=f.children[d];o.push(p)}return s}function iE(n,e){const t=[],o=Ie().getChildren();for(let s=0;s<o.length;s++)Jg(n,e,o[s],t);return{namespace:n._config.namespace,nodes:t}}function oE(n){const e=[];for(let t=0;t<n.length;t++){const o=n[t],s=Ig(o);V(s)&&cC(s),e.push(s)}return e}let Gr=null;async function Zh(n,e){if(Gr!==null)return!1;if(e!==null)return new Promise((c,f)=>{n.update(()=>{c(Qh(n,e))})});const t=n.getRootElement(),o=n._window==null?window.document:n._window.document,s=Gg(n._window);if(t===null||s===null)return!1;const l=o.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(o.createTextNode("#")),t.append(l);const u=new Range;return u.setStart(l,0),u.setEnd(l,1),s.removeAllRanges(),s.addRange(u),new Promise((c,f)=>{const d=n.registerCommand(mi,p=>(wr(p,ClipboardEvent)&&(d(),Gr!==null&&(window.clearTimeout(Gr),Gr=null),c(Qh(n,p))),!0),iC);Gr=window.setTimeout(()=>{d(),Gr=null,c(!1)},50),o.execCommand("copy"),l.remove()})}function Qh(n,e){const t=Gg(n._window);if(!t)return!1;const o=t.anchorNode,s=t.focusNode;if(o!==null&&s!==null&&!No(n,o,s))return!1;e.preventDefault();const l=e.clipboardData,u=Q();if(l===null||u===null)return!1;const c=nE(n),f=rE(n);let d="";return u!==null&&(d=u.getTextContent()),c!==null&&l.setData("text/html",c),f!==null&&l.setData("application/x-lexical-editor",f),l.setData("text/plain",d),!0}function ep(n,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const _i=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,sE=_i&&"documentMode"in document?document.documentMode:null,lE=!(!_i||!("InputEvent"in window)||sE)&&"getTargetRanges"in new window.InputEvent("input"),aE=_i&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),uE=_i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,cE=_i&&/^(?=.*Chrome).*/i.test(navigator.userAgent),fE=_i&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!cE,tp=Bp();function Rs(n){let e=null;if(wr(n,DragEvent)?e=n.dataTransfer:wr(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const t=e.types,o=t.includes("Files"),s=t.includes("text/html")||t.includes("text/plain");return[o,Array.from(e.files),s]}function np(n){const e=Q();if(!H(e))return!1;const t=new Set,o=e.getNodes();for(let s=0;s<o.length;s++){const l=o[s],u=l.getKey();if(t.has(u))continue;const c=dc(l,d=>F(d)&&!d.isInline());if(c===null)continue;const f=c.getKey();c.canIndent()&&!t.has(f)&&(t.add(f),n(c))}return t.size>0}function Ps(n){const e=Er(n);return Ne(e)}function dE(n){return di(n.registerCommand(Wp,e=>{const t=Q();return!!Gt(t)&&(t.clear(),!0)},0),n.registerCommand(xr,e=>{const t=Q();return!!H(t)&&(t.deleteCharacter(e),!0)},ye),n.registerCommand(po,e=>{const t=Q();return!!H(t)&&(t.deleteWord(e),!0)},ye),n.registerCommand(go,e=>{const t=Q();return!!H(t)&&(t.deleteLine(e),!0)},ye),n.registerCommand(si,e=>{const t=Q();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const o=e.dataTransfer;if(o!=null)Xh(o,t,n);else if(H(t)){const s=e.data;return s&&t.insertText(s),!0}}return!0},ye),n.registerCommand(cu,()=>{const e=Q();return!!H(e)&&(e.removeText(),!0)},ye),n.registerCommand(Xn,e=>{const t=Q();return!!H(t)&&(t.formatText(e),!0)},ye),n.registerCommand(sT,e=>{const t=Q();if(!H(t)&&!Gt(t))return!1;const o=t.getNodes();for(const s of o){const l=dc(s,u=>F(u)&&!u.isInline());l!==null&&l.setFormat(e)}return!0},ye),n.registerCommand(oi,e=>{const t=Q();return!!H(t)&&(t.insertLineBreak(e),!0)},ye),n.registerCommand(Hs,()=>{const e=Q();return!!H(e)&&(e.insertParagraph(),!0)},ye),n.registerCommand(iT,()=>(Lg([Oo()]),!0),ye),n.registerCommand(oT,()=>np(e=>{const t=e.getIndent();e.setIndent(t+1)}),ye),n.registerCommand(ah,()=>np(e=>{const t=e.getIndent();t>0&&e.setIndent(t-1)}),ye),n.registerCommand(Bu,e=>{const t=Q();if(Gt(t)&&!Ps(e.target)){const o=t.getNodes();if(o.length>0)return o[0].selectPrevious(),!0}else if(H(t)){const o=_o(t.focus,!0);if(!e.shiftKey&&Ne(o)&&!o.isIsolated()&&!o.isInline())return o.selectPrevious(),e.preventDefault(),!0}return!1},ye),n.registerCommand(Wu,e=>{const t=Q();if(Gt(t)){const o=t.getNodes();if(o.length>0)return o[0].selectNext(0,0),!0}else if(H(t)){if(function(s){const l=s.focus;return l.key==="root"&&l.offset===Ie().getChildrenSize()}(t))return e.preventDefault(),!0;const o=_o(t.focus,!1);if(!e.shiftKey&&Ne(o)&&!o.isIsolated()&&!o.isInline())return o.selectNext(),e.preventDefault(),!0}return!1},ye),n.registerCommand(zp,e=>{const t=Q();if(Gt(t)){const o=t.getNodes();if(o.length>0)return e.preventDefault(),o[0].selectPrevious(),!0}if(!H(t))return!1;if(Hh(t,!0)){const o=e.shiftKey;return e.preventDefault(),Vh(t,o,!0),!0}return!1},ye),n.registerCommand(Up,e=>{const t=Q();if(Gt(t)&&!Ps(e.target)){const s=t.getNodes();if(s.length>0)return e.preventDefault(),s[0].selectNext(0,0),!0}if(!H(t))return!1;const o=e.shiftKey;return!!Hh(t,!1)&&(e.preventDefault(),Vh(t,o,!1),!0)},ye),n.registerCommand($p,e=>{if(Ps(e.target))return!1;const t=Q();if(!H(t))return!1;e.preventDefault();const{anchor:o}=t,s=o.getNode();return t.isCollapsed()&&o.offset===0&&!nt(s)&&vC(s).getIndent()>0?n.dispatchCommand(ah,void 0):n.dispatchCommand(xr,!0)},ye),n.registerCommand(Hp,e=>{if(Ps(e.target))return!1;const t=Q();return!!H(t)&&(e.preventDefault(),n.dispatchCommand(xr,!1))},ye),n.registerCommand(mo,e=>{const t=Q();if(!H(t))return!1;if(e!==null){if((uE||aE||fE)&&lE)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(oi,!1)}return n.dispatchCommand(Hs,void 0)},ye),n.registerCommand(Uu,()=>{const e=Q();return!!H(e)&&(n.blur(),!0)},ye),n.registerCommand(Kp,e=>{const[,t]=Rs(e);if(t.length>0){const s=ep(e.clientX,e.clientY);if(s!==null){const{offset:l,node:u}=s,c=Er(u);if(c!==null){const f=QT();if(V(c))f.anchor.set(c.getKey(),l,"text"),f.focus.set(c.getKey(),l,"text");else{const p=c.getParentOrThrow().getKey(),v=c.getIndexWithinParent()+1;f.anchor.set(p,v,"element"),f.focus.set(p,v,"element")}const d=rg(f);un(d)}n.dispatchCommand(tp,t)}return e.preventDefault(),!0}const o=Q();return!!H(o)},ye),n.registerCommand(Gp,e=>{const[t]=Rs(e),o=Q();return!(t&&!H(o))},ye),n.registerCommand(Jp,e=>{const[t]=Rs(e),o=Q();if(t&&!H(o))return!1;const s=ep(e.clientX,e.clientY);if(s!==null){const l=Er(s.node);Ne(l)&&e.preventDefault()}return!0},ye),n.registerCommand(fu,()=>(PT(),!0),ye),n.registerCommand(mi,e=>(Zh(n,wr(e,ClipboardEvent)?e:null),!0),ye),n.registerCommand(Eo,e=>(async function(t,o){await Zh(o,wr(t,ClipboardEvent)?t:null),o.update(()=>{const s=Q();H(s)?s.removeText():Gt(s)&&s.getNodes().forEach(l=>l.remove())})}(e,n),!0),ye),n.registerCommand(Co,e=>{const[,t,o]=Rs(e);return t.length>0&&!o?(n.dispatchCommand(tp,t),!0):Yu(e.target)?!1:Q()!==null&&(function(s,l){s.preventDefault(),l.update(()=>{const u=Q(),c=wr(s,InputEvent)||wr(s,KeyboardEvent)?null:s.clipboardData;c!=null&&u!==null&&Xh(c,u,l)},{tag:"paste"})}(e,n),!0)},ye))}const Lu=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;function rp(n){return n.getEditorState().read(JC(n.isComposing()))}function hE({contentEditable:n,placeholder:e,ErrorBoundary:t}){const[o]=Ze(),s=function(l,u){const[c,f]=z.useState(()=>l.getDecorators());return Lu(()=>l.registerDecoratorListener(d=>{$s.flushSync(()=>{f(d)})}),[l]),z.useEffect(()=>{f(l.getDecorators())},[l]),z.useMemo(()=>{const d=[],p=Object.keys(c);for(let v=0;v<p.length;v++){const m=p[v],b=G.jsx(u,{onError:x=>l._onError(x),children:G.jsx(z.Suspense,{fallback:null,children:c[m]})}),w=l.getElementByKey(m);w!==null&&d.push($s.createPortal(b,w,m))}return d},[u,c,l])}(o,t);return function(l){Lu(()=>di(dE(l),XC(l)),[l])}(o),G.jsxs(G.Fragment,{children:[n,G.jsx(pE,{content:e}),s]})}function pE({content:n}){const[e]=Ze(),t=function(s){const[l,u]=z.useState(()=>rp(s));return Lu(()=>{function c(){const f=rp(s);u(f)}return c(),di(s.registerUpdateListener(()=>{c()}),s.registerEditableListener(()=>{c()}))},[s]),l}(e),o=HC();return t?typeof n=="function"?n(o):n:null}const jg=1,ai="ImmutableNoteCallerNode";class ir extends Io{constructor(e,t,o,s){super(s),ee(this,"__caller"),ee(this,"__previewText"),ee(this,"__onClick"),this.__caller=e,this.__previewText=t,this.__onClick=o??(()=>{})}static getType(){return"immutable-note-caller"}static clone(e){const{__caller:t,__previewText:o,__onClick:s,__key:l}=e;return new ir(t,o,s,l)}static importJSON(e){const{caller:t,previewText:o,onClick:s}=e;return gE(t,o,s)}setCaller(e){const t=this.getWritable();t.__caller=e}getCaller(){return this.getLatest().__caller}setPreviewText(e){const t=this.getWritable();t.__previewText=e}getPreviewText(){return this.getLatest().__previewText}setOnClick(e){const t=this.getWritable();t.__onClick=e}getOnClick(){return this.getLatest().__onClick}createDOM(){const e=document.createElement("span");return e.classList.add(this.getType()),e.setAttribute("data-caller",this.__caller),e.setAttribute("data-preview-text",this.__previewText),e}updateDOM(){return!1}decorate(){const e=`${this.__caller}_${this.__previewText}}`.replace(/\s+/g,"").substring(0,25);return G.jsx("button",{onClick:this.__onClick,title:this.__previewText,"data-caller-id":e,children:this.__caller})}exportJSON(){return{type:this.getType(),caller:this.getCaller(),previewText:this.getPreviewText(),onClick:this.getOnClick(),version:jg}}}function gE(n,e,t){return $e(new ir(n,e,t))}function mE(n){return n instanceof ir}var or={},sr={};function _E(n,e,t){if(t===void 0&&(t=Array.prototype),n&&typeof t.find=="function")return t.find.call(n,e);for(var o=0;o<n.length;o++)if(Object.prototype.hasOwnProperty.call(n,o)){var s=n[o];if(e.call(void 0,s,o,n))return s}}function hc(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function yE(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}var Xg=hc({HTML:"text/html",isHTML:function(n){return n===Xg.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Yg=hc({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===Yg.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});sr.assign=yE;sr.find=_E;sr.freeze=hc;sr.MIME_TYPE=Xg;sr.NAMESPACE=Yg;var Zg=sr,ln=Zg.find,bo=Zg.NAMESPACE;function vE(n){return n!==""}function bE(n){return n?n.split(/[\t\n\f\r ]+/).filter(vE):[]}function wE(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function ip(n){if(!n)return[];var e=bE(n);return Object.keys(e.reduce(wE,{}))}function xE(n){return function(e){return n&&n.indexOf(e)!==-1}}function Ro(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function mt(n,e){var t=n.prototype;if(!(t instanceof e)){let o=function(){};o.prototype=e.prototype,o=new o,Ro(t,o),n.prototype=t=o}t.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),t.constructor=n)}var _t={},Xt=_t.ELEMENT_NODE=1,hi=_t.ATTRIBUTE_NODE=2,ol=_t.TEXT_NODE=3,Qg=_t.CDATA_SECTION_NODE=4,em=_t.ENTITY_REFERENCE_NODE=5,kE=_t.ENTITY_NODE=6,tm=_t.PROCESSING_INSTRUCTION_NODE=7,nm=_t.COMMENT_NODE=8,rm=_t.DOCUMENT_NODE=9,im=_t.DOCUMENT_TYPE_NODE=10,Ln=_t.DOCUMENT_FRAGMENT_NODE=11,TE=_t.NOTATION_NODE=12,rt={},Je={};rt.INDEX_SIZE_ERR=(Je[1]="Index size error",1);rt.DOMSTRING_SIZE_ERR=(Je[2]="DOMString size error",2);var pt=rt.HIERARCHY_REQUEST_ERR=(Je[3]="Hierarchy request error",3);rt.WRONG_DOCUMENT_ERR=(Je[4]="Wrong document",4);rt.INVALID_CHARACTER_ERR=(Je[5]="Invalid character",5);rt.NO_DATA_ALLOWED_ERR=(Je[6]="No data allowed",6);rt.NO_MODIFICATION_ALLOWED_ERR=(Je[7]="No modification allowed",7);var om=rt.NOT_FOUND_ERR=(Je[8]="Not found",8);rt.NOT_SUPPORTED_ERR=(Je[9]="Not supported",9);var op=rt.INUSE_ATTRIBUTE_ERR=(Je[10]="Attribute in use",10);rt.INVALID_STATE_ERR=(Je[11]="Invalid state",11);rt.SYNTAX_ERR=(Je[12]="Syntax error",12);rt.INVALID_MODIFICATION_ERR=(Je[13]="Invalid modification",13);rt.NAMESPACE_ERR=(Je[14]="Invalid namespace",14);rt.INVALID_ACCESS_ERR=(Je[15]="Invalid access",15);function Pe(n,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,Je[n]),this.message=Je[n],Error.captureStackTrace&&Error.captureStackTrace(this,Pe);return t.code=n,e&&(this.message=this.message+": "+e),t}Pe.prototype=Error.prototype;Ro(rt,Pe);function An(){}An.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var t=[],o=0;o<this.length;o++)ri(this[o],t,n,e);return t.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function pi(n,e){this._node=n,this._refresh=e,pc(this)}function pc(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var t=n._refresh(n._node);if(_m(n,"length",t.length),!n.$$length||t.length<n.$$length)for(var o=t.length;o in n;o++)Object.prototype.hasOwnProperty.call(n,o)&&delete n[o];Ro(t,n),n._inc=e}}pi.prototype.item=function(n){return pc(this),this[n]||null};mt(pi,An);function sl(){}function sm(n,e){for(var t=n.length;t--;)if(n[t]===e)return t}function sp(n,e,t,o){if(o?e[sm(e,o)]=t:e[e.length++]=t,n){t.ownerElement=n;var s=n.ownerDocument;s&&(o&&um(s,n,o),CE(s,n,t))}}function lp(n,e,t){var o=sm(e,t);if(o>=0){for(var s=e.length-1;o<s;)e[o]=e[++o];if(e.length=s,n){var l=n.ownerDocument;l&&(um(l,n,t),t.ownerElement=null)}}else throw new Pe(om,new Error(n.tagName+"@"+t))}sl.prototype={length:0,item:An.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==n)return t}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new Pe(op);var t=this.getNamedItem(n.nodeName);return sp(this._ownerElement,this,n,t),t},setNamedItemNS:function(n){var e=n.ownerElement,t;if(e&&e!=this._ownerElement)throw new Pe(op);return t=this.getNamedItemNS(n.namespaceURI,n.localName),sp(this._ownerElement,this,n,t),t},removeNamedItem:function(n){var e=this.getNamedItem(n);return lp(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var t=this.getNamedItemNS(n,e);return lp(this._ownerElement,this,t),t},getNamedItemNS:function(n,e){for(var t=this.length;t--;){var o=this[t];if(o.localName==e&&o.namespaceURI==n)return o}return null}};function lm(){}lm.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,t){var o=new Po;if(o.implementation=this,o.childNodes=new An,o.doctype=t||null,t&&o.appendChild(t),e){var s=o.createElementNS(n,e);o.appendChild(s)}return o},createDocumentType:function(n,e,t){var o=new xl;return o.name=n,o.nodeName=n,o.publicId=e||"",o.systemId=t||"",o}};function ke(){}ke.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return ll(this,n,e)},replaceChild:function(n,e){ll(this,n,e,fm),e&&this.removeChild(e)},removeChild:function(n){return cm(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return Du(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==ol&&n.nodeType==ol?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var t=e._nsMap;if(t){for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&t[o]===n)return o}e=e.nodeType==hi?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n];e=e.nodeType==hi?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function am(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}Ro(_t,ke);Ro(_t,ke.prototype);function wo(n,e){if(e(n))return!0;if(n=n.firstChild)do if(wo(n,e))return!0;while(n=n.nextSibling)}function Po(){this.ownerDocument=this}function CE(n,e,t){n&&n._inc++;var o=t.namespaceURI;o===bo.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function um(n,e,t,o){n&&n._inc++;var s=t.namespaceURI;s===bo.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function gc(n,e,t){if(n&&n._inc){n._inc++;var o=e.childNodes;if(t)o[o.length++]=t;else{for(var s=e.firstChild,l=0;s;)o[l++]=s,s=s.nextSibling;o.length=l,delete o[o.length]}}}function cm(n,e){var t=e.previousSibling,o=e.nextSibling;return t?t.nextSibling=o:n.firstChild=o,o?o.previousSibling=t:n.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,gc(n.ownerDocument,n),e}function EE(n){return n&&(n.nodeType===ke.DOCUMENT_NODE||n.nodeType===ke.DOCUMENT_FRAGMENT_NODE||n.nodeType===ke.ELEMENT_NODE)}function SE(n){return n&&(an(n)||mc(n)||Dn(n)||n.nodeType===ke.DOCUMENT_FRAGMENT_NODE||n.nodeType===ke.COMMENT_NODE||n.nodeType===ke.PROCESSING_INSTRUCTION_NODE)}function Dn(n){return n&&n.nodeType===ke.DOCUMENT_TYPE_NODE}function an(n){return n&&n.nodeType===ke.ELEMENT_NODE}function mc(n){return n&&n.nodeType===ke.TEXT_NODE}function ap(n,e){var t=n.childNodes||[];if(ln(t,an)||Dn(e))return!1;var o=ln(t,Dn);return!(e&&o&&t.indexOf(o)>t.indexOf(e))}function up(n,e){var t=n.childNodes||[];function o(l){return an(l)&&l!==e}if(ln(t,o))return!1;var s=ln(t,Dn);return!(e&&s&&t.indexOf(s)>t.indexOf(e))}function NE(n,e,t){if(!EE(n))throw new Pe(pt,"Unexpected parent node type "+n.nodeType);if(t&&t.parentNode!==n)throw new Pe(om,"child not in parent");if(!SE(e)||Dn(e)&&n.nodeType!==ke.DOCUMENT_NODE)throw new Pe(pt,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function AE(n,e,t){var o=n.childNodes||[],s=e.childNodes||[];if(e.nodeType===ke.DOCUMENT_FRAGMENT_NODE){var l=s.filter(an);if(l.length>1||ln(s,mc))throw new Pe(pt,"More than one element or text in fragment");if(l.length===1&&!ap(n,t))throw new Pe(pt,"Element in fragment can not be inserted before doctype")}if(an(e)&&!ap(n,t))throw new Pe(pt,"Only one element can be added and only after doctype");if(Dn(e)){if(ln(o,Dn))throw new Pe(pt,"Only one doctype is allowed");var u=ln(o,an);if(t&&o.indexOf(u)<o.indexOf(t))throw new Pe(pt,"Doctype can only be inserted before an element");if(!t&&u)throw new Pe(pt,"Doctype can not be appended since element is present")}}function fm(n,e,t){var o=n.childNodes||[],s=e.childNodes||[];if(e.nodeType===ke.DOCUMENT_FRAGMENT_NODE){var l=s.filter(an);if(l.length>1||ln(s,mc))throw new Pe(pt,"More than one element or text in fragment");if(l.length===1&&!up(n,t))throw new Pe(pt,"Element in fragment can not be inserted before doctype")}if(an(e)&&!up(n,t))throw new Pe(pt,"Only one element can be added and only after doctype");if(Dn(e)){if(ln(o,function(c){return Dn(c)&&c!==t}))throw new Pe(pt,"Only one doctype is allowed");var u=ln(o,an);if(t&&o.indexOf(u)<o.indexOf(t))throw new Pe(pt,"Doctype can only be inserted before an element")}}function ll(n,e,t,o){NE(n,e,t),n.nodeType===ke.DOCUMENT_NODE&&(o||AE)(n,e,t);var s=e.parentNode;if(s&&s.removeChild(e),e.nodeType===Ln){var l=e.firstChild;if(l==null)return e;var u=e.lastChild}else l=u=e;var c=t?t.previousSibling:n.lastChild;l.previousSibling=c,u.nextSibling=t,c?c.nextSibling=l:n.firstChild=l,t==null?n.lastChild=u:t.previousSibling=u;do l.parentNode=n;while(l!==u&&(l=l.nextSibling));return gc(n.ownerDocument||n,n),e.nodeType==Ln&&(e.firstChild=e.lastChild=null),e}function OE(n,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,gc(n.ownerDocument,n,e),e}Po.prototype={nodeName:"#document",nodeType:rm,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==Ln){for(var t=n.firstChild;t;){var o=t.nextSibling;this.insertBefore(t,e),t=o}return n}return ll(this,n,e),n.ownerDocument=this,this.documentElement===null&&n.nodeType===Xt&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),cm(this,n)},replaceChild:function(n,e){ll(this,n,e,fm),n.ownerDocument=this,e&&this.removeChild(e),an(n)&&(this.documentElement=n)},importNode:function(n,e){return mm(this,n,e)},getElementById:function(n){var e=null;return wo(this.documentElement,function(t){if(t.nodeType==Xt&&t.getAttribute("id")==n)return e=t,!0}),e},getElementsByClassName:function(n){var e=ip(n);return new pi(this,function(t){var o=[];return e.length>0&&wo(t.documentElement,function(s){if(s!==t&&s.nodeType===Xt){var l=s.getAttribute("class");if(l){var u=n===l;if(!u){var c=ip(l);u=e.every(xE(c))}u&&o.push(s)}}}),o})},createElement:function(n){var e=new Nr;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new An;var t=e.attributes=new sl;return t._ownerElement=e,e},createDocumentFragment:function(){var n=new kl;return n.ownerDocument=this,n.childNodes=new An,n},createTextNode:function(n){var e=new _c;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new yc;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new vc;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var t=new wc;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=n,t.nodeValue=t.data=e,t},createAttribute:function(n){var e=new al;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new bc;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var t=new Nr,o=e.split(":"),s=t.attributes=new sl;return t.childNodes=new An,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=n,o.length==2?(t.prefix=o[0],t.localName=o[1]):t.localName=e,s._ownerElement=t,t},createAttributeNS:function(n,e){var t=new al,o=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=n,t.specified=!0,o.length==2?(t.prefix=o[0],t.localName=o[1]):t.localName=e,t}};mt(Po,ke);function Nr(){this._nsMap={}}Nr.prototype={nodeType:Xt,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var t=this.ownerDocument.createAttribute(n);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===Ln?this.insertBefore(n,null):OE(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);return t&&t.value||""},setAttributeNS:function(n,e,t){var o=this.ownerDocument.createAttributeNS(n,e);o.value=o.nodeValue=""+t,this.setAttributeNode(o)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new pi(this,function(e){var t=[];return wo(e,function(o){o!==e&&o.nodeType==Xt&&(n==="*"||o.tagName==n)&&t.push(o)}),t})},getElementsByTagNameNS:function(n,e){return new pi(this,function(t){var o=[];return wo(t,function(s){s!==t&&s.nodeType===Xt&&(n==="*"||s.namespaceURI===n)&&(e==="*"||s.localName==e)&&o.push(s)}),o})}};Po.prototype.getElementsByTagName=Nr.prototype.getElementsByTagName;Po.prototype.getElementsByTagNameNS=Nr.prototype.getElementsByTagNameNS;mt(Nr,ke);function al(){}al.prototype.nodeType=hi;mt(al,ke);function Fo(){}Fo.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(Je[pt])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,t){var o=this.data.substring(0,n),s=this.data.substring(n+e);t=o+t+s,this.nodeValue=this.data=t,this.length=t.length}};mt(Fo,ke);function _c(){}_c.prototype={nodeName:"#text",nodeType:ol,splitText:function(n){var e=this.data,t=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var o=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling),o}};mt(_c,Fo);function yc(){}yc.prototype={nodeName:"#comment",nodeType:nm};mt(yc,Fo);function vc(){}vc.prototype={nodeName:"#cdata-section",nodeType:Qg};mt(vc,Fo);function xl(){}xl.prototype.nodeType=im;mt(xl,ke);function dm(){}dm.prototype.nodeType=TE;mt(dm,ke);function hm(){}hm.prototype.nodeType=kE;mt(hm,ke);function bc(){}bc.prototype.nodeType=em;mt(bc,ke);function kl(){}kl.prototype.nodeName="#document-fragment";kl.prototype.nodeType=Ln;mt(kl,ke);function wc(){}wc.prototype.nodeType=tm;mt(wc,ke);function pm(){}pm.prototype.serializeToString=function(n,e,t){return gm.call(n,e,t)};ke.prototype.toString=gm;function gm(n,e){var t=[],o=this.nodeType==9&&this.documentElement||this,s=o.prefix,l=o.namespaceURI;if(l&&s==null){var s=o.lookupPrefix(l);if(s==null)var u=[{namespace:l,prefix:null}]}return ri(this,t,n,e,u),t.join("")}function cp(n,e,t){var o=n.prefix||"",s=n.namespaceURI;if(!s||o==="xml"&&s===bo.XML||s===bo.XMLNS)return!1;for(var l=t.length;l--;){var u=t[l];if(u.prefix===o)return u.namespace!==s}return!0}function lu(n,e,t){n.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,am),'"')}function ri(n,e,t,o,s){if(s||(s=[]),o)if(n=o(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case Xt:var l=n.attributes,u=l.length,c=n.firstChild,f=n.tagName;t=bo.isHTML(n.namespaceURI)||t;var d=f;if(!t&&!n.prefix&&n.namespaceURI){for(var p,v=0;v<l.length;v++)if(l.item(v).name==="xmlns"){p=l.item(v).value;break}if(!p)for(var m=s.length-1;m>=0;m--){var b=s[m];if(b.prefix===""&&b.namespace===n.namespaceURI){p=b.namespace;break}}if(p!==n.namespaceURI)for(var m=s.length-1;m>=0;m--){var b=s[m];if(b.namespace===n.namespaceURI){b.prefix&&(d=b.prefix+":"+f);break}}}e.push("<",d);for(var w=0;w<u;w++){var x=l.item(w);x.prefix=="xmlns"?s.push({prefix:x.localName,namespace:x.value}):x.nodeName=="xmlns"&&s.push({prefix:"",namespace:x.value})}for(var w=0;w<u;w++){var x=l.item(w);if(cp(x,t,s)){var T=x.prefix||"",O=x.namespaceURI;lu(e,T?"xmlns:"+T:"xmlns",O),s.push({prefix:T,namespace:O})}ri(x,e,t,o,s)}if(f===d&&cp(n,t,s)){var T=n.prefix||"",O=n.namespaceURI;lu(e,T?"xmlns:"+T:"xmlns",O),s.push({prefix:T,namespace:O})}if(c||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){if(e.push(">"),t&&/^script$/i.test(f))for(;c;)c.data?e.push(c.data):ri(c,e,t,o,s.slice()),c=c.nextSibling;else for(;c;)ri(c,e,t,o,s.slice()),c=c.nextSibling;e.push("</",d,">")}else e.push("/>");return;case rm:case Ln:for(var c=n.firstChild;c;)ri(c,e,t,o,s.slice()),c=c.nextSibling;return;case hi:return lu(e,n.name,n.value);case ol:return e.push(n.data.replace(/[<&>]/g,am));case Qg:return e.push("<![CDATA[",n.data,"]]>");case nm:return e.push("<!--",n.data,"-->");case im:var C=n.publicId,A=n.systemId;if(e.push("<!DOCTYPE ",n.name),C)e.push(" PUBLIC ",C),A&&A!="."&&e.push(" ",A),e.push(">");else if(A&&A!=".")e.push(" SYSTEM ",A,">");else{var D=n.internalSubset;D&&e.push(" [",D,"]"),e.push(">")}return;case tm:return e.push("<?",n.target," ",n.data,"?>");case em:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function mm(n,e,t){var o;switch(e.nodeType){case Xt:o=e.cloneNode(!1),o.ownerDocument=n;case Ln:break;case hi:t=!0;break}if(o||(o=e.cloneNode(!1)),o.ownerDocument=n,o.parentNode=null,t)for(var s=e.firstChild;s;)o.appendChild(mm(n,s,t)),s=s.nextSibling;return o}function Du(n,e,t){var o=new e.constructor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var l=e[s];typeof l!="object"&&l!=o[s]&&(o[s]=l)}switch(e.childNodes&&(o.childNodes=new An),o.ownerDocument=n,o.nodeType){case Xt:var u=e.attributes,c=o.attributes=new sl,f=u.length;c._ownerElement=o;for(var d=0;d<f;d++)o.setAttributeNode(Du(n,u.item(d),!0));break;case hi:t=!0}if(t)for(var p=e.firstChild;p;)o.appendChild(Du(n,p,t)),p=p.nextSibling;return o}function _m(n,e,t){n[e]=t}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case Xt:case Ln:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(n(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};Object.defineProperty(pi.prototype,"length",{get:function(){return pc(this),this.$$length}}),Object.defineProperty(ke.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case Xt:case Ln:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),_m=function(e,t,o){e["$$"+t]=o}}}catch{}or.DocumentType=xl;or.DOMException=Pe;or.DOMImplementation=lm;or.Element=Nr;or.Node=ke;or.NodeList=An;or.XMLSerializer=pm;var LE={};(function(n){var e=sr.freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES})(LE);var xc={},xo=sr.NAMESPACE,Iu=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,fp=new RegExp("[\\-\\.0-9"+Iu.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),dp=new RegExp("^"+Iu.source+fp.source+"*(?::"+Iu.source+fp.source+"*)?$"),Zi=0,Gn=1,Jr=2,Qi=3,jr=4,Xr=5,eo=6,Fs=7;function gi(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,gi)}gi.prototype=new Error;gi.prototype.name=gi.name;function ym(){}ym.prototype={parse:function(n,e,t){var o=this.domBuilder;o.startDocument(),vm(e,e={}),DE(n,e,t,o,this.errorHandler),o.endDocument()}};function DE(n,e,t,o,s){function l(pe){if(pe>65535){pe-=65536;var we=55296+(pe>>10),qe=56320+(pe&1023);return String.fromCharCode(we,qe)}else return String.fromCharCode(pe)}function u(pe){var we=pe.slice(1,-1);return Object.hasOwnProperty.call(t,we)?t[we]:we.charAt(0)==="#"?l(parseInt(we.substr(1).replace("x","0x"))):(s.error("entity not found:"+pe),pe)}function c(pe){if(pe>x){var we=n.substring(x,pe).replace(/&#?\w+;/g,u);m&&f(x),o.characters(we,0,pe-x),x=pe}}function f(pe,we){for(;pe>=p&&(we=v.exec(n));)d=we.index,p=d+we[0].length,m.lineNumber++;m.columnNumber=pe-d+1}for(var d=0,p=0,v=/.*(?:\r\n?|\n)|.*$/g,m=o.locator,b=[{currentNSMap:e}],w={},x=0;;){try{var T=n.indexOf("<",x);if(T<0){if(!n.substr(x).match(/^\s*$/)){var O=o.doc,C=O.createTextNode(n.substr(x));O.appendChild(C),o.currentElement=C}return}switch(T>x&&c(T),n.charAt(T+1)){case"/":var Y=n.indexOf(">",T+3),A=n.substring(T+2,Y).replace(/[ \t\n\r]+$/g,""),D=b.pop();Y<0?(A=n.substring(T+2).replace(/[\s<].*/,""),s.error("end tag name: "+A+" is not complete:"+D.tagName),Y=T+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),s.error("end tag name: "+A+" maybe not complete"),Y=T+1+A.length);var U=D.localNSMap,M=D.tagName==A,q=M||D.tagName&&D.tagName.toLowerCase()==A.toLowerCase();if(q){if(o.endElement(D.uri,D.localName,A),U)for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&o.endPrefixMapping(B);M||s.fatalError("end tag name: "+A+" is not match the current start tagName:"+D.tagName)}else b.push(D);Y++;break;case"?":m&&f(T),Y=FE(n,T,o);break;case"!":m&&f(T),Y=PE(n,T,o,s);break;default:m&&f(T);var $=new bm,ie=b[b.length-1].currentNSMap,Y=IE(n,T,$,ie,u,s),ve=$.length;if(!$.closed&&RE(n,Y,$.tagName,w)&&($.closed=!0,t.nbsp||s.warning("unclosed xml attribute")),m&&ve){for(var oe=hp(m,{}),de=0;de<ve;de++){var Ae=$[de];f(Ae.offset),Ae.locator=hp(m,{})}o.locator=oe,pp($,o,ie)&&b.push($),o.locator=m}else pp($,o,ie)&&b.push($);xo.isHTML($.uri)&&!$.closed?Y=ME(n,Y,$.tagName,u,o):Y++}}catch(pe){if(pe instanceof gi)throw pe;s.error("element parse error: "+pe),Y=-1}Y>x?x=Y:c(Math.max(T,x)+1)}}function hp(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function IE(n,e,t,o,s,l){function u(m,b,w){t.attributeNames.hasOwnProperty(m)&&l.fatalError("Attribute "+m+" redefined"),t.addValue(m,b.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),w)}for(var c,f,d=++e,p=Zi;;){var v=n.charAt(d);switch(v){case"=":if(p===Gn)c=n.slice(e,d),p=Qi;else if(p===Jr)p=Qi;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(p===Qi||p===Gn)if(p===Gn&&(l.warning('attribute value must after "="'),c=n.slice(e,d)),e=d+1,d=n.indexOf(v,e),d>0)f=n.slice(e,d),u(c,f,e-1),p=Xr;else throw new Error("attribute value no end '"+v+"' match");else if(p==jr)f=n.slice(e,d),u(c,f,e),l.warning('attribute "'+c+'" missed start quot('+v+")!!"),e=d+1,p=Xr;else throw new Error('attribute value must after "="');break;case"/":switch(p){case Zi:t.setTagName(n.slice(e,d));case Xr:case eo:case Fs:p=Fs,t.closed=!0;case jr:case Gn:break;case Jr:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return l.error("unexpected end of input"),p==Zi&&t.setTagName(n.slice(e,d)),d;case">":switch(p){case Zi:t.setTagName(n.slice(e,d));case Xr:case eo:case Fs:break;case jr:case Gn:f=n.slice(e,d),f.slice(-1)==="/"&&(t.closed=!0,f=f.slice(0,-1));case Jr:p===Jr&&(f=c),p==jr?(l.warning('attribute "'+f+'" missed quot(")!'),u(c,f,e)):((!xo.isHTML(o[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),u(f,f,e));break;case Qi:throw new Error("attribute value missed!!")}return d;case"":v=" ";default:if(v<=" ")switch(p){case Zi:t.setTagName(n.slice(e,d)),p=eo;break;case Gn:c=n.slice(e,d),p=Jr;break;case jr:var f=n.slice(e,d);l.warning('attribute "'+f+'" missed quot(")!!'),u(c,f,e);case Xr:p=eo;break}else switch(p){case Jr:t.tagName,(!xo.isHTML(o[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&l.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),u(c,c,e),e=d,p=Gn;break;case Xr:l.warning('attribute space is required"'+c+'"!!');case eo:p=Gn,e=d;break;case Qi:p=jr,e=d;break;case Fs:throw new Error("elements closed character '/' and '>' must be connected to")}}d++}}function pp(n,e,t){for(var o=n.tagName,s=null,l=n.length;l--;){var u=n[l],c=u.qName,f=u.value,m=c.indexOf(":");if(m>0)var d=u.prefix=c.slice(0,m),p=c.slice(m+1),v=d==="xmlns"&&p;else p=c,d=null,v=c==="xmlns"&&"";u.localName=p,v!==!1&&(s==null&&(s={},vm(t,t={})),t[v]=s[v]=f,u.uri=xo.XMLNS,e.startPrefixMapping(v,f))}for(var l=n.length;l--;){u=n[l];var d=u.prefix;d&&(d==="xml"&&(u.uri=xo.XML),d!=="xmlns"&&(u.uri=t[d||""]))}var m=o.indexOf(":");m>0?(d=n.prefix=o.slice(0,m),p=n.localName=o.slice(m+1)):(d=null,p=n.localName=o);var b=n.uri=t[d||""];if(e.startElement(b,p,o,n),n.closed){if(e.endElement(b,p,o),s)for(d in s)Object.prototype.hasOwnProperty.call(s,d)&&e.endPrefixMapping(d)}else return n.currentNSMap=t,n.localNSMap=s,!0}function ME(n,e,t,o,s){if(/^(?:script|textarea)$/i.test(t)){var l=n.indexOf("</"+t+">",e),u=n.substring(e+1,l);if(/[&<]/.test(u))return/^script$/i.test(t)?(s.characters(u,0,u.length),l):(u=u.replace(/&#?\w+;/g,o),s.characters(u,0,u.length),l)}return e+1}function RE(n,e,t,o){var s=o[t];return s==null&&(s=n.lastIndexOf("</"+t+">"),s<e&&(s=n.lastIndexOf("</"+t)),o[t]=s),s<e}function vm(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function PE(n,e,t,o){var s=n.charAt(e+2);switch(s){case"-":if(n.charAt(e+3)==="-"){var l=n.indexOf("-->",e+4);return l>e?(t.comment(n,e+4,l-e-4),l+3):(o.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var l=n.indexOf("]]>",e+9);return t.startCDATA(),t.characters(n,e+9,l-e-9),t.endCDATA(),l+3}var u=qE(n,e),c=u.length;if(c>1&&/!doctype/i.test(u[0][0])){var f=u[1][0],d=!1,p=!1;c>3&&(/^public$/i.test(u[2][0])?(d=u[3][0],p=c>4&&u[4][0]):/^system$/i.test(u[2][0])&&(p=u[3][0]));var v=u[c-1];return t.startDTD(f,d,p),t.endDTD(),v.index+v[0].length}}return-1}function FE(n,e,t){var o=n.indexOf("?>",e);if(o){var s=n.substring(e,o).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return s?(s[0].length,t.processingInstruction(s[1],s[2]),o+2):-1}return-1}function bm(){this.attributeNames={}}bm.prototype={setTagName:function(n){if(!dp.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,t){if(!dp.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:t}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function qE(n,e){var t,o=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=e,s.exec(n);t=s.exec(n);)if(o.push(t),t[1])return o}xc.XMLReader=ym;xc.ParseError=gi;var BE=or,WE=xc,UE=BE.DOMImplementation,zE=WE.ParseError;function wm(){this.cdata=!1}function Yr(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}wm.prototype={startDocument:function(){this.doc=new UE().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,t,o){var s=this.doc,l=s.createElementNS(n,t||e),u=o.length;qs(this,l),this.currentElement=l,this.locator&&Yr(this.locator,l);for(var c=0;c<u;c++){var n=o.getURI(c),f=o.getValue(c),t=o.getQName(c),d=s.createAttributeNS(n,t);this.locator&&Yr(o.getLocator(c),d),d.value=d.nodeValue=f,l.setAttributeNode(d)}},endElement:function(n,e,t){var o=this.currentElement;o.tagName,this.currentElement=o.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var t=this.doc.createProcessingInstruction(n,e);this.locator&&Yr(this.locator,t),qs(this,t)},ignorableWhitespace:function(n,e,t){},characters:function(n,e,t){if(n=mp.apply(this,arguments),n){if(this.cdata)var o=this.doc.createCDATASection(n);else var o=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(o):/^\s*$/.test(n)&&this.doc.appendChild(o),this.locator&&Yr(this.locator,o)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,t){n=mp.apply(this,arguments);var o=this.doc.createComment(n);this.locator&&Yr(this.locator,o),qs(this,o)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,t){var o=this.doc.implementation;if(o&&o.createDocumentType){var s=o.createDocumentType(n,e,t);this.locator&&Yr(this.locator,s),qs(this,s),this.doc.doctype=s}},warning:function(n){console.warn("[xmldom warning]	"+n,gp(this.locator))},error:function(n){console.error("[xmldom error]	"+n,gp(this.locator))},fatalError:function(n){throw new zE(n,this.locator)}};function gp(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function mp(n,e,t){return typeof n=="string"?n.substr(e,t):n.length>=e+t||e?new java.lang.String(n,e,t)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){wm.prototype[n]=function(){return null}});function qs(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}const $E=["type","marker","content","sid","eid","number","code","altnumber","pubnumber","caller","align","category"];function HE(n){return VE.includes(n)}const VE=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","EZA","5EZ","6EZ","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO","FRT","BAK","OTH","INT","CNC","GLO","TDX","NDX","XXA","XXB","XXC","XXD","XXE","XXF","XXG"],xm="id",km=1;class Rt extends Mn{constructor(e,t,o){super(o),ee(this,"__marker"),ee(this,"__code"),ee(this,"__unknownAttributes"),this.__marker=xm,this.__code=e,this.__unknownAttributes=t}static getType(){return"book"}static clone(e){const{__code:t,__unknownAttributes:o,__key:s}=e;return new Rt(t,o,s)}static importJSON(e){const{marker:t,code:o,unknownAttributes:s,format:l,indent:u,direction:c}=e,f=KE(o,s);return f.setMarker(t),f.setFormat(l),f.setIndent(u),f.setDirection(c),f}static isValidBookCode(e){return HE(e)}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setCode(e){const t=this.getWritable();t.__code=e}getCode(){return this.getLatest().__code}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("p");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.getType(),`usfm_${this.__marker}`),e.setAttribute("data-code",this.__code),e}updateDOM(){return!1}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),code:this.getCode(),unknownAttributes:this.getUnknownAttributes(),version:km}}}function KE(n,e){return $e(new Rt(n,e))}function Tm(n){return n instanceof Rt}const GE="v",Cm=1;class en extends Io{constructor(e,t=!1,o,s,l,u,c){super(c),ee(this,"__marker"),ee(this,"__number"),ee(this,"__showMarker"),ee(this,"__sid"),ee(this,"__altnumber"),ee(this,"__pubnumber"),ee(this,"__unknownAttributes"),this.__marker=GE,this.__number=e,this.__showMarker=t,this.__sid=o,this.__altnumber=s,this.__pubnumber=l,this.__unknownAttributes=u}static getType(){return"immutable-verse"}static clone(e){const{__number:t,__showMarker:o,__sid:s,__altnumber:l,__pubnumber:u,__unknownAttributes:c,__key:f}=e;return new en(t,o,s,l,u,c,f)}static importJSON(e){const{marker:t,number:o,showMarker:s,sid:l,altnumber:u,pubnumber:c,unknownAttributes:f}=e,d=JE(o,s,l,u,c,f);return d.setMarker(t),d}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setNumber(e){const t=this.getWritable();t.__number=e}getNumber(){return this.getLatest().__number}setShowMarker(e=!1){const t=this.getWritable();t.__showMarker=e}getShowMarker(){return this.getLatest().__showMarker}setSid(e){const t=this.getWritable();t.__sid=e}getSid(){return this.getLatest().__sid}setAltnumber(e){const t=this.getWritable();t.__altnumber=e}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){const t=this.getWritable();t.__pubnumber=e}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.classList.add(Sm,`usfm_${this.__marker}`),e.setAttribute("data-number",this.__number),e}updateDOM(){return!1}decorate(){return this.getShowMarker()?Tl(this.getMarker(),this.getNumber()):this.getNumber()}exportJSON(){return{type:this.getType(),marker:this.getMarker(),number:this.getNumber(),showMarker:this.getShowMarker(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:Cm}}}function JE(n,e,t,o,s,l){return $e(new en(n,e,t,o,s,l))}const jE=/^\d+$/,kc="char",yi=" ",Em="chapter",Sm="verse",XE="text-spacing",YE="formatted-font",Nm="#";function Am(n,e){const t=e.find(s=>n.startsWith(s));if(!t)return!1;const o=n.slice(t.length);return jE.test(o)}function Om(n){return n.filter(e=>e.endsWith(Nm)).map(e=>e.slice(0,-1))}function Lm(n){return n.filter(e=>!e.endsWith(Nm))}function ZE(n,e,t=hn){return n.find(o=>o.getType()===t.getType()&&o.getNumber()===e.toString())}function QE(n,e=!1,t=hn){return n.find((o,s)=>(!e||s>0)&&o.getType()===t.getType())}function eS(n,e=hn){var t;if(!n)return;if(n.getType()===e.getType())return n;let o=(t=n.getTopLevelElement())==null?void 0:t.getPreviousSibling();for(;o&&o.getType()!==e.getType();)o=o.getPreviousSibling();if(o&&o.getType()===e.getType())return o}function tS(n,e,t=en){return F(n)?n.getChildren().find(o=>o.getType()===t.getType()&&o.getNumber()===e.toString()):void 0}function nS(n,e,t=en){return n.map(o=>tS(o,e,t)).filter(o=>o)[0]}function _p(n,e=en){return!n||!F(n)?void 0:n.getChildren().findLast(t=>t.getType()===e.getType())}function rS(n,e=en){var t;if(!n)return;if(n.getType()===e.getType())return n;let o=n.getPreviousSibling();for(;o&&o.getType()!==e.getType();)o=o.getPreviousSibling();if(o&&o.getType()===e.getType())return o;let s=(t=n.getTopLevelElement())==null?void 0:t.getPreviousSibling(),l=_p(s,e),u=l;for(;s&&!l;)l=u,s=s.getPreviousSibling(),u=_p(s,e);return l}function iS(n,e,t){t&&(n.length=t.getIndexWithinParent()-e.getIndexWithinParent())}function oS(n,e){return e?n.splice(e.getIndexWithinParent(),n.length-1):n}function Tc(n){return`\\${n}`}function sS(n){return`\\${n}*`}function Tl(n,e){let t=Tc(n);return e&&(t+=`${yi}${e}`),t+=" ",t}function lS(n){return n.reduce((e,t)=>e+(t.type===kc?` ${t.text}`:""),"").trim()}function Dm(n){return yi+n+" "}function aS(n){return n.reduce((e,t)=>e+(t.getType()===kc?` ${t.getTextContent()}`:""),"").trim()}function lr(n){const e={...n};return $E.forEach(t=>delete e[t]),Object.keys(e).length===0?void 0:e}const uS="c",Im=1;class hn extends Io{constructor(e,t=[],o=!1,s,l,u,c,f){super(f),ee(this,"__marker"),ee(this,"__number"),ee(this,"__classList"),ee(this,"__showMarker"),ee(this,"__sid"),ee(this,"__altnumber"),ee(this,"__pubnumber"),ee(this,"__unknownAttributes"),this.__marker=uS,this.__number=e,this.__classList=t,this.__showMarker=o,this.__sid=s,this.__altnumber=l,this.__pubnumber=u,this.__unknownAttributes=c}static getType(){return"immutable-chapter"}static clone(e){const{__number:t,__classList:o,__showMarker:s,__sid:l,__altnumber:u,__pubnumber:c,__unknownAttributes:f,__key:d}=e;return new hn(t,o,s,l,u,c,f,d)}static importJSON(e){const{marker:t,number:o,classList:s,showMarker:l,sid:u,altnumber:c,pubnumber:f,unknownAttributes:d}=e,p=cS(o,s,l,u,c,f,d);return p.setMarker(t),p}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setNumber(e){const t=this.getWritable();t.__number=e}getNumber(){return this.getLatest().__number}setClassList(e){const t=this.getWritable();t.__classList=e}getClassList(){return this.getLatest().__classList}setShowMarker(e=!1){const t=this.getWritable();t.__showMarker=e}getShowMarker(){return this.getLatest().__showMarker}setSid(e){const t=this.getWritable();t.__sid=e}getSid(){return this.getLatest().__sid}setAltnumber(e){const t=this.getWritable();t.__altnumber=e}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){const t=this.getWritable();t.__pubnumber=e}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.classList.add(Em,`usfm_${this.__marker}`,...this.__classList),e.setAttribute("data-number",this.__number),e}updateDOM(){return!1}decorate(){return this.getShowMarker()?Tl(this.getMarker(),this.getNumber()):this.getNumber()}exportJSON(){return{type:this.getType(),marker:this.getMarker(),number:this.getNumber(),classList:this.getClassList(),showMarker:this.getShowMarker(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:Im}}}function cS(n,e,t,o,s,l,u){return $e(new hn(n,e,t,o,s,l,u))}const Mm="c",Rm=1;class Pn extends Mn{constructor(e,t=[],o,s,l,u,c,f){super(f),ee(this,"__marker"),ee(this,"__number"),ee(this,"__classList"),ee(this,"__sid"),ee(this,"__altnumber"),ee(this,"__pubnumber"),ee(this,"__unknownAttributes"),this.__marker=Mm,this.__number=e,this.__classList=t,this.__sid=s,this.__altnumber=l,this.__pubnumber=u,this.__unknownAttributes=c,this.append(Ue(o??e))}static getType(){return"chapter"}static clone(e){var t;const{__number:o,__classList:s,__sid:l,__altnumber:u,__pubnumber:c,__unknownAttributes:f,__key:d}=e,p=(t=e.getFirstChild())==null?void 0:t.getTextContent();return new Pn(o,s,p,l,u,c,f,d)}static importJSON(e){const{marker:t,number:o,classList:s,text:l,sid:u,altnumber:c,pubnumber:f,unknownAttributes:d,format:p,indent:v,direction:m}=e,b=Pm(o,s,l,u,c,f,d);return b.setMarker(t),b.setFormat(p),b.setIndent(v),b.setDirection(m),b}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setNumber(e){const t=this.getWritable();t.__number=e}getNumber(){return this.getLatest().__number}setClassList(e){const t=this.getWritable();t.__classList=e}getClassList(){return this.getLatest().__classList}setSid(e){const t=this.getWritable();t.__sid=e}getSid(){return this.getLatest().__sid}setAltnumber(e){const t=this.getWritable();t.__altnumber=e}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){const t=this.getWritable();t.__pubnumber=e}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("p");return e.setAttribute("data-marker",this.__marker),e.classList.add(Em,`usfm_${this.__marker}`,...this.__classList),e.setAttribute("data-number",this.__number),e}exportJSON(){var e;return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),number:this.getNumber(),classList:this.getClassList(),text:(e=this.getFirstChild())==null?void 0:e.getTextContent(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:Rm}}}function Pm(n,e,t,o,s,l,u){return $e(new Pn(n,e,t,o,s,l,u))}const Fm="v",qm=1;class ar extends Qt{constructor(e,t,o,s,l,u,c){super(t??e,c),ee(this,"__marker"),ee(this,"__number"),ee(this,"__sid"),ee(this,"__altnumber"),ee(this,"__pubnumber"),ee(this,"__unknownAttributes"),this.__marker=Fm,this.__number=e,this.__sid=o,this.__altnumber=s,this.__pubnumber=l,this.__unknownAttributes=u}static getType(){return"verse"}static clone(e){const{__number:t,__text:o,__sid:s,__altnumber:l,__pubnumber:u,__unknownAttributes:c,__key:f}=e;return new ar(t,o,s,l,u,c,f)}static importJSON(e){const{marker:t,number:o,text:s,sid:l,altnumber:u,pubnumber:c,unknownAttributes:f,detail:d,format:p,mode:v,style:m}=e,b=Bm(o,s,l,u,c,f);return b.setMarker(t),b.setDetail(d),b.setFormat(p),b.setMode(v),b.setStyle(m),b}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setNumber(e){const t=this.getWritable();t.__number=e}getNumber(){return this.getLatest().__number}setSid(e){const t=this.getWritable();t.__sid=e}getSid(){return this.getLatest().__sid}setAltnumber(e){const t=this.getWritable();t.__altnumber=e}getAltnumber(){return this.getLatest().__altnumber}setPubnumber(e){const t=this.getWritable();t.__pubnumber=e}getPubnumber(){return this.getLatest().__pubnumber}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(e){const t=super.createDOM(e);return t.setAttribute("data-marker",this.__marker),t.classList.add(Sm,`usfm_${this.__marker}`),t.setAttribute("data-number",this.__number),t}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),number:this.getNumber(),sid:this.getSid(),altnumber:this.getAltnumber(),pubnumber:this.getPubnumber(),unknownAttributes:this.getUnknownAttributes(),version:qm}}}function Bm(n,e,t,o,s,l){return $e(new ar(n,e,t,o,s,l))}const Wm=["fr","ft","fk","fq","fqa","fl","fw","fp","fv","fdc"],Um=["xo","xop","xt","xta","xk","xq","xot","xnt","xdc"],zm=["add","bk","dc","ior","iqt","k","litl","nd","ord","pn","png","qac","qs","qt","rq","sig","sls","tl","wj","em","bd","bdit","it","no","sc","sup","rb","pro","w","wg","wh","wa","lik","liv#","jmp",...Wm,...Um],$m=Om(zm),fS=[...Lm(zm),...$m],Hm=1;class Et extends Qt{constructor(e,t,o,s){super(t,s),ee(this,"__marker"),ee(this,"__unknownAttributes"),this.__marker=e,this.__unknownAttributes=o}static getType(){return kc}static clone(e){const{__marker:t,__text:o,__unknownAttributes:s,__key:l}=e;return new Et(t,o,s,l)}static importJSON(e){const{marker:t,text:o,unknownAttributes:s,detail:l,format:u,mode:c,style:f}=e,d=dS(t,o,s);return d.setDetail(l),d.setFormat(u),d.setMode(c),d.setStyle(f),d}static isValidMarker(e){return fS.includes(e)||Am(e,$m)}static isValidFootnoteMarker(e){return Wm.includes(e)}static isValidCrossReferenceMarker(e){return Um.includes(e)}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(e){const t=super.createDOM(e);return t.setAttribute("data-marker",this.__marker),t.classList.add(this.getType(),`usfm_${this.__marker}`),t}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),unknownAttributes:this.getUnknownAttributes(),version:Hm}}isTextEntity(){return!0}}function dS(n,e,t){return $e(new Et(n,e,t))}function hS(n){return n instanceof Et}const pS=["f","fe","ef","x","ex"],Vm=1;class Yt extends Mn{constructor(e,t,o,s,l){super(l),ee(this,"__marker"),ee(this,"__caller"),ee(this,"__category"),ee(this,"__unknownAttributes"),this.__marker=e,this.__caller=t,this.__category=o,this.__unknownAttributes=s}static getType(){return"note"}static clone(e){const{__marker:t,__caller:o,__category:s,__unknownAttributes:l,__key:u}=e;return new Yt(t,o,s,l,u)}static importJSON(e){const{marker:t,caller:o,category:s,unknownAttributes:l}=e;return gS(t,o,s,l)}static isValidMarker(e){return pS.includes(e)}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setCaller(e){const t=this.getWritable();t.__caller=e}getCaller(){return this.getLatest().__caller}setCategory(e){const t=this.getWritable();t.__category=e}getCategory(){return this.getLatest().__category}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.getType(),`usfm_${this.__marker}`),e.setAttribute("data-caller",this.__caller),e}updateDOM(){return!1}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),caller:this.getCaller(),category:this.getCategory(),unknownAttributes:this.getUnknownAttributes(),version:Vm}}}Symbol.for(Yt.name);function gS(n,e,t,o){return $e(new Yt(n,e,t,o))}function mS(n){return n instanceof Yt}const ko="zmsc-s",Cc="zmsc-e",_S=[ko,Cc],yS=["ts-s","ts-e","t-s","t-e","ts","qt1-s","qt1-e","qt2-s","qt2-e","qt3-s","qt3-e","qt4-s","qt4-e","qt5-s","qt5-e","qts","qte","qt-s","qt-e",ko,Cc],Km=1;class tr extends Io{constructor(e,t,o,s,l){super(l),ee(this,"__marker"),ee(this,"__sid"),ee(this,"__eid"),ee(this,"__unknownAttributes"),this.__marker=e,this.__sid=t,this.__eid=o,this.__unknownAttributes=s}static getType(){return"ms"}static clone(e){const{__marker:t,__sid:o,__eid:s,__unknownAttributes:l,__key:u}=e;return new tr(t,o,s,l,u)}static importJSON(e){const{marker:t,sid:o,eid:s,unknownAttributes:l}=e;return bS(t,o,s,l)}static isValidMarker(e){return yS.includes(e)||e.startsWith("z")}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setSid(e){const t=this.getWritable();t.__sid=e}getSid(){return this.getLatest().__sid}setEid(e){const t=this.getWritable();t.__eid=e}getEid(){return this.getLatest().__eid}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("span");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.getType(),`usfm_${this.__marker}`),e}updateDOM(){return!1}decorate(){return""}exportJSON(){return{type:this.getType(),marker:this.getMarker(),sid:this.getSid(),eid:this.getEid(),unknownAttributes:this.getUnknownAttributes(),version:Km}}}function vS(n){return _S.includes(n)}function bS(n,e,t,o){return $e(new tr(n,e,t,o))}const wS=1;class vi extends Qt{constructor(e,t=!0,o){const s=t?Tc(e):sS(e);super(s,o),ee(this,"__marker"),ee(this,"__isOpening"),this.__marker=e,this.__isOpening=t}static getType(){return"marker"}static clone(e){return new vi(e.__marker,e.__isOpening,e.__key)}static importJSON(e){const{marker:t,isOpening:o,detail:s,format:l,mode:u,style:c}=e,f=xS(t,o);return f.setDetail(s),f.setFormat(l),f.setMode(u),f.setStyle(c),f}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setIsOpening(e){const t=this.getWritable();t.__isOpening=e}getIsOpening(){return this.getLatest().__isOpening}createDOM(e){const t=super.createDOM(e);return t.setAttribute("data-marker",this.__marker),t.classList.add(this.getType(),this.__isOpening?"opening":"closing"),t}exportJSON(){return{...super.exportJSON(),type:this.getType(),text:this.getTextContent(),marker:this.getMarker(),isOpening:this.getIsOpening(),version:wS}}}function xS(n,e){return $e(new vi(n,e))}const Gm=1;class bi extends Rn{static getType(){return"implied-para"}static clone(e){return new bi(e.__key)}static importJSON(e){const{format:t,indent:o,direction:s,textFormat:l}=e,u=yp();return u.setFormat(t),u.setIndent(o),u.setDirection(s),u.setTextFormat(l),u}createDOM(){return document.createElement("p")}exportJSON(){return{...super.exportJSON(),type:this.getType(),version:Gm}}insertNewAfter(e,t){const o=yp();return o.setFormat(this.getFormatType()),o.setIndent(this.getIndent()),o.setDirection(this.getDirection()),o.setTextFormat(e.format),this.insertAfter(o,t),o}}function yp(){return $e(new bi)}const Ec="p",Jm=["h","toc1","toc2","toc3","toca1","toca2","toca3","imt#","is#","ip","ipi","ipq","imq","ipr","iq#","ib","ili#","iot","io#","iex","imte","ie","mt#","mte","cl","cd","ms#","mr","s#","sr","r","d","sp","sd#",Ec,"m","po","pr","cls","pmo","pm","pmc","pmr","pi#","mi","pc","ph#","lit","q#","qr","qc","qa","qm#","qd","b","lh","li#","lf","lim#","litl"],jm=Om(Jm),kS=[...Lm(Jm),...jm],Xm=1;class dn extends Rn{constructor(e=Ec,t=[],o,s){super(s),ee(this,"__marker"),ee(this,"__classList"),ee(this,"__unknownAttributes"),this.__marker=e,this.__classList=t,this.__unknownAttributes=o}static getType(){return"para"}static clone(e){const{__marker:t,__classList:o,__unknownAttributes:s,__key:l}=e;return new dn(t,o,s,l)}static importJSON(e){const{marker:t,classList:o,unknownAttributes:s,format:l,indent:u,direction:c,textFormat:f}=e,d=Mu(t,o,s);return d.setFormat(l),d.setIndent(u),d.setDirection(c),d.setTextFormat(f),d}static importDOM(){return{p:()=>({conversion:TS,priority:0})}}static isValidMarker(e){return kS.includes(e)||Am(e,jm)}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setClassList(e){const t=this.getWritable();t.__classList=e}getClassList(){return this.getLatest().__classList}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("p");return e.setAttribute("data-marker",this.__marker),e.classList.add(this.getType(),`usfm_${this.__marker}`,...this.__classList),e}exportJSON(){return{...super.exportJSON(),type:this.getType(),marker:this.getMarker(),classList:this.getClassList(),unknownAttributes:this.getUnknownAttributes(),version:Xm}}insertNewAfter(e,t){const o=Mu(this.getMarker(),this.getClassList());return o.setFormat(this.getFormatType()),o.setIndent(this.getIndent()),o.setDirection(this.getDirection()),o.setTextFormat(e.format),this.insertAfter(o,t),o}}function TS(n){const e=Mu();if(n.style){e.setFormat(n.style.textAlign);const t=parseInt(n.style.textIndent,10)/20;t>0&&e.setIndent(t)}return{node:e}}function Mu(n,e,t){return $e(new dn(n,e,t))}const Ym=1;class wi extends Mn{constructor(e,t,o,s){super(s),ee(this,"__tag"),ee(this,"__marker"),ee(this,"__unknownAttributes"),this.__tag=e,this.__marker=t,this.__unknownAttributes=o}static getType(){return"unknown"}static clone(e){const{__tag:t,__marker:o,__unknownAttributes:s,__key:l}=e;return new wi(t,o,s,l)}static importJSON(e){const{tag:t,marker:o,unknownAttributes:s,format:l,indent:u,direction:c}=e,f=CS(t,o,s);return f.setFormat(l),f.setIndent(u),f.setDirection(c),f}setTag(e){const t=this.getWritable();t.__tag=e}getTag(){return this.getLatest().__tag}setMarker(e){const t=this.getWritable();t.__marker=e}getMarker(){return this.getLatest().__marker}setUnknownAttributes(e){const t=this.getWritable();t.__unknownAttributes=e}getUnknownAttributes(){return this.getLatest().__unknownAttributes}createDOM(){const e=document.createElement("unknown");return e.style.display="none",e}updateDOM(){return!1}exportJSON(){return{...super.exportJSON(),type:this.getType(),tag:this.getTag(),marker:this.getMarker(),unknownAttributes:this.getUnknownAttributes(),version:Ym}}}function CS(n,e,t){return $e(new wi(n,e,t))}const ES=[Rt,hn,en,Pn,ar,Et,Yt,tr,vi,wi,bi,dn,{replace:Rn,with:()=>new dn}],co="USJ",fo="0.2.1";let Ru;function SS(n){n&&(Ru=n)}function NS(n){if(n.isEmpty())return{type:co,version:fo,content:[]};const e=n.toJSON();if(!e.root||!e.root.children)return;const t=e.root.children;if(t.length===1&&t[0].type==="para"&&t[0].marker==="p"&&(!t[0].children||t[0].children.length===0))return{type:co,version:fo,content:[]};const o=Qm(t),s=ii(o);return s?{type:co,version:fo,content:s}:void 0}function ur(n){return Object.fromEntries(Object.entries(n).filter(([,e])=>e!==void 0))}function AS(n,e){const{type:t,marker:o,code:s,unknownAttributes:l}=n;return ur({type:t,marker:o,code:s,...l,content:e})}function Zm(n,e,t){const o=Tc(n);if(e&&e.startsWith(o)){const s=parseInt(e.slice(o.length),10);isNaN(s)||(t=s.toString())}return t}function OS(n){const{marker:e,sid:t,altnumber:o,pubnumber:s,unknownAttributes:l}=n,{text:u}=n;let{number:c}=n;return c=Zm(e,u,c),ur({type:Pn.getType(),marker:e,number:c,sid:t,altnumber:o,pubnumber:s,...l})}function LS(n){const{marker:e,sid:t,altnumber:o,pubnumber:s,unknownAttributes:l}=n,{text:u}=n;let{number:c}=n;return c=Zm(e,u,c),ur({type:ar.getType(),marker:e,number:c,sid:t,altnumber:o,pubnumber:s,...l})}function DS(n){const{type:e,marker:t,unknownAttributes:o}=n;let{text:s}=n;return s.startsWith(yi)&&(s=s.slice(1)),ur({type:e,marker:t,...o,content:[s]})}function IS(n,e){const{type:t,marker:o,unknownAttributes:s}=n;return ur({type:t,marker:o,...s,content:e})}function MS(n,e){const{type:t,marker:o,caller:s,category:l,unknownAttributes:u}=n;return ur({type:t,marker:o,caller:s,category:l,...u,content:e})}function RS(n){const{type:e,marker:t,sid:o,eid:s,unknownAttributes:l}=n;return ur({type:e,marker:t,sid:o,eid:s,...l})}function PS(n){return n.text}function FS(n,e){const{tag:t,marker:o,unknownAttributes:s}=n;return ur({type:t,marker:o,...s,content:e})}function ii(n,e){const t=[];return n.forEach(o=>{const s=o,l=o,u=o,c=o,f=o;switch(o.type){case Rt.getType():t.push(AS(s,ii(s.children)));break;case hn.getType():case Pn.getType():t.push(OS(o));break;case en.getType():case ar.getType():t.push(LS(o));break;case Et.getType():t.push(DS(o));break;case dn.getType():t.push(IS(l,ii(l.children)));break;case Yt.getType():t.push(MS(u,ii(u.children,u.caller)));break;case ir.getType():case vi.getType():case Or.getType():break;case tr.getType():t.push(RS(o));break;case Qt.getType():c.text&&c.text!==yi&&(!e||c.text!==Dm(e))&&t.push(PS(c));break;case wi.getType():t.push(FS(f,ii(f.children)));break;default:Ru==null||Ru.error(`Unexpected node type '${o.type}'!`)}}),t&&t.length>0?t:void 0}function Qm(n){const e=n.findIndex(t=>t.type===bi.getType());if(e>=0){const t=n.slice(0,e),o=n[e].children,s=Qm(n.slice(e+1));n=[...t,...o,...s]}return n}const qS={initialize:SS,deserializeEditorState:NS},e_="formatted",BS="unformatted",t_=e_;function n_(n){let e;switch(n??t_){case e_:e={markerMode:"hidden",hasSpacing:!0,isFormattedFont:!0};break;case BS:e={markerMode:"editable",hasSpacing:!1,isFormattedFont:!1};break}return e}const WS={type:Or.getType(),version:1},US=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];let ce,Zn,ti=0,Ce;function zS(n,e){VS(n),KS(e)}function $S(n=0){r_(n)}function HS(n,e){e?ce=e:ce=n_(void 0);const t=s_({type:dn.getType(),marker:Ec});let o;return n?(n.type!==co&&(Ce==null||Ce.warn(`This USJ type '${n.type}' didn't match the expected type '${co}'.`)),n.version!==fo&&(Ce==null||Ce.warn(`This USJ version '${n.version}' didn't match the expected version '${fo}'.`)),n.content.length>0?o=io(ho(n.content)):o=[t]):o=[t],{root:{children:o,direction:null,format:"",indent:0,type:"root",version:1}}}function VS(n){n&&(Zn=n)}function KS(n){n&&(Ce=n)}function r_(n=0){ti=n}function Sc(n){if(n)return n.markerMode==="editable"?Pn:hn}function Nc(n){if(n)return n.markerMode==="editable"?ar:en}function i_(n){const e=[];return n!=null&&n.hasSpacing&&e.push(XE),n!=null&&n.isFormattedFont&&e.push(YE),e}function GS(n){let e=US;if(Zn&&Zn[ai]){const o=Zn[ai].noteCallers;o&&o.length>0&&(e=o)}let t=n;if(n==="+"){ti>=e.length**2+e.length&&(r_(),Ce==null||Ce.warn("Note caller count was reset. Consider adding more possible note callers."));const o=ti%e.length;let s="";if(ti>=e.length){const l=Math.trunc(ti/e.length)-1;s=e[l]}t=s+e[o],ti+=1}return t??"*"}function o_(n){return!n||n.length!==1||typeof n[0]!="string"?"":n[0]}function JS(n){const{marker:e,code:t}=n;e!==xm&&(Ce==null||Ce.warn(`Unexpected book marker '${e}'!`)),(!t||!Rt.isValidBookCode(t))&&(Ce==null||Ce.warn(`Unexpected book code '${t}'!`));const o=lr(n);return{type:Rt.getType(),marker:e,code:t??"",unknownAttributes:o,children:[Cl(o_(n.content))],direction:null,format:"",indent:0,version:km}}function jS(n){const{marker:e,number:t,sid:o,altnumber:s,pubnumber:l}=n;e!==Mm&&(Ce==null||Ce.warn(`Unexpected chapter marker '${e}'!`));const u=(Sc(ce)??hn).getType(),c=(ce==null?void 0:ce.markerMode)==="editable"?Rm:Im;let f;const d=i_(ce);let p;(ce==null?void 0:ce.markerMode)==="editable"?f=Tl(e,t):(ce==null?void 0:ce.markerMode)==="visible"&&(p=!0);const v=lr(n);return{type:u,text:f,marker:e,number:t??"",classList:d,sid:o,altnumber:s,pubnumber:l,showMarker:p,unknownAttributes:v,version:c}}function XS(n){const{marker:e,number:t,sid:o,altnumber:s,pubnumber:l}=n;e!==Fm&&(Ce==null||Ce.warn(`Unexpected verse marker '${e}'!`));const u=(Nc(ce)??en).getType(),c=(ce==null?void 0:ce.markerMode)==="editable"?qm:Cm;let f,d;(ce==null?void 0:ce.markerMode)==="editable"?f=Tl(e,t):(ce==null?void 0:ce.markerMode)==="visible"&&(d=!0);const p=lr(n);return{type:u,text:f,marker:e,number:t??"",sid:o,altnumber:s,pubnumber:l,showMarker:d,unknownAttributes:p,version:c}}function YS(n){const{marker:e}=n;Et.isValidMarker(e)||Ce==null||Ce.warn(`Unexpected char marker '${e}'!`);let t=o_(n.content);((ce==null?void 0:ce.markerMode)==="visible"||(ce==null?void 0:ce.markerMode)==="editable")&&(t=yi+t);const o=lr(n);return{type:Et.getType(),marker:e,text:t,unknownAttributes:o,detail:0,format:0,mode:"normal",style:"",version:Hm}}function ZS(n){return{type:bi.getType(),children:n,direction:null,format:"",indent:0,textFormat:0,version:Gm}}function s_(n,e=[]){const{marker:t}=n;dn.isValidMarker(t)||Ce==null||Ce.warn(`Unexpected para marker '${t}'!`);const o=i_(ce),s=[];(ce==null?void 0:ce.markerMode)==="editable"&&s.push(To(t),Cl(yi)),s.push(...e);const l=lr(n);return{type:dn.getType(),marker:t,classList:o,unknownAttributes:l,children:s,direction:null,format:"",indent:0,textFormat:0,version:Xm}}function QS(n,e){const t=lS(e);let o=()=>{};return Zn&&Zn[ai]&&Zn[ai].onClick&&(o=Zn[ai].onClick),{type:ir.getType(),caller:n,previewText:t,onClick:o,version:jg}}function eN(n,e){const{marker:t,category:o}=n;Yt.isValidMarker(t)||Ce==null||Ce.warn(`Unexpected note marker '${t}'!`);const s=n.caller??"*";let l;(ce==null?void 0:ce.markerMode)==="editable"?l=Cl(Dm(s)):(l=QS(GS(n.caller),e),e.forEach(p=>{p.style="display: none"}));let u,c;((ce==null?void 0:ce.markerMode)==="visible"||(ce==null?void 0:ce.markerMode)==="editable")&&(u=To(t),c=To(t,!1));const f=[];u&&f.push(u),f.push(l,...e),c&&f.push(c);const d=lr(n);return{type:Yt.getType(),marker:t,caller:s,category:o,unknownAttributes:d,children:f,direction:null,format:"",indent:0,version:Vm}}function tN(n){const{marker:e,sid:t,eid:o}=n;(!e||!tr.isValidMarker(e))&&(Ce==null||Ce.warn(`Unexpected milestone marker '${e}'!`));const s=lr(n);return{type:tr.getType(),marker:e,sid:t,eid:o,unknownAttributes:s,version:Km}}function vp(n,e=[]){return{type:wl.getType(),ids:e,children:n,direction:null,format:"",indent:0,version:1}}function nN(n,e){const{marker:t}=n,o=n.type,s=lr(n),l=[...e];return{type:wi.getType(),tag:o,marker:t,unknownAttributes:s,children:l,direction:null,format:"",indent:0,version:Ym}}function To(n,e=!0){return{type:vi.getType(),marker:n,isOpening:e,text:"",detail:0,format:0,mode:"normal",style:"",version:1}}function Cl(n){return{type:Qt.getType(),text:n,detail:0,format:0,mode:"normal",style:"",version:1}}function rN(n,e){((ce==null?void 0:ce.markerMode)==="visible"||(ce==null?void 0:ce.markerMode)==="editable")&&e.push(To(n))}function iN(n,e){((ce==null?void 0:ce.markerMode)==="visible"||(ce==null?void 0:ce.markerMode)==="editable")&&!(Et.isValidFootnoteMarker(n)||Et.isValidCrossReferenceMarker(n))&&e.push(To(n,!1))}function bp(n,e){return n.length<=0||e===0?n:n.map(t=>t-e)}function oN(n,e){const t=n.indexOf(e,0);t>-1&&n.splice(t,1)}function wp(n,e){e.marker===ko&&e.sid!==void 0&&n.push(e.sid),e.marker===Cc&&e.eid!==void 0&&oN(n,e.eid)}function Pu(n,e,t=!1,o=[]){if(e.length<=0||e[0]>=n.length)return n;const s=e.shift(),l=e.length>0?e.shift():n.length-1;if(!s||!l)return n;const u=n.slice(0,s),c=t?[vp(u,[...o])]:u,f=n[s];wp(o,f);const d=Pu(n.slice(s+1,l),bp(e,s+1),f.marker===ko,o),p=vp(d,[...o]),v=n[l];wp(o,v);const m=Pu(n.slice(l+1),bp(e,l+1),v.marker===ko,o);return[...c,f,p,v,...m]}function ho(n){const e=[],t=[];return n==null||n.forEach(o=>{if(typeof o=="string")t.push(Cl(o));else if(!o.type)Ce==null||Ce.error("Marker type is missing!");else switch(o.type){case Rt.getType():t.push(JS(o));break;case Pn.getType():t.push(jS(o));break;case ar.getType():ce!=null&&ce.hasSpacing||t.push(WS),t.push(XS(o));break;case Et.getType():rN(o.marker,t),t.push(YS(o)),iN(o.marker,t);break;case dn.getType():t.push(s_(o,ho(o.content)));break;case Yt.getType():t.push(eN(o,ho(o.content)));break;case tr.getType():vS(o.marker)&&e.push(t.length),t.push(tN(o));break;default:Ce==null||Ce.warn(`Unknown type-marker '${o.type}-${o.marker}'!`),t.push(nN(o,ho(o.content)))}}),Pu(t,e)}function io(n){const e=n.findIndex(l=>l.type===Rt.getType()),t=e>=0,o=n.findIndex(l=>l.type===Pn.getType()),s=o>=0;if(t&&(!s||e<o)){const l=io(n.slice(0,e)),u=n[e],c=io(n.slice(e+1));return[...l,u,...c]}else if(s){const l=io(n.slice(0,o)),u=n[o],c=io(n.slice(o+1));return[...l,u,...c]}else if(n.some(l=>"text"in l&&"mode"in l))return[ZS(n)];return n}const xp={initialize:zS,reset:$S,serializeEditorState:HS};function sN({scripture:n,nodeOptions:e,editorAdaptor:t,viewOptions:o,logger:s}){var l;const[u]=Ze();return(l=t.initialize)==null||l.call(t,e,s),z.useEffect(()=>{var c;(c=t.reset)==null||c.call(t);const f=t.serializeEditorState(n,o),d=u.parseEditorState(f),p=setTimeout(()=>{u.setEditorState(d),u.dispatchCommand(jp,void 0)},0);return()=>clearTimeout(p)},[u,n,o,t]),null}const lN={chapter:"chapter",verse:"verse",char:"char",para:"para",ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}};function aN(n){const e=n.getParentOrThrow(),t=e.getChildren(),o=t.find(l=>mE(l));if(!hS(n)||!mS(e)&&!o)return;const s=aS(t);o.setPreviewText(s)}function uN(n){z.useEffect(()=>{if(!n.hasNodes([Et,Yt,ir]))throw new Error("NoteNodePlugin: CharNode, NoteNode and/or ImmutableNoteCallerNode not registered on editor!");return n.registerNodeTransform(Et,aN)},[n])}function cN(){const[n]=Ze();return uN(n),null}function fN(){return G.jsx("div",{className:"flex h-full w-full items-center justify-center",children:G.jsxs("svg",{className:"h-10 w-10 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[G.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),G.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}var dN=Object.getOwnPropertyNames,hN=Object.getOwnPropertySymbols,pN=Object.prototype.hasOwnProperty;function kp(n,e){return function(t,o,s){return n(t,o,s)&&e(t,o,s)}}function Bs(n){return function(e,t,o){if(!e||!t||typeof e!="object"||typeof t!="object")return n(e,t,o);var s=o.cache,l=s.get(e),u=s.get(t);if(l&&u)return l===t&&u===e;s.set(e,t),s.set(t,e);var c=n(e,t,o);return s.delete(e),s.delete(t),c}}function Tp(n){return dN(n).concat(hN(n))}var l_=Object.hasOwn||function(n,e){return pN.call(n,e)};function xi(n,e){return n||e?n===e:n===e||n!==n&&e!==e}var a_="_owner",Cp=Object.getOwnPropertyDescriptor,Ep=Object.keys;function gN(n,e,t){var o=n.length;if(e.length!==o)return!1;for(;o-- >0;)if(!t.equals(n[o],e[o],o,o,n,e,t))return!1;return!0}function mN(n,e){return xi(n.getTime(),e.getTime())}function Sp(n,e,t){if(n.size!==e.size)return!1;for(var o={},s=n.entries(),l=0,u,c;(u=s.next())&&!u.done;){for(var f=e.entries(),d=!1,p=0;(c=f.next())&&!c.done;){var v=u.value,m=v[0],b=v[1],w=c.value,x=w[0],T=w[1];!d&&!o[p]&&(d=t.equals(m,x,l,p,n,e,t)&&t.equals(b,T,m,x,n,e,t))&&(o[p]=!0),p++}if(!d)return!1;l++}return!0}function _N(n,e,t){var o=Ep(n),s=o.length;if(Ep(e).length!==s)return!1;for(var l;s-- >0;)if(l=o[s],l===a_&&(n.$$typeof||e.$$typeof)&&n.$$typeof!==e.$$typeof||!l_(e,l)||!t.equals(n[l],e[l],l,l,n,e,t))return!1;return!0}function to(n,e,t){var o=Tp(n),s=o.length;if(Tp(e).length!==s)return!1;for(var l,u,c;s-- >0;)if(l=o[s],l===a_&&(n.$$typeof||e.$$typeof)&&n.$$typeof!==e.$$typeof||!l_(e,l)||!t.equals(n[l],e[l],l,l,n,e,t)||(u=Cp(n,l),c=Cp(e,l),(u||c)&&(!u||!c||u.configurable!==c.configurable||u.enumerable!==c.enumerable||u.writable!==c.writable)))return!1;return!0}function yN(n,e){return xi(n.valueOf(),e.valueOf())}function vN(n,e){return n.source===e.source&&n.flags===e.flags}function Np(n,e,t){if(n.size!==e.size)return!1;for(var o={},s=n.values(),l,u;(l=s.next())&&!l.done;){for(var c=e.values(),f=!1,d=0;(u=c.next())&&!u.done;)!f&&!o[d]&&(f=t.equals(l.value,u.value,l.value,u.value,n,e,t))&&(o[d]=!0),d++;if(!f)return!1}return!0}function bN(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}var wN="[object Arguments]",xN="[object Boolean]",kN="[object Date]",TN="[object Map]",CN="[object Number]",EN="[object Object]",SN="[object RegExp]",NN="[object Set]",AN="[object String]",ON=Array.isArray,Ap=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Op=Object.assign,LN=Object.prototype.toString.call.bind(Object.prototype.toString);function DN(n){var e=n.areArraysEqual,t=n.areDatesEqual,o=n.areMapsEqual,s=n.areObjectsEqual,l=n.arePrimitiveWrappersEqual,u=n.areRegExpsEqual,c=n.areSetsEqual,f=n.areTypedArraysEqual;return function(d,p,v){if(d===p)return!0;if(d==null||p==null||typeof d!="object"||typeof p!="object")return d!==d&&p!==p;var m=d.constructor;if(m!==p.constructor)return!1;if(m===Object)return s(d,p,v);if(ON(d))return e(d,p,v);if(Ap!=null&&Ap(d))return f(d,p,v);if(m===Date)return t(d,p,v);if(m===RegExp)return u(d,p,v);if(m===Map)return o(d,p,v);if(m===Set)return c(d,p,v);var b=LN(d);return b===kN?t(d,p,v):b===SN?u(d,p,v):b===TN?o(d,p,v):b===NN?c(d,p,v):b===EN?typeof d.then!="function"&&typeof p.then!="function"&&s(d,p,v):b===wN?s(d,p,v):b===xN||b===CN||b===AN?l(d,p,v):!1}}function IN(n){var e=n.circular,t=n.createCustomConfig,o=n.strict,s={areArraysEqual:o?to:gN,areDatesEqual:mN,areMapsEqual:o?kp(Sp,to):Sp,areObjectsEqual:o?to:_N,arePrimitiveWrappersEqual:yN,areRegExpsEqual:vN,areSetsEqual:o?kp(Np,to):Np,areTypedArraysEqual:o?to:bN};if(t&&(s=Op({},s,t(s))),e){var l=Bs(s.areArraysEqual),u=Bs(s.areMapsEqual),c=Bs(s.areObjectsEqual),f=Bs(s.areSetsEqual);s=Op({},s,{areArraysEqual:l,areMapsEqual:u,areObjectsEqual:c,areSetsEqual:f})}return s}function MN(n){return function(e,t,o,s,l,u,c){return n(e,t,c)}}function RN(n){var e=n.circular,t=n.comparator,o=n.createState,s=n.equals,l=n.strict;if(o)return function(c,f){var d=o(),p=d.cache,v=p===void 0?e?new WeakMap:void 0:p,m=d.meta;return t(c,f,{cache:v,equals:s,meta:m,strict:l})};if(e)return function(c,f){return t(c,f,{cache:new WeakMap,equals:s,meta:void 0,strict:l})};var u={cache:void 0,equals:s,meta:void 0,strict:l};return function(c,f){return t(c,f,u)}}var PN=cr();cr({strict:!0});cr({circular:!0});cr({circular:!0,strict:!0});cr({createInternalComparator:function(){return xi}});cr({strict:!0,createInternalComparator:function(){return xi}});cr({circular:!0,createInternalComparator:function(){return xi}});cr({circular:!0,createInternalComparator:function(){return xi},strict:!0});function cr(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,o=n.createInternalComparator,s=n.createState,l=n.strict,u=l===void 0?!1:l,c=IN(n),f=DN(c),d=o?o(f):MN(f);return RN({circular:t,comparator:f,createState:s,equals:d,strict:u})}function FN(n){const[e,t]=z.useState(n),[o,s]=z.useState(n);return z.useEffect(()=>{PN(n,o)||t(n)},[n]),[e,o,s]}const qN=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?z.useLayoutEffect:z.useEffect;class BN{constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}}const Lp=n=>{const e=document.getElementById("typeahead-menu");if(!e)return;const t=e.getBoundingClientRect();t.top+t.height>window.innerHeight&&e.scrollIntoView({block:"center"}),t.top<0&&e.scrollIntoView({block:"center"}),n.scrollIntoView({block:"nearest"})};function Dp(n,e){const t=n.getBoundingClientRect(),o=e.getBoundingClientRect();return t.top>o.top&&t.top<o.bottom}function WN(n,e,t,o){const[s]=Ze();z.useEffect(()=>{if(e!=null&&n!=null){const l=s.getRootElement(),u=l!=null?function(v,m){let b=getComputedStyle(v);const w=b.position==="absolute",x=/(auto|scroll)/;if(b.position==="fixed")return document.body;for(let T=v;T=T.parentElement;)if(b=getComputedStyle(T),(!w||b.position!=="static")&&x.test(b.overflow+b.overflowY+b.overflowX))return T;return document.body}(l):document.body;let c=!1,f=Dp(e,u);const d=function(){c||(window.requestAnimationFrame(function(){t(),c=!1}),c=!0);const v=Dp(e,u);v!==f&&(f=v,o!=null&&o(v))},p=new ResizeObserver(t);return window.addEventListener("resize",t),document.addEventListener("scroll",d,{capture:!0,passive:!0}),p.observe(e),()=>{p.unobserve(e),window.removeEventListener("resize",t),document.removeEventListener("scroll",d,!0)}}},[e,s,o,t,n])}const Ip=Bp();function UN({close:n,editor:e,anchorElementRef:t,resolution:o,options:s,menuRenderFn:l,onSelectOption:u,shouldSplitNodeWithQuery:c=!1,commandPriority:f=cc}){const[d,p]=z.useState(null),v=o.match&&o.match.matchingString;z.useEffect(()=>{p(0)},[v]);const m=z.useCallback(w=>{e.update(()=>{const x=o.match!=null&&c?function(T){const O=Q();if(!H(O)||!O.isCollapsed())return null;const C=O.anchor;if(C.type!=="text")return null;const A=C.getNode();if(!A.isSimpleText())return null;const D=C.offset,U=A.getTextContent().slice(0,D),M=T.replaceableString.length,q=D-function($,ie,Y){let ve=Y;for(let oe=ve;oe<=ie.length;oe++)$.substr(-oe)===ie.substr(0,oe)&&(ve=oe);return ve}(U,T.matchingString,M);if(q<0)return null;let B;return q===0?[B]=A.splitText(D):[,B]=A.splitText(q,D),B}(o.match):null;u(w,x,n,o.match?o.match.matchingString:"")})},[e,c,o.match,u,n]),b=z.useCallback(w=>{const x=e.getRootElement();x!==null&&(x.setAttribute("aria-activedescendant","typeahead-item-"+w),p(w))},[e]);return z.useEffect(()=>()=>{const w=e.getRootElement();w!==null&&w.removeAttribute("aria-activedescendant")},[e]),qN(()=>{s===null?p(null):d===null&&b(0)},[s,d,b]),z.useEffect(()=>di(e.registerCommand(Ip,({option:w})=>!(!w.ref||w.ref.current==null)&&(Lp(w.ref.current),!0),f)),[e,b,f]),z.useEffect(()=>di(e.registerCommand(Wu,w=>{const x=w;if(s!==null&&s.length&&d!==null){const T=d!==s.length-1?d+1:0;b(T);const O=s[T];O.ref!=null&&O.ref.current&&e.dispatchCommand(Ip,{index:T,option:O}),x.preventDefault(),x.stopImmediatePropagation()}return!0},f),e.registerCommand(Bu,w=>{const x=w;if(s!==null&&s.length&&d!==null){const T=d!==0?d-1:s.length-1;b(T);const O=s[T];O.ref!=null&&O.ref.current&&Lp(O.ref.current),x.preventDefault(),x.stopImmediatePropagation()}return!0},f),e.registerCommand(Uu,w=>{const x=w;return x.preventDefault(),x.stopImmediatePropagation(),n(),!0},f),e.registerCommand(Vp,w=>{const x=w;return s!==null&&d!==null&&s[d]!=null&&(x.preventDefault(),x.stopImmediatePropagation(),m(s[d]),!0)},f),e.registerCommand(mo,w=>s!==null&&d!==null&&s[d]!=null&&(w!==null&&(w.preventDefault(),w.stopImmediatePropagation()),m(s[d]),!0),f)),[m,n,e,s,d,b,f]),l(t,z.useMemo(()=>({options:s,selectOptionAndCleanUp:m,selectedIndex:d,setHighlightedIndex:p}),[m,d,s]),o.match?o.match.matchingString:"")}function zN({options:n,onWillOpen:e,onClose:t,onOpen:o,onSelectOption:s,menuRenderFn:l,anchorClassName:u,commandPriority:c=cc,parent:f}){const[d]=Ze(),[p,v]=z.useState(null),m=z.useRef(null),b=function(C,A,D,U=document.body){const[M]=Ze(),q=z.useRef(document.createElement("div")),B=z.useCallback(()=>{q.current.style.top=q.current.style.bottom;const ie=M.getRootElement(),Y=q.current,ve=Y.firstChild;if(ie!==null&&C!==null){const{left:oe,top:de,width:Ae,height:pe}=C.getRect(),we=q.current.offsetHeight;if(Y.style.top=`${de+window.pageYOffset+we+3}px`,Y.style.left=`${oe+window.pageXOffset}px`,Y.style.height=`${pe}px`,Y.style.width=`${Ae}px`,ve!==null){ve.style.top=`${de}`;const qe=ve.getBoundingClientRect(),pn=qe.height,tn=qe.width,He=ie.getBoundingClientRect();oe+tn>He.right&&(Y.style.left=`${He.right-tn+window.pageXOffset}px`),(de+pn>window.innerHeight||de+pn>He.bottom)&&de-He.top>pn+pe&&(Y.style.top=de-pn+window.pageYOffset-pe+"px")}Y.isConnected||(D!=null&&(Y.className=D),Y.setAttribute("aria-label","Typeahead menu"),Y.setAttribute("id","typeahead-menu"),Y.setAttribute("role","listbox"),Y.style.display="block",Y.style.position="absolute",U.append(Y)),q.current=Y,ie.setAttribute("aria-controls","typeahead-menu")}},[M,C,D,U]);z.useEffect(()=>{const ie=M.getRootElement();if(C!==null)return B(),()=>{ie!==null&&ie.removeAttribute("aria-controls");const Y=q.current;Y!==null&&Y.isConnected&&Y.remove()}},[M,B,C]);const $=z.useCallback(ie=>{C!==null&&(ie||A(null))},[C,A]);return WN(C,q.current,B,$),q}(p,v,u,f),w=z.useCallback(()=>{v(null),t!=null&&p!==null&&t()},[t,p]),x=z.useCallback(C=>{v(C),o!=null&&p===null&&o(C)},[o,p]),T=z.useCallback(C=>{C.preventDefault(),e!=null&&e(C);const A=wC(C.target);x({getRect:()=>new DOMRect(C.clientX/A,C.clientY/A,1,1)})},[x,e]),O=z.useCallback(C=>{p===null||m.current==null||C.target==null||m.current.contains(C.target)||w()},[w,p]);return z.useEffect(()=>{const C=d.getRootElement();if(C)return C.addEventListener("contextmenu",T),()=>C.removeEventListener("contextmenu",T)},[d,T]),z.useEffect(()=>(document.addEventListener("click",O),()=>document.removeEventListener("click",O)),[d,O]),p===null||d===null?null:G.jsx(UN,{close:w,resolution:p,editor:d,anchorElementRef:b,options:n,menuRenderFn:(C,A)=>l(C,A,{setMenuRef:D=>{m.current=D}}),onSelectOption:s,commandPriority:c})}const u_=n=>{navigator.clipboard.read().then(async()=>{const e=new DataTransfer,t=(await navigator.clipboard.read())[0];if((await navigator.permissions.query({name:"clipboard-read"})).state==="denied"){alert("Not allowed to paste from clipboard.");return}for(const s of t.types){const l=await(await t.getType(s)).text();e.setData(s,l)}const o=new ClipboardEvent("paste",{clipboardData:e});n.dispatchCommand(Co,o)})},c_=n=>{navigator.clipboard.read().then(async()=>{if((await navigator.permissions.query({name:"clipboard-read"})).state==="denied"){alert("Not allowed to paste from clipboard.");return}const e=new DataTransfer,t=await navigator.clipboard.readText();e.setData("text/plain",t);const o=new ClipboardEvent("paste",{clipboardData:e});n.dispatchCommand(Co,o)})};function $N({index:n,isSelected:e,onClick:t,onMouseEnter:o,option:s}){let l="item";return e&&(l+=" selected"),G.jsx("li",{tabIndex:-1,className:l,ref:s.setRefElement,role:"option","aria-selected":e,id:"typeahead-item-"+n,onMouseEnter:o,onClick:t,children:G.jsx("span",{className:"text",children:s.title})},s.key)}function HN({options:n,selectedItemIndex:e,onOptionClick:t,onOptionMouseEnter:o}){return G.jsx("div",{className:"typeahead-popover",children:G.jsx("ul",{children:n.map((s,l)=>G.jsx($N,{index:l,isSelected:e===l,onClick:()=>t(s,l),onMouseEnter:()=>o(l),option:s},s.key))})})}class Ws extends BN{constructor(e,t){super(e),ee(this,"title"),ee(this,"onSelect"),this.title=e,this.onSelect=t.onSelect.bind(this)}}function VN(){const[n]=Ze(),e=z.useMemo(()=>[new Ws("Cut",{onSelect:()=>{n.dispatchCommand(Eo,null)}}),new Ws("Copy",{onSelect:()=>{n.dispatchCommand(mi,null)}}),new Ws("Paste",{onSelect:()=>{u_(n)}}),new Ws("Paste as Plain Text",{onSelect:()=>{c_(n)}})],[n]),t=z.useCallback((o,s,l)=>{n.update(()=>{o.onSelect(s),l()})},[n]);return G.jsx(zN,{options:e,onSelectOption:t,menuRenderFn:(o,{selectedIndex:s,options:l,selectOptionAndCleanUp:u,setHighlightedIndex:c},{setMenuRef:f})=>o.current?$s.createPortal(G.jsx("div",{className:"typeahead-popover auto-embed-menu",style:{marginLeft:o.current.style.width,userSelect:"none",width:200},ref:f,children:G.jsx(HN,{options:e,selectedItemIndex:s,onOptionClick:(d,p)=>{c(p),u(d)},onOptionMouseEnter:d=>{c(d)}})}),o.current):null})}const KN=()=>{const[n]=Ze();return z.useLayoutEffect(()=>{const e=t=>{(t.ctrlKey||t.metaKey)&&t.key==="c"?(t.preventDefault(),n.dispatchCommand(mi,null)):(t.ctrlKey||t.metaKey)&&t.key==="x"?(t.preventDefault(),n.dispatchCommand(Eo,null)):t.shiftKey&&(t.ctrlKey||t.metaKey)&&t.key==="v"?(t.preventDefault(),c_(n)):(t.ctrlKey||t.metaKey)&&t.key==="v"&&(t.preventDefault(),u_(n))};return n.registerRootListener((t,o)=>{o!==null&&o.removeEventListener("keydown",e),t!==null&&t.addEventListener("keydown",e)})},[n]),null},Mp={children:[{direction:null,format:"",indent:0,type:"para",version:1,textFormat:0,marker:"p",classList:["text-spacing","formatted-font"],children:[{type:"note",marker:"f",caller:"+",direction:null,format:"",indent:0,version:1,children:[{type:"immutable-note-caller",caller:"b",previewText:"",version:1}]}]}]};function f_(n,e){const t=e.getTextContentSize();n.anchor.set(e.getKey(),t,"text"),n.focus.set(e.getKey(),t,"text")}const GN=n=>$e(Ig(n)),JN=n=>{const e=GN(n);return console.log("===>",{newNode:e}),Lg([e]),Ar(e.getParentOrThrow())&&bC(e,jt).selectEnd(),e};function jN({editor:n,inputValues:{chapter:e}}){console.log({chapter:e});const t="xx",o="xx",s="xx",l=e,u=["chapter","usfm_c","text-spacing","formatted-font"];n.update(()=>{const c=Q();if(H(c)){const f=Pm(e,u,l,t,o,s),d=Ue(" ");c.insertNodes([f,d]),f_(c,d)}})}function XN({editor:n,inputValues:{verse:e}}){const t="xx",o="xx",s="xx",l=e;n.update(()=>{const u=Q();if(H(u)){const c=Bm(e,l,t,o,s),f=Ue(" ");u.insertNodes([c,f]),f_(u,f)}})}function YN(n){return JSON.parse(JSON.stringify(n))}function ZN(n,e){const t=YN(n),o=t.children[0].children.find(s=>s.type==="note");return o&&Object.entries(e).forEach(([s,l])=>{const u=o.children.find(c=>c.marker===s);if(u)u.text=l;else{const c={type:"char",marker:s,text:l,detail:0,format:0,mode:"normal",style:"display: none",version:1};o.children.push(c)}}),t}function QN({editor:n,inputValues:e}){n.update(()=>{const t=ZN(Mp,e);console.log({newFootnoteNode:t,emptyFootnote:Mp});const o=ii(t.children);console.log({notecontent:o});const s=ho(o);console.log({noteNode:s}),JN(s[0])})}function au({onClick:n,children:e,...t}){const[o]=Ze();return G.jsx("button",{onClick:s=>n?n(s,o):void 0,...t,className:"rounded bg-white px-2 py-1 text-sm font-bold text-cyan-500 hover:bg-cyan-500 hover:text-white",children:e})}function e1({onClose:n,children:e,title:t,closeOnClickOutside:o}){const s=z.useRef(null);return z.useEffect(()=>{s.current!==null&&s.current.focus()},[]),z.useEffect(()=>{let l=null;const u=d=>{d.key==="Escape"&&n()},c=d=>{const p=d.target;s.current!==null&&!s.current.contains(p)&&o&&n()},f=s.current;return f!==null&&(l=f.parentElement,l!==null&&l.addEventListener("click",c)),window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u),l!==null&&(l==null||l.removeEventListener("click",c))}},[o,n]),G.jsx("div",{className:"Modal__overlay",role:"dialog",children:G.jsxs("div",{className:"Modal__modal",tabIndex:-1,ref:s,children:[G.jsx("h2",{className:"Modal__title",children:t}),G.jsx("button",{className:"Modal__closeButton","aria-label":"Close modal",type:"button",onClick:n,children:"X"}),G.jsx("div",{className:"Modal__content",children:e})]})})}function t1({onClose:n,children:e,title:t,closeOnClickOutside:o=!1}){return $s.createPortal(G.jsx(e1,{onClose:n,title:t,closeOnClickOutside:o,children:e}),document.body)}function n1(){const[n,e]=z.useState(null),t=z.useCallback(()=>{e(null)},[]),o=z.useMemo(()=>{if(n===null)return null;const{title:l,content:u,closeOnClickOutside:c}=n;return G.jsx(t1,{onClose:t,title:l,closeOnClickOutside:c,children:u})},[n,t]),s=z.useCallback((l,u,c=!1)=>{e({closeOnClickOutside:c,content:u(t),title:l})},[t]);return[o,s]}const En=({label:n,value:e,onChange:t,placeholder:o="","data-test-id":s,type:l="text"})=>G.jsxs("div",{className:"Input__wrapper",children:[G.jsx("label",{className:"Input__label",children:n}),G.jsx("input",{type:l,className:"Input__input",placeholder:o,value:e,onChange:u=>t(u.target.value),"data-test-id":s})]}),uu=({activeEditor:n,onClose:e,insertFunction:t,label:o,placeholder:s})=>{const[l,u]=z.useState({}),[c,f]=z.useState(!0);z.useEffect(()=>{f(Object.values(l).some(v=>v.trim()===""))},[l]);const d=v=>m=>{console.log({inputValues:l}),u(b=>({...b,[v]:m}))},p=()=>{console.log("Inserting Note: ",l),t({editor:n,inputValues:l}),u({}),e()};return G.jsxs(G.Fragment,{children:[o==="Footnote"?G.jsxs(G.Fragment,{children:[G.jsx(En,{placeholder:"Text",label:"Text",onChange:d("ft"),value:l.ft||"","data-test-id":"note-ft"}),G.jsx(En,{placeholder:"Origin Reference.",label:"Orign Reference",onChange:d("fr"),value:l.fr||"","data-test-id":"note-fr"}),G.jsx(En,{placeholder:"Quotation",label:"Quotation",onChange:d("fq"),value:l.fq||"","data-test-id":"note-ftquot"}),G.jsx(En,{placeholder:"Content",label:"Content",onChange:d("fqa"),value:l.fqa||"","data-test-id":"note-fqa"})]}):o==="XRef"?G.jsxs(G.Fragment,{children:[G.jsx(En,{placeholder:"Note Title",label:"Title",onChange:d("title"),value:l.title||"","data-test-id":"note-title"}),G.jsx(En,{placeholder:"Note Content",label:"Content",onChange:d("content"),value:l.content||"","data-test-id":"note-content"}),G.jsx(En,{placeholder:"Author",label:"Author",onChange:d("author"),value:l.author||"","data-test-id":"note-author"}),G.jsx(En,{placeholder:"Date",label:"Date",onChange:d("date"),value:l.date||"","data-test-id":"note-date"})]}):G.jsx(En,{placeholder:s??"Enter Value",label:o,onChange:d(o.toLowerCase()),value:l[o.toLowerCase()]||"","data-test-id":`modal-${o.toLowerCase()}`,type:"number"}),G.jsx(r1,{disabled:c,onClick:p,children:"Confirm"})]})},r1=({"data-test-id":n,children:e,className:t,onClick:o,disabled:s,title:l})=>G.jsx("button",{disabled:s,className:`Button__root ${t}`,onClick:o,title:l,"aria-label":l,...n&&{"data-test-id":n},children:e}),i1=()=>{const[n,e]=n1(),t=Ze()[0];return G.jsxs("div",{className:"left-0 right-0 top-0 z-10 flex items-center justify-start bg-gray-200 px-2 py-2",children:[G.jsxs("div",{className:"flex space-x-2",children:[G.jsx(au,{onClick:()=>{e("Insert Verse",o=>G.jsx(uu,{activeEditor:t,onClose:o,insertFunction:XN,label:"Verse",placeholder:"Verse Number"}))},children:"Insert Verse"}),G.jsx(au,{onClick:()=>{e("Insert Chapter",o=>G.jsx(uu,{activeEditor:t,onClose:o,insertFunction:jN,label:"Chapter",placeholder:"Chapter Number"}))},children:"Insert Chapter"}),G.jsx(au,{onClick:()=>{e("Insert Footnote",o=>G.jsx(uu,{activeEditor:t,onClose:o,insertFunction:QN,label:"Footnote"}))},className:"item",children:G.jsx("span",{className:"text",children:"Footnote"})})]}),n]})};let ul=!1;function o1({scrRef:n,setScrRef:e,viewOptions:t}){const[o]=Ze(),{bookCode:s,chapterNum:l,verseNum:u}=n;return z.useEffect(()=>o.registerMutationListener(Rt,c=>{o.update(()=>{for(const[f,d]of c){const p=tt(f);p&&Tm(p)&&d==="created"&&Rp(l,u)}})}),[o,l,u,t]),z.useEffect(()=>{o.update(()=>{ul?ul=!1:Rp(l,u,t)})},[o,l,u,t]),z.useEffect(()=>{o.registerCommand(fl,()=>s1(s,l,u,e,t),cc)},[o,s,l,u,e,t]),o.registerUpdateListener(({editorState:c})=>{l1(c,e)}),null}function Rp(n,e,t){const o=Sc(t),s=Nc(t);if(!o||!s)return;const l=Ie().getChildren(),u=ZE(l,n,o),c=oS(l,u),f=QE(c,!!u,o);if(f&&!u||!u)return;iS(c,u,f);const d=nS(c,e,s);!d||d.isSelected()||d.selectNext(0,0)}function s1(n,e,t,o,s){var l;const u=(l=Q())==null?void 0:l.getNodes()[0],c=Sc(s),f=Nc(s);if(!u||!c||!f)return!1;const d=eS(u,c),p=rS(u,f);return ul=!!(d&&+d.getNumber()!==e||p&&+p.getNumber()!==t),ul&&o({bookCode:n,chapterNum:+((d==null?void 0:d.getNumber())??e),verseNum:+((p==null?void 0:p.getNumber())??t)}),!1}const l1=(n,e)=>{n.read(()=>{let t=Ie().getFirstChild();for(;t!==null;){if(t.getType()===Rt.getType()&&Tm(t)){const o=t;e(s=>({...s,bookCode:o==null?void 0:o.__code}));break}t=t.getNextSibling()}})},a1=z.forwardRef(function({usjInput:n,onChange:e,viewOptions:t,nodeOptions:o,scrRef:s,setScrRef:l},u){const c=z.useRef(null),[f,d]=z.useState(n),[p,,v]=FN(f),m={namespace:"ScribeEditor",editable:!0,editorState:void 0,theme:lN,onError(w){throw w},nodes:[wl,ir,...ES]};z.useImperativeHandle(u,()=>({focus(){var w;(w=c.current)==null||w.focus()},setUsj(w){d(w)}}));const b=z.useCallback((w,x)=>{const T=qS.deserializeEditorState(w),O=x.parseEditorState(xp.serializeEditorState(T));console.log({serializedState:O}),T&&(e==null||e(T),v(T))},[e,v]);return G.jsx(G.Fragment,{children:G.jsxs(SC,{initialConfig:m,children:[G.jsx(i1,{}),G.jsx(hE,{contentEditable:G.jsx(AC,{className:"outline-none"}),placeholder:G.jsx(fN,{}),ErrorBoundary:LC}),G.jsx(sN,{scripture:p,nodeOptions:o,editorAdaptor:xp,viewOptions:t}),G.jsx(UC,{onChange:b,ignoreSelectionChange:!0}),G.jsx(cN,{}),G.jsx(BC,{}),G.jsx(CC,{}),G.jsx(VN,{}),G.jsx(KN,{}),G.jsx(o1,{viewOptions:t,scrRef:s,setScrRef:l})]})})});var cl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */cl.exports;(function(n,e){(function(){var t,o="4.17.21",s=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",v=1,m=2,b=4,w=1,x=2,T=1,O=2,C=4,A=8,D=16,U=32,M=64,q=128,B=256,$=512,ie=30,Y="...",ve=800,oe=16,de=1,Ae=2,pe=3,we=1/0,qe=9007199254740991,pn=17976931348623157e292,tn=NaN,He=4294967295,ki=He-1,Ti=He>>>1,Lr=[["ary",q],["bind",T],["bindKey",O],["curry",A],["curryRight",D],["flip",$],["partial",U],["partialRight",M],["rearg",B]],Pt="[object Arguments]",yt="[object Array]",Ci="[object AsyncFunction]",Ft="[object Boolean]",nn="[object Date]",qo="[object DOMException]",Bo="[object Error]",Wo="[object Function]",Ac="[object GeneratorFunction]",qt="[object Map]",Ei="[object Number]",d_="[object Null]",gn="[object Object]",Oc="[object Promise]",h_="[object Proxy]",Si="[object RegExp]",Bt="[object Set]",Ni="[object String]",Uo="[object Symbol]",p_="[object Undefined]",Ai="[object WeakMap]",g_="[object WeakSet]",Oi="[object ArrayBuffer]",Dr="[object DataView]",El="[object Float32Array]",Sl="[object Float64Array]",Nl="[object Int8Array]",Al="[object Int16Array]",Ol="[object Int32Array]",Ll="[object Uint8Array]",Dl="[object Uint8ClampedArray]",Il="[object Uint16Array]",Ml="[object Uint32Array]",m_=/\b__p \+= '';/g,__=/\b(__p \+=) '' \+/g,y_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lc=/&(?:amp|lt|gt|quot|#39);/g,Dc=/[&<>"']/g,v_=RegExp(Lc.source),b_=RegExp(Dc.source),w_=/<%-([\s\S]+?)%>/g,x_=/<%([\s\S]+?)%>/g,Ic=/<%=([\s\S]+?)%>/g,k_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T_=/^\w*$/,C_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rl=/[\\^$.*+?()[\]{}|]/g,E_=RegExp(Rl.source),Pl=/^\s+/,S_=/\s/,N_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,A_=/\{\n\/\* \[wrapped with (.+)\] \*/,O_=/,? & /,L_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,D_=/[()=,{}\[\]\/\s]/,I_=/\\(\\)?/g,M_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mc=/\w*$/,R_=/^[-+]0x[0-9a-f]+$/i,P_=/^0b[01]+$/i,F_=/^\[object .+?Constructor\]$/,q_=/^0o[0-7]+$/i,B_=/^(?:0|[1-9]\d*)$/,W_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zo=/($^)/,U_=/['\n\r\u2028\u2029\\]/g,$o="\\ud800-\\udfff",z_="\\u0300-\\u036f",$_="\\ufe20-\\ufe2f",H_="\\u20d0-\\u20ff",Rc=z_+$_+H_,Pc="\\u2700-\\u27bf",Fc="a-z\\xdf-\\xf6\\xf8-\\xff",V_="\\xac\\xb1\\xd7\\xf7",K_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",G_="\\u2000-\\u206f",J_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qc="A-Z\\xc0-\\xd6\\xd8-\\xde",Bc="\\ufe0e\\ufe0f",Wc=V_+K_+G_+J_,Fl="['’]",j_="["+$o+"]",Uc="["+Wc+"]",Ho="["+Rc+"]",zc="\\d+",X_="["+Pc+"]",$c="["+Fc+"]",Hc="[^"+$o+Wc+zc+Pc+Fc+qc+"]",ql="\\ud83c[\\udffb-\\udfff]",Y_="(?:"+Ho+"|"+ql+")",Vc="[^"+$o+"]",Bl="(?:\\ud83c[\\udde6-\\uddff]){2}",Wl="[\\ud800-\\udbff][\\udc00-\\udfff]",Ir="["+qc+"]",Kc="\\u200d",Gc="(?:"+$c+"|"+Hc+")",Z_="(?:"+Ir+"|"+Hc+")",Jc="(?:"+Fl+"(?:d|ll|m|re|s|t|ve))?",jc="(?:"+Fl+"(?:D|LL|M|RE|S|T|VE))?",Xc=Y_+"?",Yc="["+Bc+"]?",Q_="(?:"+Kc+"(?:"+[Vc,Bl,Wl].join("|")+")"+Yc+Xc+")*",ey="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ty="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zc=Yc+Xc+Q_,ny="(?:"+[X_,Bl,Wl].join("|")+")"+Zc,ry="(?:"+[Vc+Ho+"?",Ho,Bl,Wl,j_].join("|")+")",iy=RegExp(Fl,"g"),oy=RegExp(Ho,"g"),Ul=RegExp(ql+"(?="+ql+")|"+ry+Zc,"g"),sy=RegExp([Ir+"?"+$c+"+"+Jc+"(?="+[Uc,Ir,"$"].join("|")+")",Z_+"+"+jc+"(?="+[Uc,Ir+Gc,"$"].join("|")+")",Ir+"?"+Gc+"+"+Jc,Ir+"+"+jc,ty,ey,zc,ny].join("|"),"g"),ly=RegExp("["+Kc+$o+Rc+Bc+"]"),ay=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cy=-1,Se={};Se[El]=Se[Sl]=Se[Nl]=Se[Al]=Se[Ol]=Se[Ll]=Se[Dl]=Se[Il]=Se[Ml]=!0,Se[Pt]=Se[yt]=Se[Oi]=Se[Ft]=Se[Dr]=Se[nn]=Se[Bo]=Se[Wo]=Se[qt]=Se[Ei]=Se[gn]=Se[Si]=Se[Bt]=Se[Ni]=Se[Ai]=!1;var Ee={};Ee[Pt]=Ee[yt]=Ee[Oi]=Ee[Dr]=Ee[Ft]=Ee[nn]=Ee[El]=Ee[Sl]=Ee[Nl]=Ee[Al]=Ee[Ol]=Ee[qt]=Ee[Ei]=Ee[gn]=Ee[Si]=Ee[Bt]=Ee[Ni]=Ee[Uo]=Ee[Ll]=Ee[Dl]=Ee[Il]=Ee[Ml]=!0,Ee[Bo]=Ee[Wo]=Ee[Ai]=!1;var fy={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},dy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},py={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gy=parseFloat,my=parseInt,Qc=typeof Ki=="object"&&Ki&&Ki.Object===Object&&Ki,_y=typeof self=="object"&&self&&self.Object===Object&&self,je=Qc||_y||Function("return this")(),zl=e&&!e.nodeType&&e,fr=zl&&!0&&n&&!n.nodeType&&n,ef=fr&&fr.exports===zl,$l=ef&&Qc.process,St=function(){try{var S=fr&&fr.require&&fr.require("util").types;return S||$l&&$l.binding&&$l.binding("util")}catch{}}(),tf=St&&St.isArrayBuffer,nf=St&&St.isDate,rf=St&&St.isMap,of=St&&St.isRegExp,sf=St&&St.isSet,lf=St&&St.isTypedArray;function vt(S,I,L){switch(L.length){case 0:return S.call(I);case 1:return S.call(I,L[0]);case 2:return S.call(I,L[0],L[1]);case 3:return S.call(I,L[0],L[1],L[2])}return S.apply(I,L)}function yy(S,I,L,X){for(var se=-1,_e=S==null?0:S.length;++se<_e;){var Be=S[se];I(X,Be,L(Be),S)}return X}function Nt(S,I){for(var L=-1,X=S==null?0:S.length;++L<X&&I(S[L],L,S)!==!1;);return S}function vy(S,I){for(var L=S==null?0:S.length;L--&&I(S[L],L,S)!==!1;);return S}function af(S,I){for(var L=-1,X=S==null?0:S.length;++L<X;)if(!I(S[L],L,S))return!1;return!0}function Fn(S,I){for(var L=-1,X=S==null?0:S.length,se=0,_e=[];++L<X;){var Be=S[L];I(Be,L,S)&&(_e[se++]=Be)}return _e}function Vo(S,I){var L=S==null?0:S.length;return!!L&&Mr(S,I,0)>-1}function Hl(S,I,L){for(var X=-1,se=S==null?0:S.length;++X<se;)if(L(I,S[X]))return!0;return!1}function Oe(S,I){for(var L=-1,X=S==null?0:S.length,se=Array(X);++L<X;)se[L]=I(S[L],L,S);return se}function qn(S,I){for(var L=-1,X=I.length,se=S.length;++L<X;)S[se+L]=I[L];return S}function Vl(S,I,L,X){var se=-1,_e=S==null?0:S.length;for(X&&_e&&(L=S[++se]);++se<_e;)L=I(L,S[se],se,S);return L}function by(S,I,L,X){var se=S==null?0:S.length;for(X&&se&&(L=S[--se]);se--;)L=I(L,S[se],se,S);return L}function Kl(S,I){for(var L=-1,X=S==null?0:S.length;++L<X;)if(I(S[L],L,S))return!0;return!1}var wy=Gl("length");function xy(S){return S.split("")}function ky(S){return S.match(L_)||[]}function uf(S,I,L){var X;return L(S,function(se,_e,Be){if(I(se,_e,Be))return X=_e,!1}),X}function Ko(S,I,L,X){for(var se=S.length,_e=L+(X?1:-1);X?_e--:++_e<se;)if(I(S[_e],_e,S))return _e;return-1}function Mr(S,I,L){return I===I?Ry(S,I,L):Ko(S,cf,L)}function Ty(S,I,L,X){for(var se=L-1,_e=S.length;++se<_e;)if(X(S[se],I))return se;return-1}function cf(S){return S!==S}function ff(S,I){var L=S==null?0:S.length;return L?jl(S,I)/L:tn}function Gl(S){return function(I){return I==null?t:I[S]}}function Jl(S){return function(I){return S==null?t:S[I]}}function df(S,I,L,X,se){return se(S,function(_e,Be,Te){L=X?(X=!1,_e):I(L,_e,Be,Te)}),L}function Cy(S,I){var L=S.length;for(S.sort(I);L--;)S[L]=S[L].value;return S}function jl(S,I){for(var L,X=-1,se=S.length;++X<se;){var _e=I(S[X]);_e!==t&&(L=L===t?_e:L+_e)}return L}function Xl(S,I){for(var L=-1,X=Array(S);++L<S;)X[L]=I(L);return X}function Ey(S,I){return Oe(I,function(L){return[L,S[L]]})}function hf(S){return S&&S.slice(0,_f(S)+1).replace(Pl,"")}function bt(S){return function(I){return S(I)}}function Yl(S,I){return Oe(I,function(L){return S[L]})}function Li(S,I){return S.has(I)}function pf(S,I){for(var L=-1,X=S.length;++L<X&&Mr(I,S[L],0)>-1;);return L}function gf(S,I){for(var L=S.length;L--&&Mr(I,S[L],0)>-1;);return L}function Sy(S,I){for(var L=S.length,X=0;L--;)S[L]===I&&++X;return X}var Ny=Jl(fy),Ay=Jl(dy);function Oy(S){return"\\"+py[S]}function Ly(S,I){return S==null?t:S[I]}function Rr(S){return ly.test(S)}function Dy(S){return ay.test(S)}function Iy(S){for(var I,L=[];!(I=S.next()).done;)L.push(I.value);return L}function Zl(S){var I=-1,L=Array(S.size);return S.forEach(function(X,se){L[++I]=[se,X]}),L}function mf(S,I){return function(L){return S(I(L))}}function Bn(S,I){for(var L=-1,X=S.length,se=0,_e=[];++L<X;){var Be=S[L];(Be===I||Be===p)&&(S[L]=p,_e[se++]=L)}return _e}function Go(S){var I=-1,L=Array(S.size);return S.forEach(function(X){L[++I]=X}),L}function My(S){var I=-1,L=Array(S.size);return S.forEach(function(X){L[++I]=[X,X]}),L}function Ry(S,I,L){for(var X=L-1,se=S.length;++X<se;)if(S[X]===I)return X;return-1}function Py(S,I,L){for(var X=L+1;X--;)if(S[X]===I)return X;return X}function Pr(S){return Rr(S)?qy(S):wy(S)}function Wt(S){return Rr(S)?By(S):xy(S)}function _f(S){for(var I=S.length;I--&&S_.test(S.charAt(I)););return I}var Fy=Jl(hy);function qy(S){for(var I=Ul.lastIndex=0;Ul.test(S);)++I;return I}function By(S){return S.match(Ul)||[]}function Wy(S){return S.match(sy)||[]}var Uy=function S(I){I=I==null?je:Fr.defaults(je.Object(),I,Fr.pick(je,uy));var L=I.Array,X=I.Date,se=I.Error,_e=I.Function,Be=I.Math,Te=I.Object,Ql=I.RegExp,zy=I.String,At=I.TypeError,Jo=L.prototype,$y=_e.prototype,qr=Te.prototype,jo=I["__core-js_shared__"],Xo=$y.toString,xe=qr.hasOwnProperty,Hy=0,yf=function(){var r=/[^.]+$/.exec(jo&&jo.keys&&jo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Yo=qr.toString,Vy=Xo.call(Te),Ky=je._,Gy=Ql("^"+Xo.call(xe).replace(Rl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=ef?I.Buffer:t,Wn=I.Symbol,Qo=I.Uint8Array,vf=Zo?Zo.allocUnsafe:t,es=mf(Te.getPrototypeOf,Te),bf=Te.create,wf=qr.propertyIsEnumerable,ts=Jo.splice,xf=Wn?Wn.isConcatSpreadable:t,Di=Wn?Wn.iterator:t,dr=Wn?Wn.toStringTag:t,ns=function(){try{var r=_r(Te,"defineProperty");return r({},"",{}),r}catch{}}(),Jy=I.clearTimeout!==je.clearTimeout&&I.clearTimeout,jy=X&&X.now!==je.Date.now&&X.now,Xy=I.setTimeout!==je.setTimeout&&I.setTimeout,rs=Be.ceil,is=Be.floor,ea=Te.getOwnPropertySymbols,Yy=Zo?Zo.isBuffer:t,kf=I.isFinite,Zy=Jo.join,Qy=mf(Te.keys,Te),We=Be.max,Qe=Be.min,ev=X.now,tv=I.parseInt,Tf=Be.random,nv=Jo.reverse,ta=_r(I,"DataView"),Ii=_r(I,"Map"),na=_r(I,"Promise"),Br=_r(I,"Set"),Mi=_r(I,"WeakMap"),Ri=_r(Te,"create"),os=Mi&&new Mi,Wr={},rv=yr(ta),iv=yr(Ii),ov=yr(na),sv=yr(Br),lv=yr(Mi),ss=Wn?Wn.prototype:t,Pi=ss?ss.valueOf:t,Cf=ss?ss.toString:t;function _(r){if(De(r)&&!le(r)&&!(r instanceof ge)){if(r instanceof Ot)return r;if(xe.call(r,"__wrapped__"))return Ed(r)}return new Ot(r)}var Ur=function(){function r(){}return function(i){if(!Le(i))return{};if(bf)return bf(i);r.prototype=i;var a=new r;return r.prototype=t,a}}();function ls(){}function Ot(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=t}_.templateSettings={escape:w_,evaluate:x_,interpolate:Ic,variable:"",imports:{_}},_.prototype=ls.prototype,_.prototype.constructor=_,Ot.prototype=Ur(ls.prototype),Ot.prototype.constructor=Ot;function ge(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=He,this.__views__=[]}function av(){var r=new ge(this.__wrapped__);return r.__actions__=ut(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=ut(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=ut(this.__views__),r}function uv(){if(this.__filtered__){var r=new ge(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function cv(){var r=this.__wrapped__.value(),i=this.__dir__,a=le(r),h=i<0,g=a?r.length:0,y=xb(0,g,this.__views__),k=y.start,E=y.end,N=E-k,R=h?E:k-1,P=this.__iteratees__,W=P.length,K=0,Z=Qe(N,this.__takeCount__);if(!a||!h&&g==N&&Z==N)return jf(r,this.__actions__);var ne=[];e:for(;N--&&K<Z;){R+=i;for(var ue=-1,re=r[R];++ue<W;){var he=P[ue],me=he.iteratee,kt=he.type,st=me(re);if(kt==Ae)re=st;else if(!st){if(kt==de)continue e;break e}}ne[K++]=re}return ne}ge.prototype=Ur(ls.prototype),ge.prototype.constructor=ge;function hr(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var h=r[i];this.set(h[0],h[1])}}function fv(){this.__data__=Ri?Ri(null):{},this.size=0}function dv(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function hv(r){var i=this.__data__;if(Ri){var a=i[r];return a===f?t:a}return xe.call(i,r)?i[r]:t}function pv(r){var i=this.__data__;return Ri?i[r]!==t:xe.call(i,r)}function gv(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=Ri&&i===t?f:i,this}hr.prototype.clear=fv,hr.prototype.delete=dv,hr.prototype.get=hv,hr.prototype.has=pv,hr.prototype.set=gv;function mn(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var h=r[i];this.set(h[0],h[1])}}function mv(){this.__data__=[],this.size=0}function _v(r){var i=this.__data__,a=as(i,r);if(a<0)return!1;var h=i.length-1;return a==h?i.pop():ts.call(i,a,1),--this.size,!0}function yv(r){var i=this.__data__,a=as(i,r);return a<0?t:i[a][1]}function vv(r){return as(this.__data__,r)>-1}function bv(r,i){var a=this.__data__,h=as(a,r);return h<0?(++this.size,a.push([r,i])):a[h][1]=i,this}mn.prototype.clear=mv,mn.prototype.delete=_v,mn.prototype.get=yv,mn.prototype.has=vv,mn.prototype.set=bv;function _n(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var h=r[i];this.set(h[0],h[1])}}function wv(){this.size=0,this.__data__={hash:new hr,map:new(Ii||mn),string:new hr}}function xv(r){var i=bs(this,r).delete(r);return this.size-=i?1:0,i}function kv(r){return bs(this,r).get(r)}function Tv(r){return bs(this,r).has(r)}function Cv(r,i){var a=bs(this,r),h=a.size;return a.set(r,i),this.size+=a.size==h?0:1,this}_n.prototype.clear=wv,_n.prototype.delete=xv,_n.prototype.get=kv,_n.prototype.has=Tv,_n.prototype.set=Cv;function pr(r){var i=-1,a=r==null?0:r.length;for(this.__data__=new _n;++i<a;)this.add(r[i])}function Ev(r){return this.__data__.set(r,f),this}function Sv(r){return this.__data__.has(r)}pr.prototype.add=pr.prototype.push=Ev,pr.prototype.has=Sv;function Ut(r){var i=this.__data__=new mn(r);this.size=i.size}function Nv(){this.__data__=new mn,this.size=0}function Av(r){var i=this.__data__,a=i.delete(r);return this.size=i.size,a}function Ov(r){return this.__data__.get(r)}function Lv(r){return this.__data__.has(r)}function Dv(r,i){var a=this.__data__;if(a instanceof mn){var h=a.__data__;if(!Ii||h.length<s-1)return h.push([r,i]),this.size=++a.size,this;a=this.__data__=new _n(h)}return a.set(r,i),this.size=a.size,this}Ut.prototype.clear=Nv,Ut.prototype.delete=Av,Ut.prototype.get=Ov,Ut.prototype.has=Lv,Ut.prototype.set=Dv;function Ef(r,i){var a=le(r),h=!a&&vr(r),g=!a&&!h&&Vn(r),y=!a&&!h&&!g&&Vr(r),k=a||h||g||y,E=k?Xl(r.length,zy):[],N=E.length;for(var R in r)(i||xe.call(r,R))&&!(k&&(R=="length"||g&&(R=="offset"||R=="parent")||y&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||wn(R,N)))&&E.push(R);return E}function Sf(r){var i=r.length;return i?r[ha(0,i-1)]:t}function Iv(r,i){return ws(ut(r),gr(i,0,r.length))}function Mv(r){return ws(ut(r))}function ra(r,i,a){(a!==t&&!zt(r[i],a)||a===t&&!(i in r))&&yn(r,i,a)}function Fi(r,i,a){var h=r[i];(!(xe.call(r,i)&&zt(h,a))||a===t&&!(i in r))&&yn(r,i,a)}function as(r,i){for(var a=r.length;a--;)if(zt(r[a][0],i))return a;return-1}function Rv(r,i,a,h){return Un(r,function(g,y,k){i(h,g,a(g),k)}),h}function Nf(r,i){return r&&on(i,Ve(i),r)}function Pv(r,i){return r&&on(i,ft(i),r)}function yn(r,i,a){i=="__proto__"&&ns?ns(r,i,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[i]=a}function ia(r,i){for(var a=-1,h=i.length,g=L(h),y=r==null;++a<h;)g[a]=y?t:qa(r,i[a]);return g}function gr(r,i,a){return r===r&&(a!==t&&(r=r<=a?r:a),i!==t&&(r=r>=i?r:i)),r}function Lt(r,i,a,h,g,y){var k,E=i&v,N=i&m,R=i&b;if(a&&(k=g?a(r,h,g,y):a(r)),k!==t)return k;if(!Le(r))return r;var P=le(r);if(P){if(k=Tb(r),!E)return ut(r,k)}else{var W=et(r),K=W==Wo||W==Ac;if(Vn(r))return Zf(r,E);if(W==gn||W==Pt||K&&!g){if(k=N||K?{}:_d(r),!E)return N?hb(r,Pv(k,r)):db(r,Nf(k,r))}else{if(!Ee[W])return g?r:{};k=Cb(r,W,E)}}y||(y=new Ut);var Z=y.get(r);if(Z)return Z;y.set(r,k),Kd(r)?r.forEach(function(re){k.add(Lt(re,i,a,re,r,y))}):Hd(r)&&r.forEach(function(re,he){k.set(he,Lt(re,i,a,he,r,y))});var ne=R?N?Ta:ka:N?ft:Ve,ue=P?t:ne(r);return Nt(ue||r,function(re,he){ue&&(he=re,re=r[he]),Fi(k,he,Lt(re,i,a,he,r,y))}),k}function Fv(r){var i=Ve(r);return function(a){return Af(a,r,i)}}function Af(r,i,a){var h=a.length;if(r==null)return!h;for(r=Te(r);h--;){var g=a[h],y=i[g],k=r[g];if(k===t&&!(g in r)||!y(k))return!1}return!0}function Of(r,i,a){if(typeof r!="function")throw new At(u);return Hi(function(){r.apply(t,a)},i)}function qi(r,i,a,h){var g=-1,y=Vo,k=!0,E=r.length,N=[],R=i.length;if(!E)return N;a&&(i=Oe(i,bt(a))),h?(y=Hl,k=!1):i.length>=s&&(y=Li,k=!1,i=new pr(i));e:for(;++g<E;){var P=r[g],W=a==null?P:a(P);if(P=h||P!==0?P:0,k&&W===W){for(var K=R;K--;)if(i[K]===W)continue e;N.push(P)}else y(i,W,h)||N.push(P)}return N}var Un=rd(rn),Lf=rd(sa,!0);function qv(r,i){var a=!0;return Un(r,function(h,g,y){return a=!!i(h,g,y),a}),a}function us(r,i,a){for(var h=-1,g=r.length;++h<g;){var y=r[h],k=i(y);if(k!=null&&(E===t?k===k&&!xt(k):a(k,E)))var E=k,N=y}return N}function Bv(r,i,a,h){var g=r.length;for(a=ae(a),a<0&&(a=-a>g?0:g+a),h=h===t||h>g?g:ae(h),h<0&&(h+=g),h=a>h?0:Jd(h);a<h;)r[a++]=i;return r}function Df(r,i){var a=[];return Un(r,function(h,g,y){i(h,g,y)&&a.push(h)}),a}function Xe(r,i,a,h,g){var y=-1,k=r.length;for(a||(a=Sb),g||(g=[]);++y<k;){var E=r[y];i>0&&a(E)?i>1?Xe(E,i-1,a,h,g):qn(g,E):h||(g[g.length]=E)}return g}var oa=id(),If=id(!0);function rn(r,i){return r&&oa(r,i,Ve)}function sa(r,i){return r&&If(r,i,Ve)}function cs(r,i){return Fn(i,function(a){return xn(r[a])})}function mr(r,i){i=$n(i,r);for(var a=0,h=i.length;r!=null&&a<h;)r=r[sn(i[a++])];return a&&a==h?r:t}function Mf(r,i,a){var h=i(r);return le(r)?h:qn(h,a(r))}function it(r){return r==null?r===t?p_:d_:dr&&dr in Te(r)?wb(r):Mb(r)}function la(r,i){return r>i}function Wv(r,i){return r!=null&&xe.call(r,i)}function Uv(r,i){return r!=null&&i in Te(r)}function zv(r,i,a){return r>=Qe(i,a)&&r<We(i,a)}function aa(r,i,a){for(var h=a?Hl:Vo,g=r[0].length,y=r.length,k=y,E=L(y),N=1/0,R=[];k--;){var P=r[k];k&&i&&(P=Oe(P,bt(i))),N=Qe(P.length,N),E[k]=!a&&(i||g>=120&&P.length>=120)?new pr(k&&P):t}P=r[0];var W=-1,K=E[0];e:for(;++W<g&&R.length<N;){var Z=P[W],ne=i?i(Z):Z;if(Z=a||Z!==0?Z:0,!(K?Li(K,ne):h(R,ne,a))){for(k=y;--k;){var ue=E[k];if(!(ue?Li(ue,ne):h(r[k],ne,a)))continue e}K&&K.push(ne),R.push(Z)}}return R}function $v(r,i,a,h){return rn(r,function(g,y,k){i(h,a(g),y,k)}),h}function Bi(r,i,a){i=$n(i,r),r=wd(r,i);var h=r==null?r:r[sn(It(i))];return h==null?t:vt(h,r,a)}function Rf(r){return De(r)&&it(r)==Pt}function Hv(r){return De(r)&&it(r)==Oi}function Vv(r){return De(r)&&it(r)==nn}function Wi(r,i,a,h,g){return r===i?!0:r==null||i==null||!De(r)&&!De(i)?r!==r&&i!==i:Kv(r,i,a,h,Wi,g)}function Kv(r,i,a,h,g,y){var k=le(r),E=le(i),N=k?yt:et(r),R=E?yt:et(i);N=N==Pt?gn:N,R=R==Pt?gn:R;var P=N==gn,W=R==gn,K=N==R;if(K&&Vn(r)){if(!Vn(i))return!1;k=!0,P=!1}if(K&&!P)return y||(y=new Ut),k||Vr(r)?pd(r,i,a,h,g,y):vb(r,i,N,a,h,g,y);if(!(a&w)){var Z=P&&xe.call(r,"__wrapped__"),ne=W&&xe.call(i,"__wrapped__");if(Z||ne){var ue=Z?r.value():r,re=ne?i.value():i;return y||(y=new Ut),g(ue,re,a,h,y)}}return K?(y||(y=new Ut),bb(r,i,a,h,g,y)):!1}function Gv(r){return De(r)&&et(r)==qt}function ua(r,i,a,h){var g=a.length,y=g,k=!h;if(r==null)return!y;for(r=Te(r);g--;){var E=a[g];if(k&&E[2]?E[1]!==r[E[0]]:!(E[0]in r))return!1}for(;++g<y;){E=a[g];var N=E[0],R=r[N],P=E[1];if(k&&E[2]){if(R===t&&!(N in r))return!1}else{var W=new Ut;if(h)var K=h(R,P,N,r,i,W);if(!(K===t?Wi(P,R,w|x,h,W):K))return!1}}return!0}function Pf(r){if(!Le(r)||Ab(r))return!1;var i=xn(r)?Gy:F_;return i.test(yr(r))}function Jv(r){return De(r)&&it(r)==Si}function jv(r){return De(r)&&et(r)==Bt}function Xv(r){return De(r)&&Ss(r.length)&&!!Se[it(r)]}function Ff(r){return typeof r=="function"?r:r==null?dt:typeof r=="object"?le(r)?Wf(r[0],r[1]):Bf(r):oh(r)}function ca(r){if(!$i(r))return Qy(r);var i=[];for(var a in Te(r))xe.call(r,a)&&a!="constructor"&&i.push(a);return i}function Yv(r){if(!Le(r))return Ib(r);var i=$i(r),a=[];for(var h in r)h=="constructor"&&(i||!xe.call(r,h))||a.push(h);return a}function fa(r,i){return r<i}function qf(r,i){var a=-1,h=ct(r)?L(r.length):[];return Un(r,function(g,y,k){h[++a]=i(g,y,k)}),h}function Bf(r){var i=Ea(r);return i.length==1&&i[0][2]?vd(i[0][0],i[0][1]):function(a){return a===r||ua(a,r,i)}}function Wf(r,i){return Na(r)&&yd(i)?vd(sn(r),i):function(a){var h=qa(a,r);return h===t&&h===i?Ba(a,r):Wi(i,h,w|x)}}function fs(r,i,a,h,g){r!==i&&oa(i,function(y,k){if(g||(g=new Ut),Le(y))Zv(r,i,k,a,fs,h,g);else{var E=h?h(Oa(r,k),y,k+"",r,i,g):t;E===t&&(E=y),ra(r,k,E)}},ft)}function Zv(r,i,a,h,g,y,k){var E=Oa(r,a),N=Oa(i,a),R=k.get(N);if(R){ra(r,a,R);return}var P=y?y(E,N,a+"",r,i,k):t,W=P===t;if(W){var K=le(N),Z=!K&&Vn(N),ne=!K&&!Z&&Vr(N);P=N,K||Z||ne?le(E)?P=E:Me(E)?P=ut(E):Z?(W=!1,P=Zf(N,!0)):ne?(W=!1,P=Qf(N,!0)):P=[]:Vi(N)||vr(N)?(P=E,vr(E)?P=jd(E):(!Le(E)||xn(E))&&(P=_d(N))):W=!1}W&&(k.set(N,P),g(P,N,h,y,k),k.delete(N)),ra(r,a,P)}function Uf(r,i){var a=r.length;if(a)return i+=i<0?a:0,wn(i,a)?r[i]:t}function zf(r,i,a){i.length?i=Oe(i,function(y){return le(y)?function(k){return mr(k,y.length===1?y[0]:y)}:y}):i=[dt];var h=-1;i=Oe(i,bt(te()));var g=qf(r,function(y,k,E){var N=Oe(i,function(R){return R(y)});return{criteria:N,index:++h,value:y}});return Cy(g,function(y,k){return fb(y,k,a)})}function Qv(r,i){return $f(r,i,function(a,h){return Ba(r,h)})}function $f(r,i,a){for(var h=-1,g=i.length,y={};++h<g;){var k=i[h],E=mr(r,k);a(E,k)&&Ui(y,$n(k,r),E)}return y}function eb(r){return function(i){return mr(i,r)}}function da(r,i,a,h){var g=h?Ty:Mr,y=-1,k=i.length,E=r;for(r===i&&(i=ut(i)),a&&(E=Oe(r,bt(a)));++y<k;)for(var N=0,R=i[y],P=a?a(R):R;(N=g(E,P,N,h))>-1;)E!==r&&ts.call(E,N,1),ts.call(r,N,1);return r}function Hf(r,i){for(var a=r?i.length:0,h=a-1;a--;){var g=i[a];if(a==h||g!==y){var y=g;wn(g)?ts.call(r,g,1):ma(r,g)}}return r}function ha(r,i){return r+is(Tf()*(i-r+1))}function tb(r,i,a,h){for(var g=-1,y=We(rs((i-r)/(a||1)),0),k=L(y);y--;)k[h?y:++g]=r,r+=a;return k}function pa(r,i){var a="";if(!r||i<1||i>qe)return a;do i%2&&(a+=r),i=is(i/2),i&&(r+=r);while(i);return a}function fe(r,i){return La(bd(r,i,dt),r+"")}function nb(r){return Sf(Kr(r))}function rb(r,i){var a=Kr(r);return ws(a,gr(i,0,a.length))}function Ui(r,i,a,h){if(!Le(r))return r;i=$n(i,r);for(var g=-1,y=i.length,k=y-1,E=r;E!=null&&++g<y;){var N=sn(i[g]),R=a;if(N==="__proto__"||N==="constructor"||N==="prototype")return r;if(g!=k){var P=E[N];R=h?h(P,N,E):t,R===t&&(R=Le(P)?P:wn(i[g+1])?[]:{})}Fi(E,N,R),E=E[N]}return r}var Vf=os?function(r,i){return os.set(r,i),r}:dt,ib=ns?function(r,i){return ns(r,"toString",{configurable:!0,enumerable:!1,value:Ua(i),writable:!0})}:dt;function ob(r){return ws(Kr(r))}function Dt(r,i,a){var h=-1,g=r.length;i<0&&(i=-i>g?0:g+i),a=a>g?g:a,a<0&&(a+=g),g=i>a?0:a-i>>>0,i>>>=0;for(var y=L(g);++h<g;)y[h]=r[h+i];return y}function sb(r,i){var a;return Un(r,function(h,g,y){return a=i(h,g,y),!a}),!!a}function ds(r,i,a){var h=0,g=r==null?h:r.length;if(typeof i=="number"&&i===i&&g<=Ti){for(;h<g;){var y=h+g>>>1,k=r[y];k!==null&&!xt(k)&&(a?k<=i:k<i)?h=y+1:g=y}return g}return ga(r,i,dt,a)}function ga(r,i,a,h){var g=0,y=r==null?0:r.length;if(y===0)return 0;i=a(i);for(var k=i!==i,E=i===null,N=xt(i),R=i===t;g<y;){var P=is((g+y)/2),W=a(r[P]),K=W!==t,Z=W===null,ne=W===W,ue=xt(W);if(k)var re=h||ne;else R?re=ne&&(h||K):E?re=ne&&K&&(h||!Z):N?re=ne&&K&&!Z&&(h||!ue):Z||ue?re=!1:re=h?W<=i:W<i;re?g=P+1:y=P}return Qe(y,ki)}function Kf(r,i){for(var a=-1,h=r.length,g=0,y=[];++a<h;){var k=r[a],E=i?i(k):k;if(!a||!zt(E,N)){var N=E;y[g++]=k===0?0:k}}return y}function Gf(r){return typeof r=="number"?r:xt(r)?tn:+r}function wt(r){if(typeof r=="string")return r;if(le(r))return Oe(r,wt)+"";if(xt(r))return Cf?Cf.call(r):"";var i=r+"";return i=="0"&&1/r==-we?"-0":i}function zn(r,i,a){var h=-1,g=Vo,y=r.length,k=!0,E=[],N=E;if(a)k=!1,g=Hl;else if(y>=s){var R=i?null:_b(r);if(R)return Go(R);k=!1,g=Li,N=new pr}else N=i?[]:E;e:for(;++h<y;){var P=r[h],W=i?i(P):P;if(P=a||P!==0?P:0,k&&W===W){for(var K=N.length;K--;)if(N[K]===W)continue e;i&&N.push(W),E.push(P)}else g(N,W,a)||(N!==E&&N.push(W),E.push(P))}return E}function ma(r,i){return i=$n(i,r),r=wd(r,i),r==null||delete r[sn(It(i))]}function Jf(r,i,a,h){return Ui(r,i,a(mr(r,i)),h)}function hs(r,i,a,h){for(var g=r.length,y=h?g:-1;(h?y--:++y<g)&&i(r[y],y,r););return a?Dt(r,h?0:y,h?y+1:g):Dt(r,h?y+1:0,h?g:y)}function jf(r,i){var a=r;return a instanceof ge&&(a=a.value()),Vl(i,function(h,g){return g.func.apply(g.thisArg,qn([h],g.args))},a)}function _a(r,i,a){var h=r.length;if(h<2)return h?zn(r[0]):[];for(var g=-1,y=L(h);++g<h;)for(var k=r[g],E=-1;++E<h;)E!=g&&(y[g]=qi(y[g]||k,r[E],i,a));return zn(Xe(y,1),i,a)}function Xf(r,i,a){for(var h=-1,g=r.length,y=i.length,k={};++h<g;){var E=h<y?i[h]:t;a(k,r[h],E)}return k}function ya(r){return Me(r)?r:[]}function va(r){return typeof r=="function"?r:dt}function $n(r,i){return le(r)?r:Na(r,i)?[r]:Cd(be(r))}var lb=fe;function Hn(r,i,a){var h=r.length;return a=a===t?h:a,!i&&a>=h?r:Dt(r,i,a)}var Yf=Jy||function(r){return je.clearTimeout(r)};function Zf(r,i){if(i)return r.slice();var a=r.length,h=vf?vf(a):new r.constructor(a);return r.copy(h),h}function ba(r){var i=new r.constructor(r.byteLength);return new Qo(i).set(new Qo(r)),i}function ab(r,i){var a=i?ba(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}function ub(r){var i=new r.constructor(r.source,Mc.exec(r));return i.lastIndex=r.lastIndex,i}function cb(r){return Pi?Te(Pi.call(r)):{}}function Qf(r,i){var a=i?ba(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}function ed(r,i){if(r!==i){var a=r!==t,h=r===null,g=r===r,y=xt(r),k=i!==t,E=i===null,N=i===i,R=xt(i);if(!E&&!R&&!y&&r>i||y&&k&&N&&!E&&!R||h&&k&&N||!a&&N||!g)return 1;if(!h&&!y&&!R&&r<i||R&&a&&g&&!h&&!y||E&&a&&g||!k&&g||!N)return-1}return 0}function fb(r,i,a){for(var h=-1,g=r.criteria,y=i.criteria,k=g.length,E=a.length;++h<k;){var N=ed(g[h],y[h]);if(N){if(h>=E)return N;var R=a[h];return N*(R=="desc"?-1:1)}}return r.index-i.index}function td(r,i,a,h){for(var g=-1,y=r.length,k=a.length,E=-1,N=i.length,R=We(y-k,0),P=L(N+R),W=!h;++E<N;)P[E]=i[E];for(;++g<k;)(W||g<y)&&(P[a[g]]=r[g]);for(;R--;)P[E++]=r[g++];return P}function nd(r,i,a,h){for(var g=-1,y=r.length,k=-1,E=a.length,N=-1,R=i.length,P=We(y-E,0),W=L(P+R),K=!h;++g<P;)W[g]=r[g];for(var Z=g;++N<R;)W[Z+N]=i[N];for(;++k<E;)(K||g<y)&&(W[Z+a[k]]=r[g++]);return W}function ut(r,i){var a=-1,h=r.length;for(i||(i=L(h));++a<h;)i[a]=r[a];return i}function on(r,i,a,h){var g=!a;a||(a={});for(var y=-1,k=i.length;++y<k;){var E=i[y],N=h?h(a[E],r[E],E,a,r):t;N===t&&(N=r[E]),g?yn(a,E,N):Fi(a,E,N)}return a}function db(r,i){return on(r,Sa(r),i)}function hb(r,i){return on(r,gd(r),i)}function ps(r,i){return function(a,h){var g=le(a)?yy:Rv,y=i?i():{};return g(a,r,te(h,2),y)}}function zr(r){return fe(function(i,a){var h=-1,g=a.length,y=g>1?a[g-1]:t,k=g>2?a[2]:t;for(y=r.length>3&&typeof y=="function"?(g--,y):t,k&&ot(a[0],a[1],k)&&(y=g<3?t:y,g=1),i=Te(i);++h<g;){var E=a[h];E&&r(i,E,h,y)}return i})}function rd(r,i){return function(a,h){if(a==null)return a;if(!ct(a))return r(a,h);for(var g=a.length,y=i?g:-1,k=Te(a);(i?y--:++y<g)&&h(k[y],y,k)!==!1;);return a}}function id(r){return function(i,a,h){for(var g=-1,y=Te(i),k=h(i),E=k.length;E--;){var N=k[r?E:++g];if(a(y[N],N,y)===!1)break}return i}}function pb(r,i,a){var h=i&T,g=zi(r);function y(){var k=this&&this!==je&&this instanceof y?g:r;return k.apply(h?a:this,arguments)}return y}function od(r){return function(i){i=be(i);var a=Rr(i)?Wt(i):t,h=a?a[0]:i.charAt(0),g=a?Hn(a,1).join(""):i.slice(1);return h[r]()+g}}function $r(r){return function(i){return Vl(rh(nh(i).replace(iy,"")),r,"")}}function zi(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var a=Ur(r.prototype),h=r.apply(a,i);return Le(h)?h:a}}function gb(r,i,a){var h=zi(r);function g(){for(var y=arguments.length,k=L(y),E=y,N=Hr(g);E--;)k[E]=arguments[E];var R=y<3&&k[0]!==N&&k[y-1]!==N?[]:Bn(k,N);if(y-=R.length,y<a)return cd(r,i,gs,g.placeholder,t,k,R,t,t,a-y);var P=this&&this!==je&&this instanceof g?h:r;return vt(P,this,k)}return g}function sd(r){return function(i,a,h){var g=Te(i);if(!ct(i)){var y=te(a,3);i=Ve(i),a=function(E){return y(g[E],E,g)}}var k=r(i,a,h);return k>-1?g[y?i[k]:k]:t}}function ld(r){return bn(function(i){var a=i.length,h=a,g=Ot.prototype.thru;for(r&&i.reverse();h--;){var y=i[h];if(typeof y!="function")throw new At(u);if(g&&!k&&vs(y)=="wrapper")var k=new Ot([],!0)}for(h=k?h:a;++h<a;){y=i[h];var E=vs(y),N=E=="wrapper"?Ca(y):t;N&&Aa(N[0])&&N[1]==(q|A|U|B)&&!N[4].length&&N[9]==1?k=k[vs(N[0])].apply(k,N[3]):k=y.length==1&&Aa(y)?k[E]():k.thru(y)}return function(){var R=arguments,P=R[0];if(k&&R.length==1&&le(P))return k.plant(P).value();for(var W=0,K=a?i[W].apply(this,R):P;++W<a;)K=i[W].call(this,K);return K}})}function gs(r,i,a,h,g,y,k,E,N,R){var P=i&q,W=i&T,K=i&O,Z=i&(A|D),ne=i&$,ue=K?t:zi(r);function re(){for(var he=arguments.length,me=L(he),kt=he;kt--;)me[kt]=arguments[kt];if(Z)var st=Hr(re),Tt=Sy(me,st);if(h&&(me=td(me,h,g,Z)),y&&(me=nd(me,y,k,Z)),he-=Tt,Z&&he<R){var Re=Bn(me,st);return cd(r,i,gs,re.placeholder,a,me,Re,E,N,R-he)}var $t=W?a:this,Tn=K?$t[r]:r;return he=me.length,E?me=Rb(me,E):ne&&he>1&&me.reverse(),P&&N<he&&(me.length=N),this&&this!==je&&this instanceof re&&(Tn=ue||zi(Tn)),Tn.apply($t,me)}return re}function ad(r,i){return function(a,h){return $v(a,r,i(h),{})}}function ms(r,i){return function(a,h){var g;if(a===t&&h===t)return i;if(a!==t&&(g=a),h!==t){if(g===t)return h;typeof a=="string"||typeof h=="string"?(a=wt(a),h=wt(h)):(a=Gf(a),h=Gf(h)),g=r(a,h)}return g}}function wa(r){return bn(function(i){return i=Oe(i,bt(te())),fe(function(a){var h=this;return r(i,function(g){return vt(g,h,a)})})})}function _s(r,i){i=i===t?" ":wt(i);var a=i.length;if(a<2)return a?pa(i,r):i;var h=pa(i,rs(r/Pr(i)));return Rr(i)?Hn(Wt(h),0,r).join(""):h.slice(0,r)}function mb(r,i,a,h){var g=i&T,y=zi(r);function k(){for(var E=-1,N=arguments.length,R=-1,P=h.length,W=L(P+N),K=this&&this!==je&&this instanceof k?y:r;++R<P;)W[R]=h[R];for(;N--;)W[R++]=arguments[++E];return vt(K,g?a:this,W)}return k}function ud(r){return function(i,a,h){return h&&typeof h!="number"&&ot(i,a,h)&&(a=h=t),i=kn(i),a===t?(a=i,i=0):a=kn(a),h=h===t?i<a?1:-1:kn(h),tb(i,a,h,r)}}function ys(r){return function(i,a){return typeof i=="string"&&typeof a=="string"||(i=Mt(i),a=Mt(a)),r(i,a)}}function cd(r,i,a,h,g,y,k,E,N,R){var P=i&A,W=P?k:t,K=P?t:k,Z=P?y:t,ne=P?t:y;i|=P?U:M,i&=~(P?M:U),i&C||(i&=~(T|O));var ue=[r,i,g,Z,W,ne,K,E,N,R],re=a.apply(t,ue);return Aa(r)&&xd(re,ue),re.placeholder=h,kd(re,r,i)}function xa(r){var i=Be[r];return function(a,h){if(a=Mt(a),h=h==null?0:Qe(ae(h),292),h&&kf(a)){var g=(be(a)+"e").split("e"),y=i(g[0]+"e"+(+g[1]+h));return g=(be(y)+"e").split("e"),+(g[0]+"e"+(+g[1]-h))}return i(a)}}var _b=Br&&1/Go(new Br([,-0]))[1]==we?function(r){return new Br(r)}:Ha;function fd(r){return function(i){var a=et(i);return a==qt?Zl(i):a==Bt?My(i):Ey(i,r(i))}}function vn(r,i,a,h,g,y,k,E){var N=i&O;if(!N&&typeof r!="function")throw new At(u);var R=h?h.length:0;if(R||(i&=~(U|M),h=g=t),k=k===t?k:We(ae(k),0),E=E===t?E:ae(E),R-=g?g.length:0,i&M){var P=h,W=g;h=g=t}var K=N?t:Ca(r),Z=[r,i,a,h,g,P,W,y,k,E];if(K&&Db(Z,K),r=Z[0],i=Z[1],a=Z[2],h=Z[3],g=Z[4],E=Z[9]=Z[9]===t?N?0:r.length:We(Z[9]-R,0),!E&&i&(A|D)&&(i&=~(A|D)),!i||i==T)var ne=pb(r,i,a);else i==A||i==D?ne=gb(r,i,E):(i==U||i==(T|U))&&!g.length?ne=mb(r,i,a,h):ne=gs.apply(t,Z);var ue=K?Vf:xd;return kd(ue(ne,Z),r,i)}function dd(r,i,a,h){return r===t||zt(r,qr[a])&&!xe.call(h,a)?i:r}function hd(r,i,a,h,g,y){return Le(r)&&Le(i)&&(y.set(i,r),fs(r,i,t,hd,y),y.delete(i)),r}function yb(r){return Vi(r)?t:r}function pd(r,i,a,h,g,y){var k=a&w,E=r.length,N=i.length;if(E!=N&&!(k&&N>E))return!1;var R=y.get(r),P=y.get(i);if(R&&P)return R==i&&P==r;var W=-1,K=!0,Z=a&x?new pr:t;for(y.set(r,i),y.set(i,r);++W<E;){var ne=r[W],ue=i[W];if(h)var re=k?h(ue,ne,W,i,r,y):h(ne,ue,W,r,i,y);if(re!==t){if(re)continue;K=!1;break}if(Z){if(!Kl(i,function(he,me){if(!Li(Z,me)&&(ne===he||g(ne,he,a,h,y)))return Z.push(me)})){K=!1;break}}else if(!(ne===ue||g(ne,ue,a,h,y))){K=!1;break}}return y.delete(r),y.delete(i),K}function vb(r,i,a,h,g,y,k){switch(a){case Dr:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case Oi:return!(r.byteLength!=i.byteLength||!y(new Qo(r),new Qo(i)));case Ft:case nn:case Ei:return zt(+r,+i);case Bo:return r.name==i.name&&r.message==i.message;case Si:case Ni:return r==i+"";case qt:var E=Zl;case Bt:var N=h&w;if(E||(E=Go),r.size!=i.size&&!N)return!1;var R=k.get(r);if(R)return R==i;h|=x,k.set(r,i);var P=pd(E(r),E(i),h,g,y,k);return k.delete(r),P;case Uo:if(Pi)return Pi.call(r)==Pi.call(i)}return!1}function bb(r,i,a,h,g,y){var k=a&w,E=ka(r),N=E.length,R=ka(i),P=R.length;if(N!=P&&!k)return!1;for(var W=N;W--;){var K=E[W];if(!(k?K in i:xe.call(i,K)))return!1}var Z=y.get(r),ne=y.get(i);if(Z&&ne)return Z==i&&ne==r;var ue=!0;y.set(r,i),y.set(i,r);for(var re=k;++W<N;){K=E[W];var he=r[K],me=i[K];if(h)var kt=k?h(me,he,K,i,r,y):h(he,me,K,r,i,y);if(!(kt===t?he===me||g(he,me,a,h,y):kt)){ue=!1;break}re||(re=K=="constructor")}if(ue&&!re){var st=r.constructor,Tt=i.constructor;st!=Tt&&"constructor"in r&&"constructor"in i&&!(typeof st=="function"&&st instanceof st&&typeof Tt=="function"&&Tt instanceof Tt)&&(ue=!1)}return y.delete(r),y.delete(i),ue}function bn(r){return La(bd(r,t,Ad),r+"")}function ka(r){return Mf(r,Ve,Sa)}function Ta(r){return Mf(r,ft,gd)}var Ca=os?function(r){return os.get(r)}:Ha;function vs(r){for(var i=r.name+"",a=Wr[i],h=xe.call(Wr,i)?a.length:0;h--;){var g=a[h],y=g.func;if(y==null||y==r)return g.name}return i}function Hr(r){var i=xe.call(_,"placeholder")?_:r;return i.placeholder}function te(){var r=_.iteratee||za;return r=r===za?Ff:r,arguments.length?r(arguments[0],arguments[1]):r}function bs(r,i){var a=r.__data__;return Nb(i)?a[typeof i=="string"?"string":"hash"]:a.map}function Ea(r){for(var i=Ve(r),a=i.length;a--;){var h=i[a],g=r[h];i[a]=[h,g,yd(g)]}return i}function _r(r,i){var a=Ly(r,i);return Pf(a)?a:t}function wb(r){var i=xe.call(r,dr),a=r[dr];try{r[dr]=t;var h=!0}catch{}var g=Yo.call(r);return h&&(i?r[dr]=a:delete r[dr]),g}var Sa=ea?function(r){return r==null?[]:(r=Te(r),Fn(ea(r),function(i){return wf.call(r,i)}))}:Va,gd=ea?function(r){for(var i=[];r;)qn(i,Sa(r)),r=es(r);return i}:Va,et=it;(ta&&et(new ta(new ArrayBuffer(1)))!=Dr||Ii&&et(new Ii)!=qt||na&&et(na.resolve())!=Oc||Br&&et(new Br)!=Bt||Mi&&et(new Mi)!=Ai)&&(et=function(r){var i=it(r),a=i==gn?r.constructor:t,h=a?yr(a):"";if(h)switch(h){case rv:return Dr;case iv:return qt;case ov:return Oc;case sv:return Bt;case lv:return Ai}return i});function xb(r,i,a){for(var h=-1,g=a.length;++h<g;){var y=a[h],k=y.size;switch(y.type){case"drop":r+=k;break;case"dropRight":i-=k;break;case"take":i=Qe(i,r+k);break;case"takeRight":r=We(r,i-k);break}}return{start:r,end:i}}function kb(r){var i=r.match(A_);return i?i[1].split(O_):[]}function md(r,i,a){i=$n(i,r);for(var h=-1,g=i.length,y=!1;++h<g;){var k=sn(i[h]);if(!(y=r!=null&&a(r,k)))break;r=r[k]}return y||++h!=g?y:(g=r==null?0:r.length,!!g&&Ss(g)&&wn(k,g)&&(le(r)||vr(r)))}function Tb(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&xe.call(r,"index")&&(a.index=r.index,a.input=r.input),a}function _d(r){return typeof r.constructor=="function"&&!$i(r)?Ur(es(r)):{}}function Cb(r,i,a){var h=r.constructor;switch(i){case Oi:return ba(r);case Ft:case nn:return new h(+r);case Dr:return ab(r,a);case El:case Sl:case Nl:case Al:case Ol:case Ll:case Dl:case Il:case Ml:return Qf(r,a);case qt:return new h;case Ei:case Ni:return new h(r);case Si:return ub(r);case Bt:return new h;case Uo:return cb(r)}}function Eb(r,i){var a=i.length;if(!a)return r;var h=a-1;return i[h]=(a>1?"& ":"")+i[h],i=i.join(a>2?", ":" "),r.replace(N_,`{
/* [wrapped with `+i+`] */
`)}function Sb(r){return le(r)||vr(r)||!!(xf&&r&&r[xf])}function wn(r,i){var a=typeof r;return i=i??qe,!!i&&(a=="number"||a!="symbol"&&B_.test(r))&&r>-1&&r%1==0&&r<i}function ot(r,i,a){if(!Le(a))return!1;var h=typeof i;return(h=="number"?ct(a)&&wn(i,a.length):h=="string"&&i in a)?zt(a[i],r):!1}function Na(r,i){if(le(r))return!1;var a=typeof r;return a=="number"||a=="symbol"||a=="boolean"||r==null||xt(r)?!0:T_.test(r)||!k_.test(r)||i!=null&&r in Te(i)}function Nb(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Aa(r){var i=vs(r),a=_[i];if(typeof a!="function"||!(i in ge.prototype))return!1;if(r===a)return!0;var h=Ca(a);return!!h&&r===h[0]}function Ab(r){return!!yf&&yf in r}var Ob=jo?xn:Ka;function $i(r){var i=r&&r.constructor,a=typeof i=="function"&&i.prototype||qr;return r===a}function yd(r){return r===r&&!Le(r)}function vd(r,i){return function(a){return a==null?!1:a[r]===i&&(i!==t||r in Te(a))}}function Lb(r){var i=Cs(r,function(h){return a.size===d&&a.clear(),h}),a=i.cache;return i}function Db(r,i){var a=r[1],h=i[1],g=a|h,y=g<(T|O|q),k=h==q&&a==A||h==q&&a==B&&r[7].length<=i[8]||h==(q|B)&&i[7].length<=i[8]&&a==A;if(!(y||k))return r;h&T&&(r[2]=i[2],g|=a&T?0:C);var E=i[3];if(E){var N=r[3];r[3]=N?td(N,E,i[4]):E,r[4]=N?Bn(r[3],p):i[4]}return E=i[5],E&&(N=r[5],r[5]=N?nd(N,E,i[6]):E,r[6]=N?Bn(r[5],p):i[6]),E=i[7],E&&(r[7]=E),h&q&&(r[8]=r[8]==null?i[8]:Qe(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=g,r}function Ib(r){var i=[];if(r!=null)for(var a in Te(r))i.push(a);return i}function Mb(r){return Yo.call(r)}function bd(r,i,a){return i=We(i===t?r.length-1:i,0),function(){for(var h=arguments,g=-1,y=We(h.length-i,0),k=L(y);++g<y;)k[g]=h[i+g];g=-1;for(var E=L(i+1);++g<i;)E[g]=h[g];return E[i]=a(k),vt(r,this,E)}}function wd(r,i){return i.length<2?r:mr(r,Dt(i,0,-1))}function Rb(r,i){for(var a=r.length,h=Qe(i.length,a),g=ut(r);h--;){var y=i[h];r[h]=wn(y,a)?g[y]:t}return r}function Oa(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var xd=Td(Vf),Hi=Xy||function(r,i){return je.setTimeout(r,i)},La=Td(ib);function kd(r,i,a){var h=i+"";return La(r,Eb(h,Pb(kb(h),a)))}function Td(r){var i=0,a=0;return function(){var h=ev(),g=oe-(h-a);if(a=h,g>0){if(++i>=ve)return arguments[0]}else i=0;return r.apply(t,arguments)}}function ws(r,i){var a=-1,h=r.length,g=h-1;for(i=i===t?h:i;++a<i;){var y=ha(a,g),k=r[y];r[y]=r[a],r[a]=k}return r.length=i,r}var Cd=Lb(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(C_,function(a,h,g,y){i.push(g?y.replace(I_,"$1"):h||a)}),i});function sn(r){if(typeof r=="string"||xt(r))return r;var i=r+"";return i=="0"&&1/r==-we?"-0":i}function yr(r){if(r!=null){try{return Xo.call(r)}catch{}try{return r+""}catch{}}return""}function Pb(r,i){return Nt(Lr,function(a){var h="_."+a[0];i&a[1]&&!Vo(r,h)&&r.push(h)}),r.sort()}function Ed(r){if(r instanceof ge)return r.clone();var i=new Ot(r.__wrapped__,r.__chain__);return i.__actions__=ut(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function Fb(r,i,a){(a?ot(r,i,a):i===t)?i=1:i=We(ae(i),0);var h=r==null?0:r.length;if(!h||i<1)return[];for(var g=0,y=0,k=L(rs(h/i));g<h;)k[y++]=Dt(r,g,g+=i);return k}function qb(r){for(var i=-1,a=r==null?0:r.length,h=0,g=[];++i<a;){var y=r[i];y&&(g[h++]=y)}return g}function Bb(){var r=arguments.length;if(!r)return[];for(var i=L(r-1),a=arguments[0],h=r;h--;)i[h-1]=arguments[h];return qn(le(a)?ut(a):[a],Xe(i,1))}var Wb=fe(function(r,i){return Me(r)?qi(r,Xe(i,1,Me,!0)):[]}),Ub=fe(function(r,i){var a=It(i);return Me(a)&&(a=t),Me(r)?qi(r,Xe(i,1,Me,!0),te(a,2)):[]}),zb=fe(function(r,i){var a=It(i);return Me(a)&&(a=t),Me(r)?qi(r,Xe(i,1,Me,!0),t,a):[]});function $b(r,i,a){var h=r==null?0:r.length;return h?(i=a||i===t?1:ae(i),Dt(r,i<0?0:i,h)):[]}function Hb(r,i,a){var h=r==null?0:r.length;return h?(i=a||i===t?1:ae(i),i=h-i,Dt(r,0,i<0?0:i)):[]}function Vb(r,i){return r&&r.length?hs(r,te(i,3),!0,!0):[]}function Kb(r,i){return r&&r.length?hs(r,te(i,3),!0):[]}function Gb(r,i,a,h){var g=r==null?0:r.length;return g?(a&&typeof a!="number"&&ot(r,i,a)&&(a=0,h=g),Bv(r,i,a,h)):[]}function Sd(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=a==null?0:ae(a);return g<0&&(g=We(h+g,0)),Ko(r,te(i,3),g)}function Nd(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=h-1;return a!==t&&(g=ae(a),g=a<0?We(h+g,0):Qe(g,h-1)),Ko(r,te(i,3),g,!0)}function Ad(r){var i=r==null?0:r.length;return i?Xe(r,1):[]}function Jb(r){var i=r==null?0:r.length;return i?Xe(r,we):[]}function jb(r,i){var a=r==null?0:r.length;return a?(i=i===t?1:ae(i),Xe(r,i)):[]}function Xb(r){for(var i=-1,a=r==null?0:r.length,h={};++i<a;){var g=r[i];h[g[0]]=g[1]}return h}function Od(r){return r&&r.length?r[0]:t}function Yb(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=a==null?0:ae(a);return g<0&&(g=We(h+g,0)),Mr(r,i,g)}function Zb(r){var i=r==null?0:r.length;return i?Dt(r,0,-1):[]}var Qb=fe(function(r){var i=Oe(r,ya);return i.length&&i[0]===r[0]?aa(i):[]}),ew=fe(function(r){var i=It(r),a=Oe(r,ya);return i===It(a)?i=t:a.pop(),a.length&&a[0]===r[0]?aa(a,te(i,2)):[]}),tw=fe(function(r){var i=It(r),a=Oe(r,ya);return i=typeof i=="function"?i:t,i&&a.pop(),a.length&&a[0]===r[0]?aa(a,t,i):[]});function nw(r,i){return r==null?"":Zy.call(r,i)}function It(r){var i=r==null?0:r.length;return i?r[i-1]:t}function rw(r,i,a){var h=r==null?0:r.length;if(!h)return-1;var g=h;return a!==t&&(g=ae(a),g=g<0?We(h+g,0):Qe(g,h-1)),i===i?Py(r,i,g):Ko(r,cf,g,!0)}function iw(r,i){return r&&r.length?Uf(r,ae(i)):t}var ow=fe(Ld);function Ld(r,i){return r&&r.length&&i&&i.length?da(r,i):r}function sw(r,i,a){return r&&r.length&&i&&i.length?da(r,i,te(a,2)):r}function lw(r,i,a){return r&&r.length&&i&&i.length?da(r,i,t,a):r}var aw=bn(function(r,i){var a=r==null?0:r.length,h=ia(r,i);return Hf(r,Oe(i,function(g){return wn(g,a)?+g:g}).sort(ed)),h});function uw(r,i){var a=[];if(!(r&&r.length))return a;var h=-1,g=[],y=r.length;for(i=te(i,3);++h<y;){var k=r[h];i(k,h,r)&&(a.push(k),g.push(h))}return Hf(r,g),a}function Da(r){return r==null?r:nv.call(r)}function cw(r,i,a){var h=r==null?0:r.length;return h?(a&&typeof a!="number"&&ot(r,i,a)?(i=0,a=h):(i=i==null?0:ae(i),a=a===t?h:ae(a)),Dt(r,i,a)):[]}function fw(r,i){return ds(r,i)}function dw(r,i,a){return ga(r,i,te(a,2))}function hw(r,i){var a=r==null?0:r.length;if(a){var h=ds(r,i);if(h<a&&zt(r[h],i))return h}return-1}function pw(r,i){return ds(r,i,!0)}function gw(r,i,a){return ga(r,i,te(a,2),!0)}function mw(r,i){var a=r==null?0:r.length;if(a){var h=ds(r,i,!0)-1;if(zt(r[h],i))return h}return-1}function _w(r){return r&&r.length?Kf(r):[]}function yw(r,i){return r&&r.length?Kf(r,te(i,2)):[]}function vw(r){var i=r==null?0:r.length;return i?Dt(r,1,i):[]}function bw(r,i,a){return r&&r.length?(i=a||i===t?1:ae(i),Dt(r,0,i<0?0:i)):[]}function ww(r,i,a){var h=r==null?0:r.length;return h?(i=a||i===t?1:ae(i),i=h-i,Dt(r,i<0?0:i,h)):[]}function xw(r,i){return r&&r.length?hs(r,te(i,3),!1,!0):[]}function kw(r,i){return r&&r.length?hs(r,te(i,3)):[]}var Tw=fe(function(r){return zn(Xe(r,1,Me,!0))}),Cw=fe(function(r){var i=It(r);return Me(i)&&(i=t),zn(Xe(r,1,Me,!0),te(i,2))}),Ew=fe(function(r){var i=It(r);return i=typeof i=="function"?i:t,zn(Xe(r,1,Me,!0),t,i)});function Sw(r){return r&&r.length?zn(r):[]}function Nw(r,i){return r&&r.length?zn(r,te(i,2)):[]}function Aw(r,i){return i=typeof i=="function"?i:t,r&&r.length?zn(r,t,i):[]}function Ia(r){if(!(r&&r.length))return[];var i=0;return r=Fn(r,function(a){if(Me(a))return i=We(a.length,i),!0}),Xl(i,function(a){return Oe(r,Gl(a))})}function Dd(r,i){if(!(r&&r.length))return[];var a=Ia(r);return i==null?a:Oe(a,function(h){return vt(i,t,h)})}var Ow=fe(function(r,i){return Me(r)?qi(r,i):[]}),Lw=fe(function(r){return _a(Fn(r,Me))}),Dw=fe(function(r){var i=It(r);return Me(i)&&(i=t),_a(Fn(r,Me),te(i,2))}),Iw=fe(function(r){var i=It(r);return i=typeof i=="function"?i:t,_a(Fn(r,Me),t,i)}),Mw=fe(Ia);function Rw(r,i){return Xf(r||[],i||[],Fi)}function Pw(r,i){return Xf(r||[],i||[],Ui)}var Fw=fe(function(r){var i=r.length,a=i>1?r[i-1]:t;return a=typeof a=="function"?(r.pop(),a):t,Dd(r,a)});function Id(r){var i=_(r);return i.__chain__=!0,i}function qw(r,i){return i(r),r}function xs(r,i){return i(r)}var Bw=bn(function(r){var i=r.length,a=i?r[0]:0,h=this.__wrapped__,g=function(y){return ia(y,r)};return i>1||this.__actions__.length||!(h instanceof ge)||!wn(a)?this.thru(g):(h=h.slice(a,+a+(i?1:0)),h.__actions__.push({func:xs,args:[g],thisArg:t}),new Ot(h,this.__chain__).thru(function(y){return i&&!y.length&&y.push(t),y}))});function Ww(){return Id(this)}function Uw(){return new Ot(this.value(),this.__chain__)}function zw(){this.__values__===t&&(this.__values__=Gd(this.value()));var r=this.__index__>=this.__values__.length,i=r?t:this.__values__[this.__index__++];return{done:r,value:i}}function $w(){return this}function Hw(r){for(var i,a=this;a instanceof ls;){var h=Ed(a);h.__index__=0,h.__values__=t,i?g.__wrapped__=h:i=h;var g=h;a=a.__wrapped__}return g.__wrapped__=r,i}function Vw(){var r=this.__wrapped__;if(r instanceof ge){var i=r;return this.__actions__.length&&(i=new ge(this)),i=i.reverse(),i.__actions__.push({func:xs,args:[Da],thisArg:t}),new Ot(i,this.__chain__)}return this.thru(Da)}function Kw(){return jf(this.__wrapped__,this.__actions__)}var Gw=ps(function(r,i,a){xe.call(r,a)?++r[a]:yn(r,a,1)});function Jw(r,i,a){var h=le(r)?af:qv;return a&&ot(r,i,a)&&(i=t),h(r,te(i,3))}function jw(r,i){var a=le(r)?Fn:Df;return a(r,te(i,3))}var Xw=sd(Sd),Yw=sd(Nd);function Zw(r,i){return Xe(ks(r,i),1)}function Qw(r,i){return Xe(ks(r,i),we)}function e0(r,i,a){return a=a===t?1:ae(a),Xe(ks(r,i),a)}function Md(r,i){var a=le(r)?Nt:Un;return a(r,te(i,3))}function Rd(r,i){var a=le(r)?vy:Lf;return a(r,te(i,3))}var t0=ps(function(r,i,a){xe.call(r,a)?r[a].push(i):yn(r,a,[i])});function n0(r,i,a,h){r=ct(r)?r:Kr(r),a=a&&!h?ae(a):0;var g=r.length;return a<0&&(a=We(g+a,0)),Ns(r)?a<=g&&r.indexOf(i,a)>-1:!!g&&Mr(r,i,a)>-1}var r0=fe(function(r,i,a){var h=-1,g=typeof i=="function",y=ct(r)?L(r.length):[];return Un(r,function(k){y[++h]=g?vt(i,k,a):Bi(k,i,a)}),y}),i0=ps(function(r,i,a){yn(r,a,i)});function ks(r,i){var a=le(r)?Oe:qf;return a(r,te(i,3))}function o0(r,i,a,h){return r==null?[]:(le(i)||(i=i==null?[]:[i]),a=h?t:a,le(a)||(a=a==null?[]:[a]),zf(r,i,a))}var s0=ps(function(r,i,a){r[a?0:1].push(i)},function(){return[[],[]]});function l0(r,i,a){var h=le(r)?Vl:df,g=arguments.length<3;return h(r,te(i,4),a,g,Un)}function a0(r,i,a){var h=le(r)?by:df,g=arguments.length<3;return h(r,te(i,4),a,g,Lf)}function u0(r,i){var a=le(r)?Fn:Df;return a(r,Es(te(i,3)))}function c0(r){var i=le(r)?Sf:nb;return i(r)}function f0(r,i,a){(a?ot(r,i,a):i===t)?i=1:i=ae(i);var h=le(r)?Iv:rb;return h(r,i)}function d0(r){var i=le(r)?Mv:ob;return i(r)}function h0(r){if(r==null)return 0;if(ct(r))return Ns(r)?Pr(r):r.length;var i=et(r);return i==qt||i==Bt?r.size:ca(r).length}function p0(r,i,a){var h=le(r)?Kl:sb;return a&&ot(r,i,a)&&(i=t),h(r,te(i,3))}var g0=fe(function(r,i){if(r==null)return[];var a=i.length;return a>1&&ot(r,i[0],i[1])?i=[]:a>2&&ot(i[0],i[1],i[2])&&(i=[i[0]]),zf(r,Xe(i,1),[])}),Ts=jy||function(){return je.Date.now()};function m0(r,i){if(typeof i!="function")throw new At(u);return r=ae(r),function(){if(--r<1)return i.apply(this,arguments)}}function Pd(r,i,a){return i=a?t:i,i=r&&i==null?r.length:i,vn(r,q,t,t,t,t,i)}function Fd(r,i){var a;if(typeof i!="function")throw new At(u);return r=ae(r),function(){return--r>0&&(a=i.apply(this,arguments)),r<=1&&(i=t),a}}var Ma=fe(function(r,i,a){var h=T;if(a.length){var g=Bn(a,Hr(Ma));h|=U}return vn(r,h,i,a,g)}),qd=fe(function(r,i,a){var h=T|O;if(a.length){var g=Bn(a,Hr(qd));h|=U}return vn(i,h,r,a,g)});function Bd(r,i,a){i=a?t:i;var h=vn(r,A,t,t,t,t,t,i);return h.placeholder=Bd.placeholder,h}function Wd(r,i,a){i=a?t:i;var h=vn(r,D,t,t,t,t,t,i);return h.placeholder=Wd.placeholder,h}function Ud(r,i,a){var h,g,y,k,E,N,R=0,P=!1,W=!1,K=!0;if(typeof r!="function")throw new At(u);i=Mt(i)||0,Le(a)&&(P=!!a.leading,W="maxWait"in a,y=W?We(Mt(a.maxWait)||0,i):y,K="trailing"in a?!!a.trailing:K);function Z(Re){var $t=h,Tn=g;return h=g=t,R=Re,k=r.apply(Tn,$t),k}function ne(Re){return R=Re,E=Hi(he,i),P?Z(Re):k}function ue(Re){var $t=Re-N,Tn=Re-R,sh=i-$t;return W?Qe(sh,y-Tn):sh}function re(Re){var $t=Re-N,Tn=Re-R;return N===t||$t>=i||$t<0||W&&Tn>=y}function he(){var Re=Ts();if(re(Re))return me(Re);E=Hi(he,ue(Re))}function me(Re){return E=t,K&&h?Z(Re):(h=g=t,k)}function kt(){E!==t&&Yf(E),R=0,h=N=g=E=t}function st(){return E===t?k:me(Ts())}function Tt(){var Re=Ts(),$t=re(Re);if(h=arguments,g=this,N=Re,$t){if(E===t)return ne(N);if(W)return Yf(E),E=Hi(he,i),Z(N)}return E===t&&(E=Hi(he,i)),k}return Tt.cancel=kt,Tt.flush=st,Tt}var _0=fe(function(r,i){return Of(r,1,i)}),y0=fe(function(r,i,a){return Of(r,Mt(i)||0,a)});function v0(r){return vn(r,$)}function Cs(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new At(u);var a=function(){var h=arguments,g=i?i.apply(this,h):h[0],y=a.cache;if(y.has(g))return y.get(g);var k=r.apply(this,h);return a.cache=y.set(g,k)||y,k};return a.cache=new(Cs.Cache||_n),a}Cs.Cache=_n;function Es(r){if(typeof r!="function")throw new At(u);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function b0(r){return Fd(2,r)}var w0=lb(function(r,i){i=i.length==1&&le(i[0])?Oe(i[0],bt(te())):Oe(Xe(i,1),bt(te()));var a=i.length;return fe(function(h){for(var g=-1,y=Qe(h.length,a);++g<y;)h[g]=i[g].call(this,h[g]);return vt(r,this,h)})}),Ra=fe(function(r,i){var a=Bn(i,Hr(Ra));return vn(r,U,t,i,a)}),zd=fe(function(r,i){var a=Bn(i,Hr(zd));return vn(r,M,t,i,a)}),x0=bn(function(r,i){return vn(r,B,t,t,t,i)});function k0(r,i){if(typeof r!="function")throw new At(u);return i=i===t?i:ae(i),fe(r,i)}function T0(r,i){if(typeof r!="function")throw new At(u);return i=i==null?0:We(ae(i),0),fe(function(a){var h=a[i],g=Hn(a,0,i);return h&&qn(g,h),vt(r,this,g)})}function C0(r,i,a){var h=!0,g=!0;if(typeof r!="function")throw new At(u);return Le(a)&&(h="leading"in a?!!a.leading:h,g="trailing"in a?!!a.trailing:g),Ud(r,i,{leading:h,maxWait:i,trailing:g})}function E0(r){return Pd(r,1)}function S0(r,i){return Ra(va(i),r)}function N0(){if(!arguments.length)return[];var r=arguments[0];return le(r)?r:[r]}function A0(r){return Lt(r,b)}function O0(r,i){return i=typeof i=="function"?i:t,Lt(r,b,i)}function L0(r){return Lt(r,v|b)}function D0(r,i){return i=typeof i=="function"?i:t,Lt(r,v|b,i)}function I0(r,i){return i==null||Af(r,i,Ve(i))}function zt(r,i){return r===i||r!==r&&i!==i}var M0=ys(la),R0=ys(function(r,i){return r>=i}),vr=Rf(function(){return arguments}())?Rf:function(r){return De(r)&&xe.call(r,"callee")&&!wf.call(r,"callee")},le=L.isArray,P0=tf?bt(tf):Hv;function ct(r){return r!=null&&Ss(r.length)&&!xn(r)}function Me(r){return De(r)&&ct(r)}function F0(r){return r===!0||r===!1||De(r)&&it(r)==Ft}var Vn=Yy||Ka,q0=nf?bt(nf):Vv;function B0(r){return De(r)&&r.nodeType===1&&!Vi(r)}function W0(r){if(r==null)return!0;if(ct(r)&&(le(r)||typeof r=="string"||typeof r.splice=="function"||Vn(r)||Vr(r)||vr(r)))return!r.length;var i=et(r);if(i==qt||i==Bt)return!r.size;if($i(r))return!ca(r).length;for(var a in r)if(xe.call(r,a))return!1;return!0}function U0(r,i){return Wi(r,i)}function z0(r,i,a){a=typeof a=="function"?a:t;var h=a?a(r,i):t;return h===t?Wi(r,i,t,a):!!h}function Pa(r){if(!De(r))return!1;var i=it(r);return i==Bo||i==qo||typeof r.message=="string"&&typeof r.name=="string"&&!Vi(r)}function $0(r){return typeof r=="number"&&kf(r)}function xn(r){if(!Le(r))return!1;var i=it(r);return i==Wo||i==Ac||i==Ci||i==h_}function $d(r){return typeof r=="number"&&r==ae(r)}function Ss(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=qe}function Le(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function De(r){return r!=null&&typeof r=="object"}var Hd=rf?bt(rf):Gv;function H0(r,i){return r===i||ua(r,i,Ea(i))}function V0(r,i,a){return a=typeof a=="function"?a:t,ua(r,i,Ea(i),a)}function K0(r){return Vd(r)&&r!=+r}function G0(r){if(Ob(r))throw new se(l);return Pf(r)}function J0(r){return r===null}function j0(r){return r==null}function Vd(r){return typeof r=="number"||De(r)&&it(r)==Ei}function Vi(r){if(!De(r)||it(r)!=gn)return!1;var i=es(r);if(i===null)return!0;var a=xe.call(i,"constructor")&&i.constructor;return typeof a=="function"&&a instanceof a&&Xo.call(a)==Vy}var Fa=of?bt(of):Jv;function X0(r){return $d(r)&&r>=-qe&&r<=qe}var Kd=sf?bt(sf):jv;function Ns(r){return typeof r=="string"||!le(r)&&De(r)&&it(r)==Ni}function xt(r){return typeof r=="symbol"||De(r)&&it(r)==Uo}var Vr=lf?bt(lf):Xv;function Y0(r){return r===t}function Z0(r){return De(r)&&et(r)==Ai}function Q0(r){return De(r)&&it(r)==g_}var ex=ys(fa),tx=ys(function(r,i){return r<=i});function Gd(r){if(!r)return[];if(ct(r))return Ns(r)?Wt(r):ut(r);if(Di&&r[Di])return Iy(r[Di]());var i=et(r),a=i==qt?Zl:i==Bt?Go:Kr;return a(r)}function kn(r){if(!r)return r===0?r:0;if(r=Mt(r),r===we||r===-we){var i=r<0?-1:1;return i*pn}return r===r?r:0}function ae(r){var i=kn(r),a=i%1;return i===i?a?i-a:i:0}function Jd(r){return r?gr(ae(r),0,He):0}function Mt(r){if(typeof r=="number")return r;if(xt(r))return tn;if(Le(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=Le(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=hf(r);var a=P_.test(r);return a||q_.test(r)?my(r.slice(2),a?2:8):R_.test(r)?tn:+r}function jd(r){return on(r,ft(r))}function nx(r){return r?gr(ae(r),-qe,qe):r===0?r:0}function be(r){return r==null?"":wt(r)}var rx=zr(function(r,i){if($i(i)||ct(i)){on(i,Ve(i),r);return}for(var a in i)xe.call(i,a)&&Fi(r,a,i[a])}),Xd=zr(function(r,i){on(i,ft(i),r)}),As=zr(function(r,i,a,h){on(i,ft(i),r,h)}),ix=zr(function(r,i,a,h){on(i,Ve(i),r,h)}),ox=bn(ia);function sx(r,i){var a=Ur(r);return i==null?a:Nf(a,i)}var lx=fe(function(r,i){r=Te(r);var a=-1,h=i.length,g=h>2?i[2]:t;for(g&&ot(i[0],i[1],g)&&(h=1);++a<h;)for(var y=i[a],k=ft(y),E=-1,N=k.length;++E<N;){var R=k[E],P=r[R];(P===t||zt(P,qr[R])&&!xe.call(r,R))&&(r[R]=y[R])}return r}),ax=fe(function(r){return r.push(t,hd),vt(Yd,t,r)});function ux(r,i){return uf(r,te(i,3),rn)}function cx(r,i){return uf(r,te(i,3),sa)}function fx(r,i){return r==null?r:oa(r,te(i,3),ft)}function dx(r,i){return r==null?r:If(r,te(i,3),ft)}function hx(r,i){return r&&rn(r,te(i,3))}function px(r,i){return r&&sa(r,te(i,3))}function gx(r){return r==null?[]:cs(r,Ve(r))}function mx(r){return r==null?[]:cs(r,ft(r))}function qa(r,i,a){var h=r==null?t:mr(r,i);return h===t?a:h}function _x(r,i){return r!=null&&md(r,i,Wv)}function Ba(r,i){return r!=null&&md(r,i,Uv)}var yx=ad(function(r,i,a){i!=null&&typeof i.toString!="function"&&(i=Yo.call(i)),r[i]=a},Ua(dt)),vx=ad(function(r,i,a){i!=null&&typeof i.toString!="function"&&(i=Yo.call(i)),xe.call(r,i)?r[i].push(a):r[i]=[a]},te),bx=fe(Bi);function Ve(r){return ct(r)?Ef(r):ca(r)}function ft(r){return ct(r)?Ef(r,!0):Yv(r)}function wx(r,i){var a={};return i=te(i,3),rn(r,function(h,g,y){yn(a,i(h,g,y),h)}),a}function xx(r,i){var a={};return i=te(i,3),rn(r,function(h,g,y){yn(a,g,i(h,g,y))}),a}var kx=zr(function(r,i,a){fs(r,i,a)}),Yd=zr(function(r,i,a,h){fs(r,i,a,h)}),Tx=bn(function(r,i){var a={};if(r==null)return a;var h=!1;i=Oe(i,function(y){return y=$n(y,r),h||(h=y.length>1),y}),on(r,Ta(r),a),h&&(a=Lt(a,v|m|b,yb));for(var g=i.length;g--;)ma(a,i[g]);return a});function Cx(r,i){return Zd(r,Es(te(i)))}var Ex=bn(function(r,i){return r==null?{}:Qv(r,i)});function Zd(r,i){if(r==null)return{};var a=Oe(Ta(r),function(h){return[h]});return i=te(i),$f(r,a,function(h,g){return i(h,g[0])})}function Sx(r,i,a){i=$n(i,r);var h=-1,g=i.length;for(g||(g=1,r=t);++h<g;){var y=r==null?t:r[sn(i[h])];y===t&&(h=g,y=a),r=xn(y)?y.call(r):y}return r}function Nx(r,i,a){return r==null?r:Ui(r,i,a)}function Ax(r,i,a,h){return h=typeof h=="function"?h:t,r==null?r:Ui(r,i,a,h)}var Qd=fd(Ve),eh=fd(ft);function Ox(r,i,a){var h=le(r),g=h||Vn(r)||Vr(r);if(i=te(i,4),a==null){var y=r&&r.constructor;g?a=h?new y:[]:Le(r)?a=xn(y)?Ur(es(r)):{}:a={}}return(g?Nt:rn)(r,function(k,E,N){return i(a,k,E,N)}),a}function Lx(r,i){return r==null?!0:ma(r,i)}function Dx(r,i,a){return r==null?r:Jf(r,i,va(a))}function Ix(r,i,a,h){return h=typeof h=="function"?h:t,r==null?r:Jf(r,i,va(a),h)}function Kr(r){return r==null?[]:Yl(r,Ve(r))}function Mx(r){return r==null?[]:Yl(r,ft(r))}function Rx(r,i,a){return a===t&&(a=i,i=t),a!==t&&(a=Mt(a),a=a===a?a:0),i!==t&&(i=Mt(i),i=i===i?i:0),gr(Mt(r),i,a)}function Px(r,i,a){return i=kn(i),a===t?(a=i,i=0):a=kn(a),r=Mt(r),zv(r,i,a)}function Fx(r,i,a){if(a&&typeof a!="boolean"&&ot(r,i,a)&&(i=a=t),a===t&&(typeof i=="boolean"?(a=i,i=t):typeof r=="boolean"&&(a=r,r=t)),r===t&&i===t?(r=0,i=1):(r=kn(r),i===t?(i=r,r=0):i=kn(i)),r>i){var h=r;r=i,i=h}if(a||r%1||i%1){var g=Tf();return Qe(r+g*(i-r+gy("1e-"+((g+"").length-1))),i)}return ha(r,i)}var qx=$r(function(r,i,a){return i=i.toLowerCase(),r+(a?th(i):i)});function th(r){return Wa(be(r).toLowerCase())}function nh(r){return r=be(r),r&&r.replace(W_,Ny).replace(oy,"")}function Bx(r,i,a){r=be(r),i=wt(i);var h=r.length;a=a===t?h:gr(ae(a),0,h);var g=a;return a-=i.length,a>=0&&r.slice(a,g)==i}function Wx(r){return r=be(r),r&&b_.test(r)?r.replace(Dc,Ay):r}function Ux(r){return r=be(r),r&&E_.test(r)?r.replace(Rl,"\\$&"):r}var zx=$r(function(r,i,a){return r+(a?"-":"")+i.toLowerCase()}),$x=$r(function(r,i,a){return r+(a?" ":"")+i.toLowerCase()}),Hx=od("toLowerCase");function Vx(r,i,a){r=be(r),i=ae(i);var h=i?Pr(r):0;if(!i||h>=i)return r;var g=(i-h)/2;return _s(is(g),a)+r+_s(rs(g),a)}function Kx(r,i,a){r=be(r),i=ae(i);var h=i?Pr(r):0;return i&&h<i?r+_s(i-h,a):r}function Gx(r,i,a){r=be(r),i=ae(i);var h=i?Pr(r):0;return i&&h<i?_s(i-h,a)+r:r}function Jx(r,i,a){return a||i==null?i=0:i&&(i=+i),tv(be(r).replace(Pl,""),i||0)}function jx(r,i,a){return(a?ot(r,i,a):i===t)?i=1:i=ae(i),pa(be(r),i)}function Xx(){var r=arguments,i=be(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var Yx=$r(function(r,i,a){return r+(a?"_":"")+i.toLowerCase()});function Zx(r,i,a){return a&&typeof a!="number"&&ot(r,i,a)&&(i=a=t),a=a===t?He:a>>>0,a?(r=be(r),r&&(typeof i=="string"||i!=null&&!Fa(i))&&(i=wt(i),!i&&Rr(r))?Hn(Wt(r),0,a):r.split(i,a)):[]}var Qx=$r(function(r,i,a){return r+(a?" ":"")+Wa(i)});function ek(r,i,a){return r=be(r),a=a==null?0:gr(ae(a),0,r.length),i=wt(i),r.slice(a,a+i.length)==i}function tk(r,i,a){var h=_.templateSettings;a&&ot(r,i,a)&&(i=t),r=be(r),i=As({},i,h,dd);var g=As({},i.imports,h.imports,dd),y=Ve(g),k=Yl(g,y),E,N,R=0,P=i.interpolate||zo,W="__p += '",K=Ql((i.escape||zo).source+"|"+P.source+"|"+(P===Ic?M_:zo).source+"|"+(i.evaluate||zo).source+"|$","g"),Z="//# sourceURL="+(xe.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cy+"]")+`
`;r.replace(K,function(re,he,me,kt,st,Tt){return me||(me=kt),W+=r.slice(R,Tt).replace(U_,Oy),he&&(E=!0,W+=`' +
__e(`+he+`) +
'`),st&&(N=!0,W+=`';
`+st+`;
__p += '`),me&&(W+=`' +
((__t = (`+me+`)) == null ? '' : __t) +
'`),R=Tt+re.length,re}),W+=`';
`;var ne=xe.call(i,"variable")&&i.variable;if(!ne)W=`with (obj) {
`+W+`
}
`;else if(D_.test(ne))throw new se(c);W=(N?W.replace(m_,""):W).replace(__,"$1").replace(y_,"$1;"),W="function("+(ne||"obj")+`) {
`+(ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(E?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var ue=ih(function(){return _e(y,Z+"return "+W).apply(t,k)});if(ue.source=W,Pa(ue))throw ue;return ue}function nk(r){return be(r).toLowerCase()}function rk(r){return be(r).toUpperCase()}function ik(r,i,a){if(r=be(r),r&&(a||i===t))return hf(r);if(!r||!(i=wt(i)))return r;var h=Wt(r),g=Wt(i),y=pf(h,g),k=gf(h,g)+1;return Hn(h,y,k).join("")}function ok(r,i,a){if(r=be(r),r&&(a||i===t))return r.slice(0,_f(r)+1);if(!r||!(i=wt(i)))return r;var h=Wt(r),g=gf(h,Wt(i))+1;return Hn(h,0,g).join("")}function sk(r,i,a){if(r=be(r),r&&(a||i===t))return r.replace(Pl,"");if(!r||!(i=wt(i)))return r;var h=Wt(r),g=pf(h,Wt(i));return Hn(h,g).join("")}function lk(r,i){var a=ie,h=Y;if(Le(i)){var g="separator"in i?i.separator:g;a="length"in i?ae(i.length):a,h="omission"in i?wt(i.omission):h}r=be(r);var y=r.length;if(Rr(r)){var k=Wt(r);y=k.length}if(a>=y)return r;var E=a-Pr(h);if(E<1)return h;var N=k?Hn(k,0,E).join(""):r.slice(0,E);if(g===t)return N+h;if(k&&(E+=N.length-E),Fa(g)){if(r.slice(E).search(g)){var R,P=N;for(g.global||(g=Ql(g.source,be(Mc.exec(g))+"g")),g.lastIndex=0;R=g.exec(P);)var W=R.index;N=N.slice(0,W===t?E:W)}}else if(r.indexOf(wt(g),E)!=E){var K=N.lastIndexOf(g);K>-1&&(N=N.slice(0,K))}return N+h}function ak(r){return r=be(r),r&&v_.test(r)?r.replace(Lc,Fy):r}var uk=$r(function(r,i,a){return r+(a?" ":"")+i.toUpperCase()}),Wa=od("toUpperCase");function rh(r,i,a){return r=be(r),i=a?t:i,i===t?Dy(r)?Wy(r):ky(r):r.match(i)||[]}var ih=fe(function(r,i){try{return vt(r,t,i)}catch(a){return Pa(a)?a:new se(a)}}),ck=bn(function(r,i){return Nt(i,function(a){a=sn(a),yn(r,a,Ma(r[a],r))}),r});function fk(r){var i=r==null?0:r.length,a=te();return r=i?Oe(r,function(h){if(typeof h[1]!="function")throw new At(u);return[a(h[0]),h[1]]}):[],fe(function(h){for(var g=-1;++g<i;){var y=r[g];if(vt(y[0],this,h))return vt(y[1],this,h)}})}function dk(r){return Fv(Lt(r,v))}function Ua(r){return function(){return r}}function hk(r,i){return r==null||r!==r?i:r}var pk=ld(),gk=ld(!0);function dt(r){return r}function za(r){return Ff(typeof r=="function"?r:Lt(r,v))}function mk(r){return Bf(Lt(r,v))}function _k(r,i){return Wf(r,Lt(i,v))}var yk=fe(function(r,i){return function(a){return Bi(a,r,i)}}),vk=fe(function(r,i){return function(a){return Bi(r,a,i)}});function $a(r,i,a){var h=Ve(i),g=cs(i,h);a==null&&!(Le(i)&&(g.length||!h.length))&&(a=i,i=r,r=this,g=cs(i,Ve(i)));var y=!(Le(a)&&"chain"in a)||!!a.chain,k=xn(r);return Nt(g,function(E){var N=i[E];r[E]=N,k&&(r.prototype[E]=function(){var R=this.__chain__;if(y||R){var P=r(this.__wrapped__),W=P.__actions__=ut(this.__actions__);return W.push({func:N,args:arguments,thisArg:r}),P.__chain__=R,P}return N.apply(r,qn([this.value()],arguments))})}),r}function bk(){return je._===this&&(je._=Ky),this}function Ha(){}function wk(r){return r=ae(r),fe(function(i){return Uf(i,r)})}var xk=wa(Oe),kk=wa(af),Tk=wa(Kl);function oh(r){return Na(r)?Gl(sn(r)):eb(r)}function Ck(r){return function(i){return r==null?t:mr(r,i)}}var Ek=ud(),Sk=ud(!0);function Va(){return[]}function Ka(){return!1}function Nk(){return{}}function Ak(){return""}function Ok(){return!0}function Lk(r,i){if(r=ae(r),r<1||r>qe)return[];var a=He,h=Qe(r,He);i=te(i),r-=He;for(var g=Xl(h,i);++a<r;)i(a);return g}function Dk(r){return le(r)?Oe(r,sn):xt(r)?[r]:ut(Cd(be(r)))}function Ik(r){var i=++Hy;return be(r)+i}var Mk=ms(function(r,i){return r+i},0),Rk=xa("ceil"),Pk=ms(function(r,i){return r/i},1),Fk=xa("floor");function qk(r){return r&&r.length?us(r,dt,la):t}function Bk(r,i){return r&&r.length?us(r,te(i,2),la):t}function Wk(r){return ff(r,dt)}function Uk(r,i){return ff(r,te(i,2))}function zk(r){return r&&r.length?us(r,dt,fa):t}function $k(r,i){return r&&r.length?us(r,te(i,2),fa):t}var Hk=ms(function(r,i){return r*i},1),Vk=xa("round"),Kk=ms(function(r,i){return r-i},0);function Gk(r){return r&&r.length?jl(r,dt):0}function Jk(r,i){return r&&r.length?jl(r,te(i,2)):0}return _.after=m0,_.ary=Pd,_.assign=rx,_.assignIn=Xd,_.assignInWith=As,_.assignWith=ix,_.at=ox,_.before=Fd,_.bind=Ma,_.bindAll=ck,_.bindKey=qd,_.castArray=N0,_.chain=Id,_.chunk=Fb,_.compact=qb,_.concat=Bb,_.cond=fk,_.conforms=dk,_.constant=Ua,_.countBy=Gw,_.create=sx,_.curry=Bd,_.curryRight=Wd,_.debounce=Ud,_.defaults=lx,_.defaultsDeep=ax,_.defer=_0,_.delay=y0,_.difference=Wb,_.differenceBy=Ub,_.differenceWith=zb,_.drop=$b,_.dropRight=Hb,_.dropRightWhile=Vb,_.dropWhile=Kb,_.fill=Gb,_.filter=jw,_.flatMap=Zw,_.flatMapDeep=Qw,_.flatMapDepth=e0,_.flatten=Ad,_.flattenDeep=Jb,_.flattenDepth=jb,_.flip=v0,_.flow=pk,_.flowRight=gk,_.fromPairs=Xb,_.functions=gx,_.functionsIn=mx,_.groupBy=t0,_.initial=Zb,_.intersection=Qb,_.intersectionBy=ew,_.intersectionWith=tw,_.invert=yx,_.invertBy=vx,_.invokeMap=r0,_.iteratee=za,_.keyBy=i0,_.keys=Ve,_.keysIn=ft,_.map=ks,_.mapKeys=wx,_.mapValues=xx,_.matches=mk,_.matchesProperty=_k,_.memoize=Cs,_.merge=kx,_.mergeWith=Yd,_.method=yk,_.methodOf=vk,_.mixin=$a,_.negate=Es,_.nthArg=wk,_.omit=Tx,_.omitBy=Cx,_.once=b0,_.orderBy=o0,_.over=xk,_.overArgs=w0,_.overEvery=kk,_.overSome=Tk,_.partial=Ra,_.partialRight=zd,_.partition=s0,_.pick=Ex,_.pickBy=Zd,_.property=oh,_.propertyOf=Ck,_.pull=ow,_.pullAll=Ld,_.pullAllBy=sw,_.pullAllWith=lw,_.pullAt=aw,_.range=Ek,_.rangeRight=Sk,_.rearg=x0,_.reject=u0,_.remove=uw,_.rest=k0,_.reverse=Da,_.sampleSize=f0,_.set=Nx,_.setWith=Ax,_.shuffle=d0,_.slice=cw,_.sortBy=g0,_.sortedUniq=_w,_.sortedUniqBy=yw,_.split=Zx,_.spread=T0,_.tail=vw,_.take=bw,_.takeRight=ww,_.takeRightWhile=xw,_.takeWhile=kw,_.tap=qw,_.throttle=C0,_.thru=xs,_.toArray=Gd,_.toPairs=Qd,_.toPairsIn=eh,_.toPath=Dk,_.toPlainObject=jd,_.transform=Ox,_.unary=E0,_.union=Tw,_.unionBy=Cw,_.unionWith=Ew,_.uniq=Sw,_.uniqBy=Nw,_.uniqWith=Aw,_.unset=Lx,_.unzip=Ia,_.unzipWith=Dd,_.update=Dx,_.updateWith=Ix,_.values=Kr,_.valuesIn=Mx,_.without=Ow,_.words=rh,_.wrap=S0,_.xor=Lw,_.xorBy=Dw,_.xorWith=Iw,_.zip=Mw,_.zipObject=Rw,_.zipObjectDeep=Pw,_.zipWith=Fw,_.entries=Qd,_.entriesIn=eh,_.extend=Xd,_.extendWith=As,$a(_,_),_.add=Mk,_.attempt=ih,_.camelCase=qx,_.capitalize=th,_.ceil=Rk,_.clamp=Rx,_.clone=A0,_.cloneDeep=L0,_.cloneDeepWith=D0,_.cloneWith=O0,_.conformsTo=I0,_.deburr=nh,_.defaultTo=hk,_.divide=Pk,_.endsWith=Bx,_.eq=zt,_.escape=Wx,_.escapeRegExp=Ux,_.every=Jw,_.find=Xw,_.findIndex=Sd,_.findKey=ux,_.findLast=Yw,_.findLastIndex=Nd,_.findLastKey=cx,_.floor=Fk,_.forEach=Md,_.forEachRight=Rd,_.forIn=fx,_.forInRight=dx,_.forOwn=hx,_.forOwnRight=px,_.get=qa,_.gt=M0,_.gte=R0,_.has=_x,_.hasIn=Ba,_.head=Od,_.identity=dt,_.includes=n0,_.indexOf=Yb,_.inRange=Px,_.invoke=bx,_.isArguments=vr,_.isArray=le,_.isArrayBuffer=P0,_.isArrayLike=ct,_.isArrayLikeObject=Me,_.isBoolean=F0,_.isBuffer=Vn,_.isDate=q0,_.isElement=B0,_.isEmpty=W0,_.isEqual=U0,_.isEqualWith=z0,_.isError=Pa,_.isFinite=$0,_.isFunction=xn,_.isInteger=$d,_.isLength=Ss,_.isMap=Hd,_.isMatch=H0,_.isMatchWith=V0,_.isNaN=K0,_.isNative=G0,_.isNil=j0,_.isNull=J0,_.isNumber=Vd,_.isObject=Le,_.isObjectLike=De,_.isPlainObject=Vi,_.isRegExp=Fa,_.isSafeInteger=X0,_.isSet=Kd,_.isString=Ns,_.isSymbol=xt,_.isTypedArray=Vr,_.isUndefined=Y0,_.isWeakMap=Z0,_.isWeakSet=Q0,_.join=nw,_.kebabCase=zx,_.last=It,_.lastIndexOf=rw,_.lowerCase=$x,_.lowerFirst=Hx,_.lt=ex,_.lte=tx,_.max=qk,_.maxBy=Bk,_.mean=Wk,_.meanBy=Uk,_.min=zk,_.minBy=$k,_.stubArray=Va,_.stubFalse=Ka,_.stubObject=Nk,_.stubString=Ak,_.stubTrue=Ok,_.multiply=Hk,_.nth=iw,_.noConflict=bk,_.noop=Ha,_.now=Ts,_.pad=Vx,_.padEnd=Kx,_.padStart=Gx,_.parseInt=Jx,_.random=Fx,_.reduce=l0,_.reduceRight=a0,_.repeat=jx,_.replace=Xx,_.result=Sx,_.round=Vk,_.runInContext=S,_.sample=c0,_.size=h0,_.snakeCase=Yx,_.some=p0,_.sortedIndex=fw,_.sortedIndexBy=dw,_.sortedIndexOf=hw,_.sortedLastIndex=pw,_.sortedLastIndexBy=gw,_.sortedLastIndexOf=mw,_.startCase=Qx,_.startsWith=ek,_.subtract=Kk,_.sum=Gk,_.sumBy=Jk,_.template=tk,_.times=Lk,_.toFinite=kn,_.toInteger=ae,_.toLength=Jd,_.toLower=nk,_.toNumber=Mt,_.toSafeInteger=nx,_.toString=be,_.toUpper=rk,_.trim=ik,_.trimEnd=ok,_.trimStart=sk,_.truncate=lk,_.unescape=ak,_.uniqueId=Ik,_.upperCase=uk,_.upperFirst=Wa,_.each=Md,_.eachRight=Rd,_.first=Od,$a(_,function(){var r={};return rn(_,function(i,a){xe.call(_.prototype,a)||(r[a]=i)}),r}(),{chain:!1}),_.VERSION=o,Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){_[r].placeholder=_}),Nt(["drop","take"],function(r,i){ge.prototype[r]=function(a){a=a===t?1:We(ae(a),0);var h=this.__filtered__&&!i?new ge(this):this.clone();return h.__filtered__?h.__takeCount__=Qe(a,h.__takeCount__):h.__views__.push({size:Qe(a,He),type:r+(h.__dir__<0?"Right":"")}),h},ge.prototype[r+"Right"]=function(a){return this.reverse()[r](a).reverse()}}),Nt(["filter","map","takeWhile"],function(r,i){var a=i+1,h=a==de||a==pe;ge.prototype[r]=function(g){var y=this.clone();return y.__iteratees__.push({iteratee:te(g,3),type:a}),y.__filtered__=y.__filtered__||h,y}}),Nt(["head","last"],function(r,i){var a="take"+(i?"Right":"");ge.prototype[r]=function(){return this[a](1).value()[0]}}),Nt(["initial","tail"],function(r,i){var a="drop"+(i?"":"Right");ge.prototype[r]=function(){return this.__filtered__?new ge(this):this[a](1)}}),ge.prototype.compact=function(){return this.filter(dt)},ge.prototype.find=function(r){return this.filter(r).head()},ge.prototype.findLast=function(r){return this.reverse().find(r)},ge.prototype.invokeMap=fe(function(r,i){return typeof r=="function"?new ge(this):this.map(function(a){return Bi(a,r,i)})}),ge.prototype.reject=function(r){return this.filter(Es(te(r)))},ge.prototype.slice=function(r,i){r=ae(r);var a=this;return a.__filtered__&&(r>0||i<0)?new ge(a):(r<0?a=a.takeRight(-r):r&&(a=a.drop(r)),i!==t&&(i=ae(i),a=i<0?a.dropRight(-i):a.take(i-r)),a)},ge.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},ge.prototype.toArray=function(){return this.take(He)},rn(ge.prototype,function(r,i){var a=/^(?:filter|find|map|reject)|While$/.test(i),h=/^(?:head|last)$/.test(i),g=_[h?"take"+(i=="last"?"Right":""):i],y=h||/^find/.test(i);g&&(_.prototype[i]=function(){var k=this.__wrapped__,E=h?[1]:arguments,N=k instanceof ge,R=E[0],P=N||le(k),W=function(he){var me=g.apply(_,qn([he],E));return h&&K?me[0]:me};P&&a&&typeof R=="function"&&R.length!=1&&(N=P=!1);var K=this.__chain__,Z=!!this.__actions__.length,ne=y&&!K,ue=N&&!Z;if(!y&&P){k=ue?k:new ge(this);var re=r.apply(k,E);return re.__actions__.push({func:xs,args:[W],thisArg:t}),new Ot(re,K)}return ne&&ue?r.apply(this,E):(re=this.thru(W),ne?h?re.value()[0]:re.value():re)})}),Nt(["pop","push","shift","sort","splice","unshift"],function(r){var i=Jo[r],a=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",h=/^(?:pop|shift)$/.test(r);_.prototype[r]=function(){var g=arguments;if(h&&!this.__chain__){var y=this.value();return i.apply(le(y)?y:[],g)}return this[a](function(k){return i.apply(le(k)?k:[],g)})}}),rn(ge.prototype,function(r,i){var a=_[i];if(a){var h=a.name+"";xe.call(Wr,h)||(Wr[h]=[]),Wr[h].push({name:i,func:a})}}),Wr[gs(t,O).name]=[{name:"wrapper",func:t}],ge.prototype.clone=av,ge.prototype.reverse=uv,ge.prototype.value=cv,_.prototype.at=Bw,_.prototype.chain=Ww,_.prototype.commit=Uw,_.prototype.next=zw,_.prototype.plant=Hw,_.prototype.reverse=Vw,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=Kw,_.prototype.first=_.prototype.head,Di&&(_.prototype[Di]=$w),_},Fr=Uy();fr?((fr.exports=Fr)._=Fr,zl._=Fr):je._=Fr}).call(Ki)})(cl,cl.exports);var u1=cl.exports;const Pp={type:"USJ",version:"0.2.1",content:[]},c1={bookCode:"PSA",chapterNum:1,verseNum:1};function f1(){const[n,e]=z.useState(),[t,o]=z.useState(!0),[s,l]=z.useState(c1),u=z.useRef(null),c=z.useRef(null);z.useEffect(()=>{Os.setMessageListeners(w=>{switch(w.data.type){case"update":{console.log(`received message from extension :${w.data.type}`,w.data),e(w.data.payload.usj);break}case"fileOpened":console.log(`received message from extension :${w.data.type}`);break;case Gi.SCROLL_TO_CHAPTER:l(w.data.payload);break;case Gi.RECEIVE_MESSAGE:console.log(`received message from extension :${w.data.type}`),console.log(w.data.payload),l(w.data.payload);break}})},[]),z.useEffect(()=>{const w=setTimeout(()=>{var x;n&&((x=u.current)==null||x.setUsj(n))},0);return()=>clearTimeout(w)},[n]);const[f]=z.useState(t_),d={[ai]:{onClick:w=>{console.log({e:w})}}},p=z.useMemo(()=>n_(f),[f]),v=async w=>{if(t){o(!1);return}console.log("onChange"),Os.postMessage({type:Gi.updateDocument,payload:{usj:w}}),Os.postMessage({type:Gi.UPDATE_SCR_REF,payload:{scrRef:s}})},m=u1.debounce(v,1e3),b=w=>{c.current!==w&&w!==Pp&&(m(w),c.current=w)};return z.useEffect(()=>{s&&(console.log("scrRef",s),Os.postMessage({type:Gi.UPDATE_SCR_REF,payload:{scrRef:s}})),console.log("message sent to extension",s)},[s]),Jn.jsx("div",{className:"flex-center m-2 flex h-editor justify-center p-8",children:Jn.jsxs("div",{className:"relative w-2/3 overflow-hidden rounded-md border-2 border-secondary",children:[Jn.jsx("div",{className:"left-0 right-0 top-0 z-10 flex items-center justify-between bg-gray-200 px-4 py-2",children:Jn.jsx("span",{className:"text-lg xfont-semibold",children:"Editor"})}),Jn.jsx("div",{children:Jn.jsx(a1,{usjInput:Pp,ref:u,onChange:b,viewOptions:p,nodeOptions:d,scrRef:s,setScrRef:l})})]})})}jk.createRoot(document.getElementById("root")).render(Jn.jsx(Fp.StrictMode,{children:Jn.jsx(f1,{})}));
